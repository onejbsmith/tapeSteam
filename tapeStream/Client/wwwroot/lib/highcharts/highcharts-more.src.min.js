"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/highcharts-more",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}i(e,"Extensions/Pane.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Pointer.js"],e["Core/Utilities.js"],e["Mixins/CenteredSeries.js"]],function(t,e,i,o,a){var s=o.addEvent,r=o.extend,n=o.merge,l=o.pick,h=o.splat;t.prototype.collectionsWithUpdate.push("pane");var p=(d.prototype.init=function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},d.prototype.setOptions=function(t){this.options=t=n(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},d.prototype.render=function(){var t,e,i=this.options,o=this.options.background,a=this.chart.renderer;if(this.group||(this.group=a.g("pane-group").attr({zIndex:i.zIndex||0}).add()),this.updateCenter(),o)for(o=h(o),t=Math.max(o.length,this.background.length||0),e=0;e<t;e++)o[e]&&this.axis?this.renderBackground(n(this.defaultBackgroundOptions,o[e]),e):this.background[e]&&(this.background[e]=this.background[e].destroy(),this.background.splice(e,1))},d.prototype.renderBackground=function(t,e){var i="animate",o={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||r(o,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),i="attr"),this.background[e][i]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(o)},d.prototype.updateCenter=function(t){this.center=(t||this.axis||{}).center=a.getCenter.call(this)},d.prototype.update=function(t,e){n(!0,this.options,t),n(!0,this.chart.options.pane,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)},d);function d(t,e){this.background=void 0,this.center=void 0,this.chart=void 0,this.options=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(t,e)}function c(t,e,i){return Math.sqrt(Math.pow(t-i[0],2)+Math.pow(e-i[1],2))<=i[2]/2}return t.prototype.getHoverPane=function(o){var a,s=this;return o&&s.pane.forEach(function(t){var e=o.chartX-s.plotLeft,i=o.chartY-s.plotTop;c(s.inverted?i:e,s.inverted?e:i,t.center)&&(a=t)}),a},s(t,"afterIsInsidePlot",function(e){this.polar&&(e.isInsidePlot=this.pane.some(function(t){return c(e.x,e.y,t.center)}))}),s(i,"beforeGetHoverData",function(e){var i=this.chart;i.polar&&(i.hoverPane=i.getHoverPane(e),e.filter=function(t){return t.visible&&!(!e.shared&&t.directTouch)&&l(t.options.enableMouseTracking,!0)&&(!i.hoverPane||t.xAxis.pane===i.hoverPane)})}),s(i,"afterGetHoverData",function(t){var e=this.chart;t.hoverPoint&&t.hoverPoint.plotX&&t.hoverPoint.plotY&&e.hoverPane&&!c(t.hoverPoint.plotX,t.hoverPoint.plotY,e.hoverPane.center)&&(t.hoverPoint=void 0)}),e.Pane=p,e.Pane}),i(e,"Core/Axis/HiddenAxis.js",[],function(){function t(){}return t.init=function(t){t.getOffset=function(){},t.redraw=function(){this.isDirty=!1},t.render=function(){this.isDirty=!1},t.createLabelCollector=function(){return function(){}},t.setScale=function(){},t.setCategories=function(){},t.setTitle=function(){},t.isHidden=!0},t}),i(e,"Core/Axis/RadialAxis.js",[e["Core/Axis/Axis.js"],e["Core/Axis/Tick.js"],e["Core/Axis/HiddenAxis.js"],e["Core/Utilities.js"]],function(t,e,g,i){var o=i.addEvent,a=i.correctFloat,h=i.defined,s=i.extend,r=i.fireEvent,f=(i.isNumber,i.merge),P=i.pick,A=(i.pInt,i.relativeLength),n=i.wrap,l=(b.init=function(i){var o=t.prototype;i.setOptions=function(t){var e=this.options=f(i.constructor.defaultOptions,this.defaultPolarOptions,t);e.plotBands||(e.plotBands=[]),r(this,"afterSetOptions")},i.getOffset=function(){o.getOffset.call(this),this.chart.axisOffset[this.side]=0},i.getLinePath=function(t,e,i){var o,a,s=this.pane.center,r=this.chart,n=P(e,s[2]/2-this.offset);return void 0===i&&(i=this.horiz?0:this.center&&-this.center[3]/2),i&&(n+=i),this.isCircular||void 0!==e?((a=this.chart.renderer.symbols.arc(this.left+s[0],this.top+s[1],n,n,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[this.left+s[0]],a.yBounds=[this.top+s[1]-n]):(o=this.postTranslate(this.angleRad,n),a=[["M",this.center[0]+r.plotLeft,this.center[1]+r.plotTop],["L",o.x,o.y]]),a},i.setAxisTranslation=function(){o.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},i.beforeSetTickPositions=function(){this.autoConnect=this.isCircular&&void 0===P(this.userMax,this.options.max)&&a(this.endAngleRad-this.startAngleRad)===a(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},i.setAxisSize=function(){var t,e;o.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),t=this.center=s([],this.pane.center),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(e=this.postTranslate(this.angleRad,t[3]/2),t[0]=e.x-this.chart.plotLeft,t[1]=e.y-this.chart.plotTop),this.len=this.width=this.height=(t[2]-t[3])*P(this.sector,1)/2)},i.getPosition=function(t,e){var i=this.translate(t);return this.postTranslate(this.isCircular?i:this.angleRad,P(this.isCircular?e:i<0?0:i,this.center[2]/2)-this.offset)},i.postTranslate=function(t,e){var i=this.chart,o=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+o[0]+Math.cos(t)*e,y:i.plotTop+o[1]+Math.sin(t)*e}},i.getPlotBandPath=function(t,e,i){function o(t){if("string"!=typeof t)return t;var e=parseInt(t,10);return b.test(t)&&(e=e*g/100),e}var a,s,r,n,l,h,p,d,c=this.center,u=this.startAngleRad,g=c[2]/2,f=Math.min(this.offset,0),b=/%$/,m=this.isCircular,y=P(o(i.outerRadius),g),v=o(i.innerRadius),x=P(o(i.thickness),10);return"polygon"===this.options.gridLineInterpolation?h=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0})):(t=Math.max(t,this.min),e=Math.min(e,this.max),p=this.translate(t),d=this.translate(e),m||(y=p||0,v=d||0),"circle"!==i.shape&&m?(a=u+(p||0),s=u+(d||0)):(a=-Math.PI/2,s=1.5*Math.PI,l=!0),y-=f,x-=f,h=this.chart.renderer.symbols.arc(this.left+c[0],this.top+c[1],y,y,{start:Math.min(a,s),end:Math.max(a,s),innerR:P(v,y-x),open:l}),m&&(r=(s+a)/2,n=this.left+c[0]+c[2]/2*Math.cos(r),h.xBounds=r>-Math.PI/2&&r<Math.PI/2?[n,this.chart.plotWidth]:[0,n],h.yBounds=[this.top+c[1]+c[2]/2*Math.sin(r)],h.yBounds[0]+=r>-Math.PI&&r<0||r>Math.PI?-10:10)),h},i.getCrosshairPosition=function(t,e,i){var o,a,s,r=this,n=t.value,l=r.pane.center;return r.isCircular?(h(n)?t.point&&(t.point.shapeArgs||{}).start&&(n=r.chart.inverted?r.translate(t.point.rectPlotY,!0):t.point.x):(a=t.chartX||0,s=t.chartY||0,n=r.translate(Math.atan2(s-i,a-e)-r.startAngleRad,!0)),a=(o=r.getPosition(n)).x,s=o.y):(h(n)||(a=t.chartX,s=t.chartY),h(a)&&h(s)&&(i=l[1]+r.chart.plotTop,n=r.translate(Math.min(Math.sqrt(Math.pow(a-e,2)+Math.pow(s-i,2)),l[2]/2)-l[3]/2,!0))),[n,a||0,s||0]},i.getPlotLinePath=function(t){var e,i,o,a,s,r,n,l,h,p=this,d=p.pane.center,c=p.chart,u=c.inverted,g=t.value,f=t.reverse,b=p.getPosition(g),m=p.pane.options.background?p.pane.options.background[0]||p.pane.options.background:{},y=m.innerRadius||"0%",v=m.outerRadius||"100%",x=d[0]+c.plotLeft,P=d[1]+c.plotTop,M=b.x,S=b.y,L=p.height,k=t.isCrosshair,w=d[3]/2;if(k&&(g=(l=this.getCrosshairPosition(t,x,P))[0],M=l[1],S=l[2]),p.isCircular)i=Math.sqrt(Math.pow(M-x,2)+Math.pow(S-P,2)),o="string"==typeof y?A(y,1):y/i,a="string"==typeof v?A(v,1):v/i,d&&w&&(o<(e=w/i)&&(o=e),a<e&&(a=e)),h=[["M",x+o*(M-x),P-o*(P-S)],["L",M-(1-a)*(M-x),S+(1-a)*(P-S)]];else if((g=p.translate(g))&&(g<0||L<g)&&(g=0),"circle"===p.options.gridLineInterpolation)h=p.getLinePath(0,g,w);else if(h=[],c[u?"yAxis":"xAxis"].forEach(function(t){t.pane===p.pane&&(s=t)}),s){n=s.tickPositions,s.autoConnect&&(n=n.concat([n[0]])),f&&(n=n.slice().reverse()),g&&(g+=w);for(var C=0;C<n.length;C++)r=s.getPosition(n[C],g),h.push(C?["L",r.x,r.y]:["M",r.x,r.y])}return h},i.getTitlePosition=function(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}},i.createLabelCollector=function(){var e=this;return function(){if(e.isRadial&&e.tickPositions&&!0!==e.options.labels.allowOverlap)return e.tickPositions.map(function(t){return e.ticks[t]&&e.ticks[t].label}).filter(function(t){return Boolean(t)})}}},b.compose=function(u,t){o(u,"init",function(t){var e,i=this,o=i.chart,a=o.inverted,s=o.angular,r=o.polar,n=i.isXAxis,l=i.coll,h=s&&n,p=o.options,d=t.userOptions.pane||0,c=this.pane=o.pane&&o.pane[d];"colorAxis"!==l?(s?(h?g.init(i):b.init(i),(e=!n)&&(i.defaultPolarOptions=b.defaultRadialGaugeOptions)):r&&(b.init(i),e=i.horiz,i.defaultPolarOptions=e?b.defaultCircularOptions:f("xAxis"===l?u.defaultOptions:u.defaultYAxisOptions,b.defaultRadialOptions),a&&"yAxis"===l&&(i.defaultPolarOptions.stackLabels=u.defaultYAxisOptions.stackLabels)),s||r?(i.isRadial=!0,p.chart.zoomType=null,i.labelCollector||(i.labelCollector=i.createLabelCollector()),i.labelCollector&&o.labelCollectors.push(i.labelCollector)):this.isRadial=!1,c&&e&&(c.axis=i),i.isCircular=e):this.isRadial=!1}),o(u,"afterInit",function(){var t=this,e=t.chart,i=t.options,o=e.angular&&t.isXAxis,a=t.pane,s=a&&a.options;!o&&a&&(e.angular||e.polar)&&(t.angleRad=(i.angle||0)*Math.PI/180,t.startAngleRad=(s.startAngle-90)*Math.PI/180,t.endAngleRad=(P(s.endAngle,s.startAngle+360)-90)*Math.PI/180,t.offset=i.offset||0)}),o(u,"autoLabelAlign",function(t){this.isRadial&&(t.align=void 0,t.preventDefault())}),o(u,"destroy",function(){var t,e=this;e.chart&&e.chart.labelCollectors&&0<=(t=e.labelCollector?e.chart.labelCollectors.indexOf(e.labelCollector):-1)&&e.chart.labelCollectors.splice(t,1)}),o(u,"initialAxisTranslation",function(){this.isRadial&&this.beforeSetTickPositions()}),o(t,"afterGetPosition",function(t){this.axis.getPosition&&s(t.pos,this.axis.getPosition(this.pos))}),o(t,"afterGetLabelPosition",function(t){var e,i,o,a,s,r,n,l,h,p,d,c,u,g,f=this.axis,b=this.label;b&&(e=b.getBBox(),o=(i=f.options.labels).y,s=20,r=i.align,n=(f.translate(this.pos)+f.startAngleRad+Math.PI/2)/Math.PI*180%360,h="end",d=p=(l=Math.round(n))<0?l+360:l,u=c=0,g=null===i.y?.3*-e.height:0,f.isRadial&&(a=f.getPosition(this.pos,f.center[2]/2+A(P(i.distance,-25),f.center[2]/2,-f.center[2]/2)),"auto"===i.rotation?b.attr({rotation:n}):null===o&&(o=f.chart.renderer.fontMetrics(b.styles&&b.styles.fontSize).b-e.height/2),null===r&&(r=f.isCircular?(e.width>f.len*f.tickInterval/(f.max-f.min)&&(s=0),s<n&&n<180-s?"left":180+s<n&&n<360-s?"right":"center"):"center",b.attr({align:r})),"auto"===r&&2===f.tickPositions.length&&f.isCircular&&(90<p&&p<180?p=180-p:270<p&&p<=360&&(p=540-p),180<d&&d<=360&&(d=360-d),f.pane.options.startAngle!==l&&f.pane.options.startAngle!==l+360&&f.pane.options.startAngle!==l-360||(h="start"),r=70<d&&d<110?"center":-90<=l&&l<=90||-360<=l&&l<=-270||270<=l&&l<=360?"start"===h?"right":"left":"start"===h?"left":"right",p<15||180<=p&&p<195?c=.3*e.height:15<=p&&p<=35?c="start"===h?0:.75*e.height:195<=p&&p<=215?c="start"===h?.75*e.height:0:35<p&&p<=90?c="start"===h?.25*-e.height:e.height:215<p&&p<=270&&(c="start"===h?e.height:.25*-e.height),d<15?u="start"===h?.15*-e.height:.15*e.height:165<d&&d<=180&&(u="start"===h?.15*e.height:.15*-e.height),b.attr({align:r}),b.translate(u,c+g)),t.pos.x=a.x+i.x,t.pos.y=a.y+o))}),n(t.prototype,"getMarkPath",function(t,e,i,o,a,s,r){var n,l=this.axis,h=l.isRadial?["M",e,i,"L",(n=l.getPosition(this.pos,l.center[2]/2+o)).x,n.y]:t.call(this,e,i,o,a,s,r);return h})},b.defaultCircularOptions={gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},b.defaultRadialGaugeOptions={labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},b.defaultRadialOptions={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},b);function b(){}return l.compose(t,e),l}),i(e,"Series/AreaRangeSeries.js",[e["Core/Series/Series.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,i,o){var a=e.noop,s=o.defined,p=o.extend,d=o.isArray,r=o.isNumber,m=o.pick,n=e.Series,y=t.seriesTypes.area.prototype,l=t.seriesTypes.column.prototype,h=i.prototype,c=n.prototype;t.seriesType("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],pointValKey:"low",deferTranslatePolar:!0,toYData:function(t){return[t.low,t.high]},highToXY:function(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var o=this,a=o.yAxis,s=!!o.modifyValue;y.translate.apply(o),o.points.forEach(function(t){var e=t.high,i=t.plotY;t.isNull?t.plotY=null:(t.plotLow=i,t.plotHigh=a.translate(s?o.modifyValue(e,t):e,0,1,0,1),s&&(t.yBottom=t.plotHigh))}),this.chart.polar&&this.points.forEach(function(t){o.highToXY(t),t.tooltipPos=[(t.plotHighX+t.plotLowX)/2,(t.plotHigh+t.plotLow)/2]})},getGraphPath:function(t){for(var e,i,o,a,s,r,n=[],l=[],h=y.getGraphPath,p=this.options,d=this.chart.polar,c=d&&!1!==p.connectEnds,u=p.connectNulls,g=p.step,f=(t=t||this.points).length;f--;){e=t[f];var b=d?{plotX:e.rectPlotX,plotY:e.yBottom,doCurve:!1}:{plotX:e.plotX,plotY:e.plotY,doCurve:!1};e.isNull||c||u||t[f+1]&&!t[f+1].isNull||l.push(b),i={polarPlotY:e.polarPlotY,rectPlotX:e.rectPlotX,yBottom:e.yBottom,plotX:m(e.plotHighX,e.plotX),plotY:e.plotHigh,isNull:e.isNull},l.push(i),n.push(i),e.isNull||c||u||t[f-1]&&!t[f-1].isNull||l.push(b)}return a=h.call(this,t),g&&(!0===g&&(g="left"),p.step={left:"right",center:"center",right:"left"}[g]),s=h.call(this,n),r=h.call(this,l),p.step=g,o=[].concat(a,s),!this.chart.polar&&r[0]&&"M"===r[0][0]&&(r[0]=["L",r[0][1],r[0][2]]),this.graphPath=o,this.areaPath=a.concat(r),o.isArea=!0,o.xMap=a.xMap,this.areaPath.xMap=a.xMap,o},drawDataLabels:function(){var t,e,i,o,a,s=this.points,r=s.length,n=[],l=this.options.dataLabels,h=this.chart.inverted;if(d(l)?(o=l[0]||{enabled:!1},a=l[1]||{enabled:!1}):((o=p({},l)).x=l.xHigh,o.y=l.yHigh,(a=p({},l)).x=l.xLow,a.y=l.yLow),o.enabled||this._hasPointLabels){for(t=r;t--;)(e=s[t])&&(i=o.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,n[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,h?o.align||(o.align=i?"right":"left"):o.verticalAlign||(o.verticalAlign=i?"top":"bottom"));for(this.options.dataLabels=o,c.drawDataLabels&&c.drawDataLabels.apply(this,arguments),t=r;t--;)(e=s[t])&&(e.dataLabelUpper=e.dataLabel,e.dataLabel=n[t],delete e.dataLabels,e.y=e.low,e.plotY=e._plotY)}if(a.enabled||this._hasPointLabels){for(t=r;t--;)(e=s[t])&&(i=a.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.below=!i,h?a.align||(a.align=i?"left":"right"):a.verticalAlign||(a.verticalAlign=i?"bottom":"top"));this.options.dataLabels=a,c.drawDataLabels&&c.drawDataLabels.apply(this,arguments)}if(o.enabled)for(t=r;t--;)(e=s[t])&&(e.dataLabels=[e.dataLabelUpper,e.dataLabel].filter(function(t){return!!t}));this.options.dataLabels=l},alignDataLabel:function(){l.alignDataLabel.apply(this,arguments)},drawPoints:function(){var t,e,i=this,o=i.points.length;for(c.drawPoints.apply(i,arguments),e=0;e<o;)(t=i.points[e]).origProps={plotY:t.plotY,plotX:t.plotX,isInside:t.isInside,negative:t.negative,zone:t.zone,y:t.y},t.lowerGraphic=t.graphic,t.graphic=t.upperGraphic,t.plotY=t.plotHigh,s(t.plotHighX)&&(t.plotX=t.plotHighX),t.y=t.high,t.negative=t.high<(i.options.threshold||0),t.zone=i.zones.length&&t.getZone(),i.chart.polar||(t.isInside=t.isTopInside=void 0!==t.plotY&&0<=t.plotY&&t.plotY<=i.yAxis.len&&0<=t.plotX&&t.plotX<=i.xAxis.len),e++;for(c.drawPoints.apply(i,arguments),e=0;e<o;)(t=i.points[e]).upperGraphic=t.graphic,t.graphic=t.lowerGraphic,p(t,t.origProps),delete t.origProps,e++},setStackedPoints:a},{setState:function(){var t=this.state,e=this.series,i=e.chart.polar;s(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),s(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,i&&(this.plotX=this.plotHighX),h.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,i&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0),h.setState.apply(this,arguments)},haloPath:function(){var t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&(this.plotX=this.plotLowX),this.isInside&&(e=h.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(h.haloPath.apply(this,arguments))),e},destroyElements:function(){return["lowerGraphic","upperGraphic"].forEach(function(t){this[t]&&(this[t]=this[t].destroy())},this),this.graphic=null,h.destroyElements.apply(this,arguments)},isValid:function(){return r(this.low)&&r(this.high)}})}),i(e,"Series/AreaSplineRangeSeries.js",[e["Core/Series/Series.js"]],function(t){t.seriesType("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})}),i(e,"Series/ColumnRangeSeries.js",[e["Core/Series/Series.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Utilities.js"]],function(t,e,i,o){var a=e.noop,s=i.defaultOptions,f=o.clamp,r=o.merge,b=o.pick,m=t.seriesTypes.column.prototype;t.seriesType("columnrange","arearange",r(s.plotOptions.column,s.plotOptions.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var r,n,l=this,h=l.yAxis,p=l.xAxis,d=p.startAngleRad,c=l.chart,u=l.xAxis.isRadial,e=Math.max(c.chartWidth,c.chartHeight)+999;function g(t){return f(t,-e,e)}m.translate.apply(l),l.points.forEach(function(t){var e,i,o,a=t.shapeArgs,s=l.options.minPointLength;t.plotHigh=n=g(h.translate(t.high,0,1,0,1)),t.plotLow=g(t.plotY),o=n,i=b(t.rectPlotY,t.plotY)-n,Math.abs(i)<s?(i+=e=s-i,o-=e/2):i<0&&(o-=i*=-1),u?(r=t.barX+d,t.shapeType="arc",t.shapeArgs=l.polarArc(o+i,o,r,r+t.pointWidth)):(a.height=i,a.y=o,t.tooltipPos=c.inverted?[h.len+h.pos-c.plotLeft-o-i/2,p.len+p.pos-c.plotTop-a.x-a.width/2,i]:[p.left-c.plotLeft+a.x+a.width/2,h.pos-c.plotTop+o+i/2,i])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:a,getSymbol:a,crispCol:function(){return m.crispCol.apply(this,arguments)},drawPoints:function(){return m.drawPoints.apply(this,arguments)},drawTracker:function(){return m.drawTracker.apply(this,arguments)},getColumnMetrics:function(){return m.getColumnMetrics.apply(this,arguments)},pointAttribs:function(){return m.pointAttribs.apply(this,arguments)},animate:function(){return m.animate.apply(this,arguments)},polarArc:function(){return m.polarArc.apply(this,arguments)},translate3dPoints:function(){return m.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return m.translate3dShapes.apply(this,arguments)}},{setState:m.pointClass.prototype.setState})}),i(e,"Series/ColumnPyramidSeries.js",[e["Core/Series/Series.js"],e["Series/ColumnSeries.js"],e["Core/Utilities.js"]],function(t,e,i){var o=e.prototype,T=i.clamp,X=i.pick;t.seriesType("columnpyramid","column",{},{translate:function(){var x=this,P=x.chart,M=x.options,t=x.dense=x.closestPointRange*x.xAxis.transA<2,e=x.borderWidth=X(M.borderWidth,t?0:1),S=x.yAxis,L=M.threshold,k=x.translatedThreshold=S.getThreshold(L),w=X(M.minPointLength,5),i=x.getColumnMetrics(),C=i.width,A=x.barW=Math.max(C,1+2*e),N=x.pointXOffset=i.offset;P.inverted&&(k-=.5),M.pointPadding&&(A=Math.ceil(A)),o.translate.apply(x),x.points.forEach(function(t){var e,i,o,a,s,r,n,l,h,p,d,c,u=X(t.yBottom,k),g=999+Math.abs(u),f=T(t.plotY,-g,S.len+g),b=t.plotX+N,m=A/2,y=Math.min(f,u),v=Math.max(f,u)-y;t.barX=b,t.pointWidth=C,t.tooltipPos=P.inverted?[S.len+S.pos-P.plotLeft-f,x.xAxis.len-b-m,v]:[b+m,f+S.pos-P.plotTop,v],e=L+(t.total||t.y),"percent"===M.stacking&&(e=L+(t.y<0)?-100:100),o=S.toPixels(e,!0),n=b-(a=(i=P.plotHeight-o-(P.plotHeight-k))?m*(y-o)/i:0)+m,l=b+a+m,h=b+(s=i?m*(y+v-o)/i:0)+m,p=b-s+m,d=y-w,c=y+v,t.y<0&&(c=(d=y)+v+w),P.inverted&&(l=(n=b+m+(a=m*(o-(r=P.plotWidth-y))/(i=o-(P.plotWidth-k))))-2*a,h=b-(s=m*(o-(r-v))/i)+m,p=b+s+m,c=(d=y)+v-w,t.y<0&&(c=y+v+w)),t.shapeType="path",t.shapeArgs={x:n,y:d,width:l-n,height:v,d:[["M",n,d],["L",l,d],["L",h,c],["L",p,c],["Z"]]}})}})}),i(e,"Series/GaugeSeries.js",[e["Core/Series/Series.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i){var o=e.noop,u=i.clamp,g=i.isNumber,f=i.merge,b=i.pick,m=i.pInt,a=e.Series,s=e.TrackerMixin;t.seriesType("gauge","line",{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:o,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var p=this.yAxis,d=this.options,c=p.center;this.generatePoints(),this.points.forEach(function(t){var e=f(d.dial,t.dial),i=m(b(e.radius,"80%"))*c[2]/200,o=m(b(e.baseLength,"70%"))*i/100,a=m(b(e.rearLength,"10%"))*i/100,s=e.baseWidth||3,r=e.topWidth||1,n=d.overshoot,l=p.startAngleRad+p.translate(t.y,null,null,null,!0);!g(n)&&!1!==d.wrap||(n=g(n)?n/180*Math.PI:0,l=u(l,p.startAngleRad-n,p.endAngleRad+n)),l=180*l/Math.PI,t.shapeType="path";var h=e.path||[["M",-a,-s/2],["L",o,-s/2],["L",i,-r/2],["L",i,r/2],["L",o,s/2],["L",-a,s/2],["Z"]];t.shapeArgs={d:h,translateX:c[0],translateY:c[1],rotation:l},t.plotX=c[0],t.plotY=c[1]})},drawPoints:function(){var s=this,r=s.chart,t=s.yAxis.center,e=s.pivot,n=s.options,i=n.pivot,l=r.renderer;s.points.forEach(function(t){var e=t.graphic,i=t.shapeArgs,o=i.d,a=f(n.dial,t.dial);e?(e.animate(i),i.d=o):t.graphic=l[t.shapeType](i).attr({rotation:i.rotation,zIndex:1}).addClass("highcharts-dial").add(s.group),r.styledMode||t.graphic[e?"animate":"attr"]({stroke:a.borderColor||"none","stroke-width":a.borderWidth||0,fill:a.backgroundColor||"#000000"})}),e?e.animate({translateX:t[0],translateY:t[1]}):(s.pivot=l.circle(0,0,b(i.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(t[0],t[1]).add(s.group),r.styledMode||s.pivot.attr({"stroke-width":i.borderWidth||0,stroke:i.borderColor||"#cccccc",fill:i.backgroundColor||"#000000"}))},animate:function(t){var i=this;t||i.points.forEach(function(t){var e=t.graphic;e&&(e.attr({rotation:180*i.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},i.options.animation))})},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),a.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){a.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),b(e,!0)&&this.chart.redraw()},hasData:function(){return!!this.points.length},drawTracker:s&&s.drawTrackerPoint},{setState:function(t){this.state=t}})}),i(e,"Series/BoxPlotSeries.js",[e["Core/Series/Series.js"],e["Series/ColumnSeries.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i,o){var a=e.prototype,s=i.noop,A=o.pick;t.seriesType("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(){return{}},drawDataLabels:s,translate:function(){var i=this.yAxis,t=this.pointArrayMap;a.translate.apply(this),this.points.forEach(function(e){t.forEach(function(t){null!==e[t]&&(e[t+"Plot"]=i.translate(e[t],0,1,0,1))}),e.plotHigh=e.highPlot})},drawPoints:function(){var p,d,c,u,g,f,b,m,y,v,x,P=this,t=P.points,M=P.options,S=P.chart,L=S.renderer,k=0,w=!1!==P.doQuartiles,C=P.options.whiskerLength;t.forEach(function(t){var e,i=t.graphic,o=i?"animate":"attr",a=t.shapeArgs,s={},r={},n={},l={},h=t.color||P.color;void 0!==t.plotY&&(b=Math.round(a.width),m=Math.floor(a.x),y=m+b,v=Math.round(b/2),p=Math.floor(w?t.q1Plot:t.lowPlot),d=Math.floor(w?t.q3Plot:t.lowPlot),c=Math.floor(t.highPlot),u=Math.floor(t.lowPlot),i||(t.graphic=i=L.g("point").add(P.group),t.stem=L.path().addClass("highcharts-boxplot-stem").add(i),C&&(t.whiskers=L.path().addClass("highcharts-boxplot-whisker").add(i)),w&&(t.box=L.path(void 0).addClass("highcharts-boxplot-box").add(i)),t.medianShape=L.path(void 0).addClass("highcharts-boxplot-median").add(i)),S.styledMode||(r.stroke=t.stemColor||M.stemColor||h,r["stroke-width"]=A(t.stemWidth,M.stemWidth,M.lineWidth),r.dashstyle=t.stemDashStyle||M.stemDashStyle||M.dashStyle,t.stem.attr(r),C&&(n.stroke=t.whiskerColor||M.whiskerColor||h,n["stroke-width"]=A(t.whiskerWidth,M.whiskerWidth,M.lineWidth),n.dashstyle=t.whiskerDashStyle||M.whiskerDashStyle||M.dashStyle,t.whiskers.attr(n)),w&&(s.fill=t.fillColor||M.fillColor||h,s.stroke=M.lineColor||h,s["stroke-width"]=M.lineWidth||0,s.dashstyle=t.boxDashStyle||M.boxDashStyle||M.dashStyle,t.box.attr(s)),l.stroke=t.medianColor||M.medianColor||h,l["stroke-width"]=A(t.medianWidth,M.medianWidth,M.lineWidth),l.dashstyle=t.medianDashStyle||M.medianDashStyle||M.dashStyle,t.medianShape.attr(l)),e=void 0,f=t.stem.strokeWidth()%2/2,e=[["M",k=m+v+f,d],["L",k,c],["M",k,p],["L",k,u]],t.stem[o]({d:e}),w&&(f=t.box.strokeWidth()%2/2,p=Math.floor(p)+f,d=Math.floor(d)+f,e=[["M",m+=f,d],["L",m,p],["L",y+=f,p],["L",y,d],["L",m,d],["Z"]],t.box[o]({d:e})),C&&(f=t.whiskers.strokeWidth()%2/2,c+=f,u+=f,x=/%$/.test(C)?v*parseFloat(C)/100:C/2,e=[["M",k-x,c],["L",k+x,c],["M",k-x,u],["L",k+x,u]],t.whiskers[o]({d:e})),g=Math.round(t.medianPlot),f=t.medianShape.strokeWidth()%2/2,e=[["M",m,g+=f],["L",y,g]],t.medianShape[o]({d:e}))})},setStackedPoints:s})}),i(e,"Series/ErrorBarSeries.js",[e["Core/Series/Series.js"],e["Core/Globals.js"]],function(t,e){var i=e.noop,o=t.seriesTypes;t.seriesType("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:o.arearange?function(){var e=this.pointValKey;o.arearange.prototype.drawDataLabels.call(this),this.data.forEach(function(t){t.y=t[e]})}:i,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||o.column.prototype.getColumnMetrics.call(this)}})}),i(e,"Series/WaterfallSeries.js",[e["Core/Axis/Axis.js"],e["Core/Series/Series.js"],e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Extensions/Stacking.js"],e["Core/Utilities.js"]],function(t,e,i,o,a,s,r){var n,l,h,k=e.seriesTypes,p=r.addEvent,d=r.arrayMax,c=r.arrayMin,u=r.correctFloat,g=r.isNumber,f=r.objectEach,w=r.pick,b=o.Series;function C(t,e){return Object.hasOwnProperty.call(t,e)}function m(t){this.axis=t,this.stacks={changed:!1}}function y(){var t=this.waterfall.stacks;t&&(t.changed=!1,delete t.alreadyChanged)}function v(){var t=this.options.stackLabels;t&&t.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function x(){for(var t=this.axes,e=this.series,i=e.length;i--;)e[i].options.stacking&&(t.forEach(function(t){t.isXAxis||(t.waterfall.stacks.changed=!0)}),i=0)}function P(){this.waterfall||(this.waterfall=new h(this))}return l=n=n||{},m.prototype.renderStackTotals=function(){var t=this.axis,e=t.waterfall.stacks,i=t.stacking&&t.stacking.stackTotalGroup,o=new s(t,t.options.stackLabels,!1,0,void 0);this.dummyStackItem=o,f(e,function(t){f(t,function(t){o.total=t.stackTotal,t.label&&(o.label=t.label),s.prototype.render.call(o,i),t.label=o.label,delete o.label})}),o.total=null},h=m,l.Composition=h,l.compose=function(t,e){p(t,"init",P),p(t,"afterBuildStacks",y),p(t,"afterRender",v),p(e,"beforeRedraw",x)},e.seriesType("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",showLine:!0,generatePoints:function(){var t,e,i,o;for(k.column.prototype.generatePoints.apply(this),i=0,e=this.points.length;i<e;i++)t=this.points[i],o=this.processedYData[i],(t.isIntermediateSum||t.isSum)&&(t.y=u(o))},translate:function(){var t,e,i,o,a,s,r,n,l,h,p,d,c,u,g,f,b,m=this,y=m.options,v=m.yAxis,x=w(y.minPointLength,5),P=x/2,M=y.threshold,S=y.stacking,L=v.waterfall.stacks[m.stackKey];for(k.column.prototype.translate.apply(m),n=l=M,e=0,t=(i=m.points).length;e<t;e++)o=i[e],r=m.processedYData[e],a=o.shapeArgs,h=[0,r],g=o.y,S?(L&&(d=L[e],"overlap"===S?(u=d.stackState[d.stateIndex--],s=0<=g?u:u-g,C(d,"absolutePos")&&delete d.absolutePos,C(d,"absoluteNeg")&&delete d.absoluteNeg):(s=0<=g?(u=d.threshold+d.posTotal,d.posTotal-=g,u):(u=d.threshold+d.negTotal,d.negTotal-=g,u-g),d.posTotal||C(d,"absolutePos")&&(d.posTotal=d.absolutePos,delete d.absolutePos),d.negTotal||C(d,"absoluteNeg")&&(d.negTotal=d.absoluteNeg,delete d.absoluteNeg)),o.isSum||(d.connectorThreshold=d.threshold+d.stackTotal),b=v.reversed?(f=0<=g?s-g:s+g,s):(f=s)-g,o.below=f<=w(M,0),a.y=v.translate(f,0,1,0,1),a.height=Math.abs(a.y-v.translate(b,0,1,0,1))),(c=v.waterfall.dummyStackItem)&&(c.x=e,c.label=L[e].label,c.setOffset(m.pointXOffset||0,m.barW||0,m.stackedYNeg[e],m.stackedYPos[e]))):(s=Math.max(n,n+g)+h[0],a.y=v.translate(s,0,1,0,1),o.isSum?(a.y=v.translate(h[1],0,1,0,1),a.height=Math.min(v.translate(h[0],0,1,0,1),v.len)-a.y):o.isIntermediateSum?(b=0<=g?(f=h[1]+l,l):h[1]+(f=l),v.reversed&&(f^=b,f^=b^=f),a.y=v.translate(f,0,1,0,1),a.height=Math.abs(a.y-Math.min(v.translate(b,0,1,0,1),v.len)),l+=h[1]):(a.height=0<r?v.translate(n,0,1,0,1)-a.y:v.translate(n,0,1,0,1)-v.translate(n-r,0,1,0,1),n+=r,o.below=n<w(M,0)),a.height<0&&(a.y+=a.height,a.height*=-1)),o.plotY=a.y=Math.round(a.y)-m.borderWidth%2/2,a.height=Math.max(Math.round(a.height),.001),o.yBottom=a.y+a.height,a.height<=x&&!o.isNull?(a.height=x,a.y-=P,o.plotY=a.y,o.y<0?o.minPointLengthOffset=-P:o.minPointLengthOffset=P):(o.isNull&&(a.width=0),o.minPointLengthOffset=0),p=o.plotY+(o.negative?a.height:0),m.chart.inverted?o.tooltipPos[0]=v.len-p:o.tooltipPos[1]=p},processData:function(t){for(var e,i,o,a,s,r=this.options,n=this.yData,l=r.data,h=n.length,p=r.threshold||0,d=i=o=a=0,c=0;c<h;c++)s=n[c],e=l&&l[c]?l[c]:{},"sum"===s||e.isSum?n[c]=u(d):"intermediateSum"===s||e.isIntermediateSum?(n[c]=u(i),i=0):(d+=s,i+=s),o=Math.min(d,o),a=Math.max(d,a);b.prototype.processData.call(this,t),r.stacking||(this.dataMin=o+p,this.dataMax=a)},toYData:function(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y},updateParallelArrays:function(t,e){b.prototype.updateParallelArrays.call(this,t,e),"sum"!==this.yData[0]&&"intermediateSum"!==this.yData[0]||(this.yData[0]=null)},pointAttribs:function(t,e){var i,o=this.options.upColor;return o&&!t.options.color&&(t.color=0<t.y?o:null),delete(i=k.column.prototype.pointAttribs.call(this,t,e)).dashstyle,i},getGraphPath:function(){return[["M",0,0]]},getCrispPath:function(){for(var t,e,i,o,a,s,r,n,l=this.data,h=this.yAxis,p=l.length,d=Math.round(this.graph.strokeWidth())%2/2,c=Math.round(this.borderWidth)%2/2,u=this.xAxis.reversed,g=this.yAxis.reversed,f=this.options.stacking,b=[],m=1;m<p;m++)n=l[m].shapeArgs,o=l[m-1],r=l[m-1].shapeArgs,e=h.waterfall.stacks[this.stackKey],s=0<o.y?-r.height:0,e&&r&&n&&(i=e[m-1],a=f?(t=i.connectorThreshold,Math.round(h.translate(t,0,1,0,1)+(g?s:0))-d):r.y+o.minPointLengthOffset+c-d,b.push(["M",(r.x||0)+(!u&&r.width||0),a],["L",(n.x||0)+(u&&n.width||0),a])),!f&&b.length&&r&&(o.y<0&&!g||0<o.y&&g)&&(b[b.length-2][2]+=r.height,b[b.length-1][2]+=r.height);return b},drawGraph:function(){b.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){var t,a,e,i,o,s,r,n,l,h,p,d,c,u=this,g=u.options,f=u.yAxis.waterfall.stacks,b=g.threshold,m=b||0,y=m,v=u.stackKey,x=u.xData,P=x.length;function M(t,e,i,o){if(s)for(;i<s;i++)a.stackState[i]+=o;else a.stackState[0]=t,s=a.stackState.length;a.stackState.push(a.stackState[s-1]+e)}if(u.yAxis.stacking.usePercentage=!1,e=i=o=m,u.visible||!u.chart.options.chart.ignoreHiddenSeries){c=f.changed,(d=f.alreadyChanged)&&d.indexOf(v)<0&&(c=!0),f[v]||(f[v]={}),t=f[v];for(var S=0;S<P;S++)t[p=x[S]]&&!c||(t[p]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:c&&t[p]?t[p].label:void 0}),a=t[p],0<=(h=u.yData[S])?a.posTotal+=h:a.negTotal+=h,l=g.data[S],r=a.absolutePos=a.posTotal,n=a.absoluteNeg=a.negTotal,a.stackTotal=r+n,s=a.stackState.length,l&&l.isIntermediateSum?(M(o,i,0,o),o=i,i=b,m^=y,m^=y^=m):l&&l.isSum?(M(b,e,s),m=b):(M(m,h,0,e),l&&(e+=h,i+=h)),a.stateIndex++,a.threshold=m,m+=a.stackTotal;f.changed=!1,f.alreadyChanged||(f.alreadyChanged=[]),f.alreadyChanged.push(v)}},getExtremes:function(){var t,e,i,o=this.options.stacking;return o?(t=this.yAxis.waterfall.stacks,e=this.stackedYNeg=[],i=this.stackedYPos=[],f(t[this.stackKey],"overlap"===o?function(t){e.push(c(t.stackState)),i.push(d(t.stackState))}:function(t){e.push(t.negTotal+t.threshold),i.push(t.posTotal+t.threshold)}),{dataMin:c(e),dataMax:d(i)}):{dataMin:this.dataMin,dataMax:this.dataMax}}},{getClassName:function(){var t=a.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return g(this.y)||this.isSum||Boolean(this.isIntermediateSum)}}),n.compose(t,i),n}),i(e,"Series/PolygonSeries.js",[e["Core/Series/Series.js"],e["Core/Globals.js"],e["Mixins/LegendSymbol.js"]],function(t,e,i){var o=t.seriesTypes,a=e.noop,s=e.Series;t.seriesType("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=s.prototype.getGraphPath.call(this),e=t.length+1;e--;)(e===t.length||"M"===t[e][0])&&0<e&&t.splice(e,0,["Z"]);return this.areaPath=t},drawGraph:function(){this.options.fillColor=this.color,o.area.prototype.drawGraph.call(this)},drawLegendSymbol:i.drawRectangle,drawTracker:s.prototype.drawTracker,setStackedPoints:a})}),i(e,"Series/Bubble/BubbleLegend.js",[e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Legend.js"],e["Core/Utilities.js"]],function(t,e,r,i,s){var d=e.parse,o=s.addEvent,n=s.arrayMax,l=s.arrayMin,p=s.isNumber,c=s.merge,h=s.objectEach,u=s.pick,a=s.setOptions,g=s.stableSort,f=s.wrap,b=r.Series,m=r.noop;a({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:10,color:void 0},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}});var y=(v.prototype.init=function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},v.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},v.prototype.drawLegendSymbol=function(t){var e,i,o,a,s=this.chart,r=this.options,n=u(t.options.itemDistance,20),l=r.ranges,h=r.connectorDistance;this.fontMetrics=s.renderer.fontMetrics(r.labels.style.fontSize.toString()+"px"),l&&l.length&&p(l[0].value)?(g(l,function(t,e){return e.value-t.value}),this.ranges=l,this.setOptions(),this.render(),a=this.getMaxLabelSize(),e=2*(o=this.ranges[0].radius),i=0<(i=h-o+a.width)?i:0,this.maxLabel=a,this.movementX="left"===r.labels.align?i:0,this.legendItemWidth=e+i+n,this.legendItemHeight=e+this.fontMetrics.h/2):t.options.bubbleLegend.autoRanges=!0},v.prototype.setOptions=function(){var i=this.ranges,o=this.options,a=this.chart.series[o.seriesIndex],s=this.legend.baseline,r={"z-index":o.zIndex,"stroke-width":o.borderWidth},n={"z-index":o.zIndex,"stroke-width":o.connectorWidth},l=this.getLabelStyles(),h=a.options.marker.fillOpacity,p=this.chart.styledMode;i.forEach(function(t,e){p||(r.stroke=u(t.borderColor,o.borderColor,a.color),r.fill=u(t.color,o.color,1!==h?d(a.color).setOpacity(h).get("rgba"):a.color),n.stroke=u(t.connectorColor,o.connectorColor,a.color)),i[e].radius=this.getRangeRadius(t.value),i[e]=c(i[e],{center:i[0].radius-i[e].radius+s}),p||c(!0,i[e],{bubbleStyle:c(!1,r),connectorStyle:c(!1,n),labelStyle:l})},this)},v.prototype.getLabelStyles=function(){var t=this.options,i={},e="left"===t.labels.align,o=this.legend.options.rtl;return h(t.labels.style,function(t,e){"color"!==e&&"fontSize"!==e&&"z-index"!==e&&(i[e]=t)}),c(!1,i,{"font-size":t.labels.style.fontSize,fill:u(t.labels.style.color,"#000000"),"z-index":t.zIndex,align:o||e?"right":"left"})},v.prototype.getRangeRadius=function(t){var e=this.options,i=this.options.seriesIndex,o=this.chart.series[i],a=e.ranges[0].value,s=e.ranges[e.ranges.length-1].value,r=e.minSize,n=e.maxSize;return o.getRadius.call(this,s,a,r,n,t)},v.prototype.render=function(){var t=this.chart.renderer,e=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=t.g("bubble-legend"),this.legendItem=t.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(t){t.value>=e&&this.renderRange(t)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},v.prototype.renderRange=function(t){var e,i,o,a=this.ranges[0],s=this.legend,r=this.options,n=r.labels,l=this.chart.renderer,h=this.symbols,p=h.labels,d=t.center,c=Math.abs(t.radius),u=r.connectorDistance||0,g=n.align,f=s.options.rtl,b=n.style.fontSize,m=f||"left"===g?-u:u,y=r.borderWidth,v=r.connectorWidth,x=a.radius||0,P=d-c-y/2+v/2,M=b/2-(this.fontMetrics.h-b)/2,S=(P%1?1:.5)-(v%2?0:.5),L=l.styledMode;"center"===g&&(m=0,r.connectorDistance=0,t.labelStyle.align="center"),i=P+r.labels.y,o=x+m+r.labels.x,h.bubbleItems.push(l.circle(x,d+S,c).attr(L?{}:t.bubbleStyle).addClass((L?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-symbol "+(r.className||"")).add(this.legendSymbol)),h.connectors.push(l.path(l.crispLine([["M",x,P],["L",x+m,P]],r.connectorWidth)).attr(L?{}:t.connectorStyle).addClass((L?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(r.connectorClassName||"")).add(this.legendSymbol)),e=l.text(this.formatLabel(t),o,i+M).attr(L?{}:t.labelStyle).addClass("highcharts-bubble-legend-labels "+(r.labels.className||"")).add(this.legendSymbol),p.push(e),e.placed=!0,e.alignAttr={x:o,y:i+M}},v.prototype.getMaxLabelSize=function(){var e,i;return this.symbols.labels.forEach(function(t){i=t.getBBox(!0),e=!e||i.width>e.width?i:e}),e||{}},v.prototype.formatLabel=function(t){var e=this.options,i=e.labels.formatter,o=e.labels.format,a=this.chart.numberFormatter;return o?s.format(o,t):i?i.call(t):a(t.value,1)},v.prototype.hideOverlappingLabels=function(){var t=this.chart,e=this.options.labels.allowOverlap,i=this.symbols;!e&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()}))},v.prototype.getRanges=function(){var i,e,t=this.legend.bubbleLegend,o=t.chart.series,a=t.options.ranges,s=Number.MAX_VALUE,r=-Number.MAX_VALUE;return o.forEach(function(t){t.isBubble&&!t.ignoreSeries&&(e=t.zData.filter(p)).length&&(s=u(t.options.zMin,Math.min(s,Math.max(l(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),r=u(t.options.zMax,Math.max(r,n(e))))}),i=s===r?[{value:r}]:[{value:s},{value:(s+r)/2},{value:r,autoRanges:!0}],a.length&&a[0].radius&&i.reverse(),i.forEach(function(t,e){a&&a[e]&&(i[e]=c(!1,a[e],t))}),i},v.prototype.predictBubbleSizes=function(){var t,e=this.chart,i=this.fontMetrics,o=e.legend.options,a=o.floating,s="horizontal"===o.layout,r=s?e.legend.lastLineHeight:0,n=e.plotSizeX,l=e.plotSizeY,h=e.series[this.options.seriesIndex],p=Math.ceil(h.minPxSize),d=Math.ceil(h.maxPxSize),c=h.options.maxSize,u=Math.min(l,n);return a||!/%$/.test(c)?t=d:(c=parseFloat(c),t=(u+r-i.h/2)*c/100/(c/100+1),(s&&n<=l-t||!s&&l<=n-t)&&(t=d)),[p,Math.ceil(t)]},v.prototype.updateRanges=function(t,e){var i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()},v.prototype.correctSizes=function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex],i=e.maxPxSize,o=this.options.maxSize;1<Math.abs(Math.ceil(i)-o)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())},v);function v(t,e){this.chart=void 0,this.fontMetrics=void 0,this.legend=void 0,this.legendGroup=void 0,this.legendItem=void 0,this.legendItemHeight=void 0,this.legendItemWidth=void 0,this.legendSymbol=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=m,this.init(t,e)}return o(i,"afterGetAllItems",function(t){var e=this,i=e.bubbleLegend,o=e.options,a=o.bubbleLegend,s=e.chart.getVisibleBubbleSeriesIndex();i&&i.ranges&&i.ranges.length&&(a.ranges.length&&(a.autoRanges=!!a.ranges[0].autoRanges),e.destroyItem(i)),0<=s&&o.enabled&&a.enabled&&(a.seriesIndex=s,e.bubbleLegend=new r.BubbleLegend(a,e),e.bubbleLegend.addToLegend(t.allItems))}),t.prototype.getVisibleBubbleSeriesIndex=function(){for(var t=this.series,e=0;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1},i.prototype.getLinesHeights=function(){for(var t,e=this.allItems,i=[],o=e.length,a=0,s=0,a=0;a<o;a++)if(e[a].legendItemHeight&&(e[a].itemHeight=e[a].legendItemHeight),e[a]===e[o-1]||e[a+1]&&e[a]._legendItemPos[1]!==e[a+1]._legendItemPos[1]){for(i.push({height:0}),t=i[i.length-1];s<=a;s++)e[s].itemHeight>t.height&&(t.height=e[s].itemHeight);t.step=a}return i},i.prototype.retranslateItems=function(i){var o,a,s,t=this.allItems,r=this.options.rtl,n=0;t.forEach(function(t,e){o=t.legendGroup.translateX,a=t._legendItemPos[1],((s=t.movementX)||r&&t.ranges)&&(s=r?o-t.options.maxSize/2:o+s,t.legendGroup.attr({translateX:s})),e>i[n].step&&n++,t.legendGroup.attr({translateY:Math.round(a+i[n].height/2)}),t._legendItemPos[1]=a+i[n].height/2})},o(b,"legendItemClick",function(){var t,e=this,i=e.chart,o=e.visible,a=e.chart.legend;a&&a.bubbleLegend&&(e.visible=!o,e.ignoreSeries=o,t=0<=i.getVisibleBubbleSeriesIndex(),a.bubbleLegend.visible!==t&&(a.update({bubbleLegend:{enabled:t}}),a.bubbleLegend.visible=t),e.visible=o)}),f(t.prototype,"drawChartBox",function(t,e,i){var o,a,s=this,r=s.legend,n=0<=s.getVisibleBubbleSeriesIndex();r&&r.options.enabled&&r.bubbleLegend&&r.options.bubbleLegend.autoRanges&&n?(o=r.bubbleLegend.options,a=r.bubbleLegend.predictBubbleSizes(),r.bubbleLegend.updateRanges(a[0],a[1]),o.placed||(r.group.placed=!1,r.allItems.forEach(function(t){t.legendGroup.translateY=null})),r.render(),s.getMargins(),s.axes.forEach(function(t){t.visible&&t.render(),o.placed||(t.setScale(),t.updateNames(),h(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),o.placed=!0,s.getMargins(),t.call(s,e,i),r.bubbleLegend.correctSizes(),r.retranslateItems(r.getLinesHeights())):(t.call(s,e,i),r&&r.options.enabled&&r.bubbleLegend&&(r.render(),r.retranslateItems(r.getLinesHeights())))}),r.BubbleLegend=y,r.BubbleLegend}),i(e,"Series/Bubble/BubbleSeries.js",[e["Core/Axis/Axis.js"],e["Core/Series/Series.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,i,o,a,s){var r=i.parse,n=o.noop,m=s.arrayMax,y=s.arrayMin,v=s.clamp,l=s.extend,x=s.isNumber,P=s.pick,M=s.pInt,h=o.Series,p=e.seriesTypes;e.seriesType("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,isBubble:!0,pointAttribs:function(t,e){var i=this.options.marker.fillOpacity,o=h.prototype.pointAttribs.call(this,t,e);return 1!==i&&(o.fill=r(o.fill).setOpacity(i).get("rgba")),o},getRadii:function(t,e,i){for(var o,a=this.zData,s=this.yData,r=i.minPxSize,n=i.maxPxSize,l=[],h=0,p=a.length;h<p;h++)o=a[h],l.push(this.getRadius(t,e,r,n,o,s[h]));this.radii=l},getRadius:function(t,e,i,o,a,s){var r=this.options,n="width"!==r.sizeBy,l=r.zThreshold,h=e-t,p=.5;if(null===s||null===a)return null;if(x(a)){if(r.sizeByAbsoluteValue&&(a=Math.abs(a-l),e=h=Math.max(e-l,Math.abs(t-l)),t=0),a<t)return i/2-1;0<h&&(p=(a-t)/h)}return n&&0<=p&&(p=Math.sqrt(p)),Math.ceil(i+p*(o-i))/2},animate:function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){var e=t.graphic;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)},hasData:function(){return!!this.processedXData.length},translate:function(){var t,e,i,o=this.data,a=this.radii;for(p.scatter.prototype.translate.call(this),t=o.length;t--;)e=o[t],i=a?a[t]:0,x(i)&&i>=this.minPxSize/2?(e.marker=l(e.marker,{radius:i,width:2*i,height:2*i}),e.dlBox={x:e.plotX-i,y:e.plotY-i,width:2*i,height:2*i}):e.shapeArgs=e.plotY=e.dlBox=void 0},alignDataLabel:p.column.prototype.alignDataLabel,buildKDTree:n,applyZones:n},{haloPath:function(t){return a.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),t.prototype.beforePadding=function(){var a=this,t=this.len,i=this.chart,s=0,r=t,n=this.isXAxis,l=n?"xData":"yData",h=this.min,p={},d=Math.min(i.plotWidth,i.plotHeight),c=Number.MAX_VALUE,u=-Number.MAX_VALUE,g=this.max-h,f=t/g,b=[];this.series.forEach(function(t){var e,o=t.options;!t.bubblePadding||!t.visible&&i.options.chart.ignoreHiddenSeries||(a.allowZoomOutside=!0,b.push(t),n&&(["minSize","maxSize"].forEach(function(t){var e=o[t],i=/%$/.test(e),e=M(e);p[t]=i?d*e/100:e}),t.minPxSize=p.minSize,t.maxPxSize=Math.max(p.maxSize,p.minSize),(e=t.zData.filter(x)).length&&(c=P(o.zMin,v(y(e),!1===o.displayNegative?o.zThreshold:-Number.MAX_VALUE,c)),u=P(o.zMax,Math.max(u,m(e))))))}),b.forEach(function(t){var e,i=t[l],o=i.length;if(n&&t.getRadii(c,u,t),0<g)for(;o--;)x(i[o])&&a.dataMin<=i[o]&&i[o]<=a.max&&(e=t.radii?t.radii[o]:0,s=Math.min((i[o]-h)*f-e,s),r=Math.max((i[o]-h)*f+e,r))}),b.length&&0<g&&!this.logarithmic&&(r-=t,f*=(t+Math.max(0,s)-Math.min(r,t))/t,[["min","userMin",s],["max","userMax",r]].forEach(function(t){void 0===P(a.options[t[0]],a[t[1]])&&(a[t[0]]+=t[2]/f)}))}}),i(e,"Series/Networkgraph/DraggableNodes.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i){var s=i.addEvent;e.dragNodesMixin={onMouseDown:function(t,e){var i=this.chart.pointer.normalize(e);t.fixedPosition={chartX:i.chartX,chartY:i.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){var i,o,a,s,r,n,l;t.fixedPosition&&t.inDragMode&&(o=(i=this.chart).pointer.normalize(e),a=t.fixedPosition.chartX-o.chartX,s=t.fixedPosition.chartY-o.chartY,l=i.graphLayoutsLookup,(5<Math.abs(a)||5<Math.abs(s))&&(r=t.fixedPosition.plotX-a,n=t.fixedPosition.plotY-s,i.isInsidePlot(r,n)&&(t.plotX=r,t.plotY=n,t.hasDragged=!0,this.redrawHalo(t),l.forEach(function(t){t.restartSimulation()}))))},onMouseUp:function(t,e){t.fixedPosition&&(t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}},s(t,"load",function(){var t,i,o,a=this;a.container&&(t=s(a.container,"mousedown",function(t){var e=a.hoverPoint;e&&e.series&&e.series.hasDraggableNodes&&e.series.options.draggable&&(e.series.onMouseDown(e,t),i=s(a.container,"mousemove",function(t){return e&&e.series&&e.series.onMouseMove(e,t)}),o=s(a.container.ownerDocument,"mouseup",function(t){return i(),o(),e&&e.series&&e.series.onMouseUp(e,t)}))})),s(a,"destroy",function(){t()})})}),i(e,"Series/Networkgraph/Integrations.js",[e["Core/Globals.js"]],function(t){t.networkgraphIntegrations={verlet:{attractiveForceFunction:function(t,e){return(e-t)/t},repulsiveForceFunction:function(t,e){return(e-t)/t*(t<e?1:0)},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,i=this.barycenter.yFactor,e=(e-(this.box.left+this.box.width)/2)*t,i=(i-(this.box.top+this.box.height)/2)*t;this.nodes.forEach(function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=i/t.mass/t.degree)})},repulsive:function(t,e,i){var o=e*this.diffTemperature/t.mass/t.degree;t.fixedPosition||(t.plotX+=i.x*o,t.plotY+=i.y*o)},attractive:function(t,e,i){var o=t.getMass(),a=-i.x*e*this.diffTemperature,s=-i.y*e*this.diffTemperature;t.fromNode.fixedPosition||(t.fromNode.plotX-=a*o.fromNode/t.fromNode.degree,t.fromNode.plotY-=s*o.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=a*o.toNode/t.toNode.degree,t.toNode.plotY+=s*o.toNode/t.toNode.degree)},integrate:function(t,e){var i=-t.options.friction,o=t.options.maxSpeed,a=e.prevX,s=e.prevY,r=(e.plotX+e.dispX-a)*i,n=(e.plotY+e.dispY-s)*i,l=Math.abs,h=l(r)/(r||1),p=l(n)/(n||1),r=h*Math.min(o,Math.abs(r)),n=p*Math.min(o,Math.abs(n));e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=r,e.plotY+=n,e.temperature=t.vectorLength({x:r,y:n})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)}},euler:{attractiveForceFunction:function(t,e){return t*t/e},repulsiveForceFunction:function(t,e){return e*e/t},barycenter:function(){var o=this.options.gravitationalConstant,a=this.barycenter.xFactor,s=this.barycenter.yFactor;this.nodes.forEach(function(t){var e,i;t.fixedPosition||(i=(e=t.getDegree())*(1+e/2),t.dispX+=(a-t.plotX)*o*i/t.degree,t.dispY+=(s-t.plotY)*o*i/t.degree)})},repulsive:function(t,e,i,o){t.dispX+=i.x/o*e/t.degree,t.dispY+=i.y/o*e/t.degree},attractive:function(t,e,i,o){var a=t.getMass(),s=i.x/o*e,r=i.y/o*e;t.fromNode.fixedPosition||(t.fromNode.dispX-=s*a.fromNode/t.fromNode.degree,t.fromNode.dispY-=r*a.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=s*a.toNode/t.toNode.degree,t.toNode.dispY+=r*a.toNode/t.toNode.degree)},integrate:function(t,e){var i;e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction,0!==(i=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY}))&&(e.plotX+=e.dispX/i*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/i*Math.min(Math.abs(e.dispY),t.temperature))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)}}}}),i(e,"Series/Networkgraph/QuadTree.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){var i=e.extend,a=t.QuadTreeNode=function(t){this.box=t,this.boxSize=Math.min(t.width,t.height),this.nodes=[],this.isInternal=!1,this.body=!1,this.isEmpty=!0};i(a.prototype,{insert:function(t,e){var i;this.isInternal?this.nodes[this.getBoxPosition(t)].insert(t,e-1):(this.isEmpty=!1,this.body?e?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,e-1),this.body=!0),this.nodes[this.getBoxPosition(t)].insert(t,e-1)):((i=new a({top:t.plotX,left:t.plotY,width:.1,height:.1})).body=t,i.isInternal=!1,this.nodes.push(i)):(this.isInternal=!1,this.body=t))},updateMassAndCenter:function(){var e=0,i=0,o=0;this.isInternal?(this.nodes.forEach(function(t){t.isEmpty||(e+=t.mass,i+=t.plotX*t.mass,o+=t.plotY*t.mass)}),i/=e,o/=e):this.body&&(e=this.body.mass,i=this.body.plotX,o=this.body.plotY),this.mass=e,this.plotX=i,this.plotY=o},divideBox:function(){var t=this.box.width/2,e=this.box.height/2;this.nodes[0]=new a({left:this.box.left,top:this.box.top,width:t,height:e}),this.nodes[1]=new a({left:this.box.left+t,top:this.box.top,width:t,height:e}),this.nodes[2]=new a({left:this.box.left+t,top:this.box.top+e,width:t,height:e}),this.nodes[3]=new a({left:this.box.left,top:this.box.top+e,width:t,height:e})},getBoxPosition:function(t){var e=t.plotX<this.box.left+this.box.width/2,i=t.plotY<this.box.top+this.box.height/2,o=e?i?0:3:i?1:2;return o}}),i((t.QuadTree=function(t,e,i,o){this.box={left:t,top:e,width:i,height:o},this.maxDepth=25,this.root=new a(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(t){t.forEach(function(t){this.root.insert(t,this.maxDepth)},this)},visitNodeRecursive:function(t,e,i){var o;(t=t||this.root)===this.root&&e&&(o=e(t)),!1!==o&&(t.nodes.forEach(function(t){if(t.isInternal){if(e&&(o=e(t)),!1===o)return;this.visitNodeRecursive(t,e,i)}else t.body&&e&&e(t.body);i&&i(t)},this),t===this.root&&i&&i(t))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})}})}),i(e,"Series/Networkgraph/Layouts.js",[e["Core/Chart/Chart.js"],e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i,o){var a=e.setAnimation,s=o.addEvent,r=o.clamp,n=o.defined,l=o.extend,h=o.isFunction,p=o.pick;i.layouts={"reingold-fruchterman":function(){}},l(i.layouts["reingold-fruchterman"].prototype,{init:function(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=i.networkgraphIntegrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=p(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=p(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation},updateSimulation:function(t){this.enableSimulation=p(t,this.options.enableSimulation)},start:function(){var t=this,e=this.series,i=this.options;t.currentStep=0,t.forces=e[0]&&e[0].forces||[],t.chart=e[0]&&e[0].chart,t.initialRendering&&(t.initPositions(),e.forEach(function(t){t.finishedAnimating=!0,t.render()})),t.setK(),t.resetSimulation(i),t.enableSimulation&&t.step()},step:function(){var e=this,t=this.series;this.options;e.currentStep++,"barnes-hut"===e.approximation&&(e.createQuadTree(),e.quadTree.calculateMassAndCenter()),e.forces.forEach(function(t){e[t+"Forces"](e.temperature)}),e.applyLimits(e.temperature),e.temperature=e.coolDown(e.startTemperature,e.diffTemperature,e.currentStep),e.prevSystemTemperature=e.systemTemperature,e.systemTemperature=e.getSystemTemperature(),e.enableSimulation&&(t.forEach(function(t){t.chart&&t.render()}),e.maxIterations--&&isFinite(e.temperature)&&!e.isStable()?(e.simulation&&i.win.cancelAnimationFrame(e.simulation),e.simulation=i.win.requestAnimationFrame(function(){e.step()})):e.simulation=!1)},stop:function(){this.simulation&&i.win.cancelAnimationFrame(this.simulation)},setArea:function(t,e,i,o){this.box={left:t,top:e,width:i,height:o}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(t,e){t.forEach(function(t){-1===e.indexOf(t)&&e.push(t)})},removeElementFromCollection:function(t,e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(t){this.maxIterations=p(t,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(t){this.initialRendering=t},createQuadTree:function(){this.quadTree=new i.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var t=this.options.initialPositions;h(t)?(t.call(this),this.nodes.forEach(function(t){n(t.prevX)||(t.prevX=t.plotX),n(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0})):"circle"===t?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){var i=this.box,t=this.nodes,e=t.length+1,o=2*Math.PI/e,a=t.filter(function(t){return 0===t.linksTo.length}),s=[],r={},n=this.options.initialPositionRadius;a.forEach(function(t){s.push(t),function e(t){t.linksFrom.forEach(function(t){r[t.toNode.id]||(r[t.toNode.id]=!0,s.push(t.toNode),e(t.toNode))})}(t)}),s.length?t.forEach(function(t){-1===s.indexOf(t)&&s.push(t)}):s=t,s.forEach(function(t,e){t.plotX=t.prevX=p(t.plotX,i.width/2+n*Math.cos(e*o)),t.plotY=t.prevY=p(t.plotY,i.height/2+n*Math.sin(e*o)),t.dispX=0,t.dispY=0})},setRandomPositions:function(){var i=this.box,t=this.nodes,o=t.length+1;function a(t){var e=t*t/Math.PI;return e-=Math.floor(e)}t.forEach(function(t,e){t.plotX=t.prevX=p(t.plotX,i.width*a(e)),t.plotY=t.prevY=p(t.plotY,i.height*a(o+e)),t.dispX=0,t.dispY=0})},force:function(t){this.integration[t].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var e=0,i=0,o=0;return this.nodes.forEach(function(t){i+=t.plotX*t.mass,o+=t.plotY*t.mass,e+=t.mass}),this.barycenter={x:i,y:o,xFactor:i/e,yFactor:o/e},this.barycenter},barnesHutApproximation:function(t,e){var i,o,a=this,s=a.getDistXY(t,e),r=a.vectorLength(s);return t!==e&&0!==r&&(e.isInternal?i=!(e.boxSize/r<a.options.theta&&0!==r)||(o=a.repulsiveForce(r,a.k),a.force("repulsive",t,o*e.mass,s,r),!1):(o=a.repulsiveForce(r,a.k),a.force("repulsive",t,o*e.mass,s,r))),i},repulsiveForces:function(){var s=this;"barnes-hut"===s.approximation?s.nodes.forEach(function(e){s.quadTree.visitNodeRecursive(null,function(t){return s.barnesHutApproximation(e,t)})}):s.nodes.forEach(function(a){s.nodes.forEach(function(t){var e,i,o;a===t||a.fixedPosition||(o=s.getDistXY(a,t),0!==(i=s.vectorLength(o))&&(e=s.repulsiveForce(i,s.k),s.force("repulsive",a,e*t.mass,o,i)))})})},attractiveForces:function(){var e,i,o,a=this;a.links.forEach(function(t){t.fromNode&&t.toNode&&(e=a.getDistXY(t.fromNode,t.toNode),0!==(i=a.vectorLength(e))&&(o=a.attractiveForce(i,a.k),a.force("attractive",t,o,e,i)))})},applyLimits:function(){var e=this;e.nodes.forEach(function(t){t.fixedPosition||(e.integration.integrate(e,t),e.applyLimitBox(t,e.box),t.dispX=0,t.dispY=0)})},applyLimitBox:function(t,e){var i=t.radius;t.plotX=r(t.plotX,e.left+i,e.width-i),t.plotY=r(t.plotY,e.top+i,e.height-i)},coolDown:function(t,e,i){return t-e*i},isStable:function(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0},getSystemTemperature:function(){return this.nodes.reduce(function(t,e){return t+e.temperature},0)},vectorLength:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},getDistR:function(t,e){var i=this.getDistXY(t,e);return this.vectorLength(i)},getDistXY:function(t,e){var i=t.plotX-e.plotX,o=t.plotY-e.plotY;return{x:i,y:o,absX:Math.abs(i),absY:Math.abs(o)}}}),s(t,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(t){t.stop()})}),s(t,"render",function(){var e,i=!1;function t(t){t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),i=!(e=!1))}if(this.graphLayoutsLookup){for(a(!1,this),this.graphLayoutsLookup.forEach(function(t){t.start()});!e;)e=!0,this.graphLayoutsLookup.forEach(t);i&&this.series.forEach(function(t){t&&t.layout&&t.render()})}}),s(t,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(t){t.updateSimulation(!1)}),this.redraw())}),s(t,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(t){t.updateSimulation()}),this.redraw()})}),i(e,"Series/PackedBubbleSeries.js",[e["Core/Series/Series.js"],e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,o,e,r,s,i){var n=e.parse,a=i.addEvent,f=i.clamp,h=i.defined,p=i.extend,l=i.extendClass,d=i.fireEvent,c=i.isArray,u=i.isNumber,g=i.merge,b=i.pick,m=r.Series,y=r.layouts["reingold-fruchterman"],v=r.dragNodesMixin;o.prototype.getSelectedParentNodes=function(){var t=this.series,e=[];return t.forEach(function(t){t.parentNode&&t.parentNode.selected&&e.push(t.parentNode)}),e},r.networkgraphIntegrations.packedbubble={repulsiveForceFunction:function(t,e,i,o){return Math.min(t,(i.marker.radius+o.marker.radius)/2)},barycenter:function(){var e,i,o=this,a=o.options.gravitationalConstant,s=o.box,r=o.nodes;r.forEach(function(t){i=o.options.splitSeries&&!t.isParentNode?(e=t.series.parentNode.plotX,t.series.parentNode.plotY):(e=s.width/2,s.height/2),t.fixedPosition||(t.plotX-=(t.plotX-e)*a/(t.mass*Math.sqrt(r.length)),t.plotY-=(t.plotY-i)*a/(t.mass*Math.sqrt(r.length)))})},repulsive:function(t,e,i,o){var a=e*this.diffTemperature/t.mass/t.degree,s=i.x*a,r=i.y*a;t.fixedPosition||(t.plotX+=s,t.plotY+=r),o.fixedPosition||(o.plotX-=s,o.plotY-=r)},integrate:r.networkgraphIntegrations.verlet.integrate,getK:r.noop},r.layouts.packedbubble=l(y,{beforeStep:function(){this.options.marker&&this.series.forEach(function(t){t&&t.calculateParentRadius()})},setCircularPositions:function(){var i,o,a=this,s=a.box,t=a.nodes,e=t.length+1,r=2*Math.PI/e,n=a.options.initialPositionRadius;t.forEach(function(t,e){o=a.options.splitSeries&&!t.isParentNode?(i=t.series.parentNode.plotX,t.series.parentNode.plotY):(i=s.width/2,s.height/2),t.plotX=t.prevX=b(t.plotX,i+n*Math.cos(t.index||e*r)),t.plotY=t.prevY=b(t.plotY,o+n*Math.sin(t.index||e*r)),t.dispX=0,t.dispY=0})},repulsiveForces:function(){var i,o,a,s=this,r=s.options.bubblePadding;s.nodes.forEach(function(e){e.degree=e.mass,e.neighbours=0,s.nodes.forEach(function(t){i=0,e===t||e.fixedPosition||!s.options.seriesInteraction&&e.series!==t.series||(a=s.getDistXY(e,t),(o=s.vectorLength(a)-(e.marker.radius+t.marker.radius+r))<0&&(e.degree+=.01,e.neighbours++,i=s.repulsiveForce(-o/Math.sqrt(e.neighbours),s.k,e,t)),s.force("repulsive",e,i*t.mass,a,t,o))})})},applyLimitBox:function(t){var e,i;this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit&&(e=this.getDistXY(t,t.series.parentNode),(i=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(e))<0&&i>-2*t.marker.radius&&(t.plotX-=.01*e.x,t.plotY-=.01*e.y)),y.prototype.applyLimitBox.apply(this,arguments)}}),t.seriesType("packedbubble","bubble",{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){return this.point.value},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:1,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}},{hasDraggableNodes:!0,forces:["barycenter","repulsive"],pointArrayMap:["value"],trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],pointValKey:"value",isCartesian:!1,requireSorting:!1,directTouch:!0,axisTypes:[],noSharedTooltip:!0,searchPoint:r.noop,accumulateAllPoints:function(t){for(var e,i=t.chart,o=[],a=0;a<i.series.length;a++)if((t=i.series[a]).is("packedbubble")&&t.visible||!i.options.chart.ignoreHiddenSeries)for(e=0;e<t.yData.length;e++)o.push([null,null,t.yData[e],t.index,e,{id:e,marker:{radius:0}}]);return o},init:function(){return m.prototype.init.apply(this,arguments),a(this,"updatedData",function(){this.chart.series.forEach(function(t){t.type===this.type&&(t.isDirty=!0)},this)}),this},render:function(){var e=[];m.prototype.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(function(t){c(t.dataLabels)&&t.dataLabels.forEach(function(t){e.push(t)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))},setVisible:function(){var e=this;m.prototype.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach(function(t){e.layout.removeElementFromCollection(t,e.layout.nodes)}))},drawDataLabels:function(){var t=this.options.dataLabels.textPath,e=this.points;m.prototype.drawDataLabels.apply(this,arguments),this.parentNode&&(this.parentNode.formatPrefix="parentNode",this.points=[this.parentNode],this.options.dataLabels.textPath=this.options.dataLabels.parentNodeTextPath,m.prototype.drawDataLabels.apply(this,arguments),this.points=e,this.options.dataLabels.textPath=t)},seriesBox:function(){var e,t=this.chart,i=this.data,o=Math.max,a=Math.min,s=[t.plotLeft,t.plotLeft+t.plotWidth,t.plotTop,t.plotTop+t.plotHeight];return i.forEach(function(t){h(t.plotX)&&h(t.plotY)&&t.marker.radius&&(e=t.marker.radius,s[0]=a(s[0],t.plotX-e),s[1]=o(s[1],t.plotX+e),s[2]=a(s[2],t.plotY-e),s[3]=o(s[3],t.plotY+e))}),u(s.width/s.height)?s:null},calculateParentRadius:function(){var t=this,e=t.seriesBox();t.parentNodeRadius=f(Math.sqrt(2*t.parentNodeMass/Math.PI)+20,20,e?Math.max(Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2+20,20):Math.sqrt(2*t.parentNodeMass/Math.PI)+20),t.parentNode&&(t.parentNode.marker.radius=t.parentNode.radius=t.parentNodeRadius)},drawGraph:function(){var t,e,i,o,a,s;this.layout&&this.layout.options.splitSeries&&(e=(t=this).chart,a={fill:(o=this.layout.options.parentNodeOptions.marker).fillColor||n(t.color).brighten(.4).get(),opacity:o.fillOpacity,stroke:o.lineColor||t.color,"stroke-width":o.lineWidth},s=t.visible?"inherit":"hidden",this.parentNodesGroup||(t.parentNodesGroup=t.plotGroup("parentNodesGroup","parentNode",s,.1,e.seriesGroup),t.group.attr({zIndex:2})),this.calculateParentRadius(),i=g({x:t.parentNode.plotX-t.parentNodeRadius,y:t.parentNode.plotY-t.parentNodeRadius,width:2*t.parentNodeRadius,height:2*t.parentNodeRadius},a),t.parentNode.graphic||(t.graph=t.parentNode.graphic=e.renderer.symbol(a.symbol).add(t.parentNodesGroup)),t.parentNode.graphic.attr(i))},createParentNodes:function(){var e,i=this,t=i.chart,o=i.parentNodeLayout,a=i.parentNode,s=i.pointClass;i.parentNodeMass=0,i.points.forEach(function(t){i.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)}),i.calculateParentRadius(),o.nodes.forEach(function(t){t.seriesIndex===i.index&&(e=!0)}),o.setArea(0,0,t.plotWidth,t.plotHeight),e||(a=a||(new s).init(this,{mass:i.parentNodeRadius/2,marker:{radius:i.parentNodeRadius},dataLabels:{inside:!1},dataLabelOnNull:!0,degree:i.parentNodeRadius,isParentNode:!0,seriesIndex:i.index}),i.parentNode&&(a.plotX=i.parentNode.plotX,a.plotY=i.parentNode.plotY),i.parentNode=a,o.addElementsToCollection([i],o.series),o.addElementsToCollection([a],o.nodes))},drawTracker:function(){this.chart.pointer;var t,e=this.parentNode;r.TrackerMixin.drawTrackerPoint.call(this),e&&(t=c(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach(function(t){t.div?t.div.point=e:t.element.point=e}))},addSeriesLayout:function(){var t=this,e=t.options.layoutAlgorithm,i=t.chart.graphLayoutsStorage,o=t.chart.graphLayoutsLookup,a=g(e,e.parentNodeOptions,{enableSimulation:t.layout.options.enableSimulation}),s=i[e.type+"-series"];s||(i[e.type+"-series"]=s=new r.layouts[e.type],s.init(a),o.splice(s.index,0,s)),t.parentNodeLayout=s,this.createParentNodes()},addLayout:function(){var t,e=this,i=e.options.layoutAlgorithm,o=e.chart.graphLayoutsStorage,a=e.chart.graphLayoutsLookup,s=e.chart.options.chart;o||(e.chart.graphLayoutsStorage=o={},e.chart.graphLayoutsLookup=a=[]),(t=o[i.type])||(i.enableSimulation=h(s.forExport)?!s.forExport:i.enableSimulation,o[i.type]=t=new r.layouts[i.type],t.init(i),a.splice(t.index,0,t)),e.layout=t,e.points.forEach(function(t){t.mass=2,t.degree=1,t.collisionNmb=1}),t.setArea(0,0,e.chart.plotWidth,e.chart.plotHeight),t.addElementsToCollection([e],t.series),t.addElementsToCollection(e.points,t.nodes)},deferLayout:function(){var t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())},translate:function(){var t,e,i,o,a=this,s=a.chart,r=a.data,n=a.index,l=a.options.useSimulation;for(a.processedXData=a.xData,a.generatePoints(),h(s.allDataPoints)||(s.allDataPoints=a.accumulateAllPoints(a),a.getPointRadius()),l?i=s.allDataPoints:(i=a.placeBubbles(s.allDataPoints),a.options.draggable=!1),o=0;o<i.length;o++)i[o][3]===n&&(t=r[i[o][4]],e=i[o][2],l||(t.plotX=i[o][0]-s.plotLeft+s.diffX,t.plotY=i[o][1]-s.plotTop+s.diffY),t.marker=p(t.marker,{radius:e,width:2*e,height:2*e}),t.radius=e);l&&a.deferLayout(),d(a,"afterTranslate")},checkOverlap:function(t,e){var i=t[0]-e[0],o=t[1]-e[1],a=t[2]+e[2];return Math.sqrt(i*i+o*o)-Math.abs(a)<-.001},positionBubble:function(t,e,i){var o=Math.sqrt,a=Math.asin,s=Math.acos,r=Math.pow,n=Math.abs,l=o(r(t[0]-e[0],2)+r(t[1]-e[1],2)),h=s((r(l,2)+r(i[2]+e[2],2)-r(i[2]+t[2],2))/(2*(i[2]+e[2])*l)),p=a(n(t[0]-e[0])/l),d=(t[1]-e[1]<0?0:Math.PI)+h+p*((t[0]-e[0])*(t[1]-e[1])<0?1:-1),c=Math.cos(d),u=Math.sin(d);return[e[0]+(e[2]+i[2])*u,e[1]-(e[2]+i[2])*c,i[2],i[3],i[4]]},placeBubbles:function(t){var e,i,o=this,a=o.checkOverlap,s=o.positionBubble,r=[],n=1,l=0,h=0,p=[],d=t.sort(function(t,e){return e[2]-t[2]});if(d.length){if(r.push([[0,0,d[0][2],d[0][3],d[0][4]]]),1<d.length)for(r.push([[0,0-d[1][2]-d[0][2],d[1][2],d[1][3],d[1][4]]]),i=2;i<d.length;i++)d[i][2]=d[i][2]||1,a(e=s(r[n][l],r[n-1][h],d[i]),r[n][0])?(r.push([]),h=0,r[n+1].push(s(r[n][l],r[n][0],d[i])),n++,l=0):1<n&&r[n-1][h+1]&&a(e,r[n-1][h+1])?(h++,r[n].push(s(r[n][l],r[n-1][h],d[i])),l++):(l++,r[n].push(e));o.chart.stages=r,o.chart.rawPositions=[].concat.apply([],r),o.resizeRadius(),p=o.chart.rawPositions}return p},resizeRadius:function(){for(var t,e,i,o,a,s,r=this.chart,n=r.rawPositions,l=Math.min,h=Math.max,p=r.plotLeft,d=r.plotTop,c=r.plotHeight,u=r.plotWidth,g=t=Number.POSITIVE_INFINITY,f=e=Number.NEGATIVE_INFINITY,b=0;b<n.length;b++)i=n[b][2],g=l(g,n[b][0]-i),f=h(f,n[b][0]+i),t=l(t,n[b][1]-i),e=h(e,n[b][1]+i);if(a=[(u-p)/(o=[f-g,e-t])[0],(c-d)/o[1]],s=l.apply([],a),1e-10<Math.abs(s-1)){for(b=0;b<n.length;b++)n[b][2]*=s;this.placeBubbles(n)}else r.diffY=c/2+d-t-(e-t)/2,r.diffX=u/2+p-g-(f-g)/2},calculateZExtremes:function(){var t=this.chart,e=this.options.zMin,i=this.options.zMax,o=1/0,a=-1/0;return e&&i?[e,i]:(t.series.forEach(function(t){t.yData.forEach(function(t){h(t)&&(a<t&&(a=t),t<o&&(o=t))})}),[e=b(e,o),i=b(i,a)])},getPointRadius:function(){var i,o,a,s,r,n=this,t=n.chart,e=t.plotWidth,l=t.plotHeight,h=n.options,p=h.useSimulation,d=Math.min(e,l),c={},u=[],g=t.allDataPoints;["minSize","maxSize"].forEach(function(t){var e=parseInt(h[t],10),i=/%$/.test(h[t]);c[t]=i?d*e/100:e*Math.sqrt(g.length)}),t.minRadius=i=c.minSize/Math.sqrt(g.length),t.maxRadius=o=c.maxSize/Math.sqrt(g.length),r=p?n.calculateZExtremes():[i,o],(g||[]).forEach(function(t,e){a=p?f(t[2],r[0],r[1]):t[2],0===(s=n.getRadius(r[0],r[1],i,o,a))&&(s=null),g[e][2]=s,u.push(s)}),n.radii=u},redrawHalo:v.redrawHalo,onMouseDown:v.onMouseDown,onMouseMove:v.onMouseMove,onMouseUp:function(e){var i,o,t;e.fixedPosition&&!e.removed&&(o=this.layout,(t=this.parentNodeLayout)&&o.options.dragBetweenSeries&&t.nodes.forEach(function(t){e&&e.marker&&t!==e.series.parentNode&&(i=o.getDistXY(e,t),o.vectorLength(i)-t.marker.radius-e.marker.radius<0&&(t.series.addPoint(g(e.options,{plotX:e.plotX,plotY:e.plotY}),!1),o.removeElementFromCollection(e,o.nodes),e.remove()))}),v.onMouseUp.apply(this,arguments))},destroy:function(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(function(t){t.removeElementFromCollection(this,t.series)},this),this.parentNode&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),r.Series.prototype.destroy.apply(this,arguments)},alignDataLabel:r.Series.prototype.alignDataLabel},{destroy:function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),s.prototype.destroy.apply(this,arguments)},firePointEvent:function(t,e,i){var o,a=this.series.options;this.isParentNode&&a.parentNode?(o=a.allowPointSelect,a.allowPointSelect=a.parentNode.allowPointSelect,s.prototype.firePointEvent.apply(this,arguments),a.allowPointSelect=o):s.prototype.firePointEvent.apply(this,arguments)},select:function(t,e){var i=this.series.chart;this.isParentNode?(i.getSelectedPoints=i.getSelectedParentNodes,s.prototype.select.apply(this,arguments),i.getSelectedPoints=o.prototype.getSelectedPoints):s.prototype.select.apply(this,arguments)}}),a(o,"beforeRedraw",function(){this.allDataPoints&&delete this.allDataPoints})}),i(e,"Extensions/Polar.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Extensions/Pane.js"],e["Core/Pointer.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,e,b,i,o,a,A){var s,r,m=t.animObject,n=A.addEvent,N=A.defined,l=A.find,T=A.isNumber,y=A.pick,h=A.splat,p=A.uniqueKey,d=A.wrap,c=b.Series,u=b.seriesTypes,g=c.prototype,f=o.prototype;g.searchPointByAngle=function(t){var e=this.chart,i=this.xAxis.pane.center,o=t.chartX-i[0]-e.plotLeft,a=t.chartY-i[1]-e.plotTop;return this.searchKDTree({clientX:180+Math.atan2(o,a)*(-180/Math.PI)})},g.getConnectors=function(t,e,i,o){var a,s=o?1:0,r=0<=e&&e<=t.length-1?e:e<0?t.length-1+e:0,n=r-1<0?t.length-(1+s):r-1,l=r+1>t.length-1?s:r+1,h=t[n],p=t[l],d=h.plotX,c=h.plotY,u=p.plotX,g=p.plotY,f=t[r].plotX,b=t[r].plotY,m=(1.5*f+d)/2.5,y=(1.5*b+c)/2.5,v=(1.5*f+u)/2.5,x=(1.5*b+g)/2.5,P=Math.sqrt(Math.pow(m-f,2)+Math.pow(y-b,2)),M=Math.sqrt(Math.pow(v-f,2)+Math.pow(x-b,2)),S=Math.atan2(y-b,m-f),L=Math.atan2(x-b,v-f),k=Math.PI/2+(S+L)/2;return Math.abs(S-k)>Math.PI/2&&(k-=Math.PI),m=f+Math.cos(k)*P,y=b+Math.sin(k)*P,a={rightContX:v=f+Math.cos(Math.PI+k)*M,rightContY:x=b+Math.sin(Math.PI+k)*M,leftContX:m,leftContY:y,plotX:f,plotY:b},i&&(a.prevPointCont=this.getConnectors(t,n,!1,o)),a},g.toXY=function(t){var e,i,o=this.chart,a=this.xAxis,s=this.yAxis,r=t.plotX,n=t.plotY,l=t.series,h=o.inverted,p=t.y,d=h?r:s.len-n;h&&l&&!l.isRadialBar&&(t.plotY=n="number"==typeof p&&s.translate(p)||0),t.rectPlotX=r,t.rectPlotY=n,s.center&&(d+=s.center[3]/2),e=h?s.postTranslate(n,d):a.postTranslate(r,d),t.plotX=t.polarPlotX=e.x-o.plotLeft,t.plotY=t.polarPlotY=e.y-o.plotTop,this.kdByAngle?((i=(r/Math.PI*180+a.pane.options.startAngle)%360)<0&&(i+=360),t.clientX=i):t.clientX=t.plotX},u.spline&&(d(u.spline.prototype,"getPointSpline",function(t,e,i,o){var a,s=this.chart.polar?o?["C",(a=this.getConnectors(e,o,!0,this.connectEnds)).prevPointCont.rightContX,a.prevPointCont.rightContY,a.leftContX,a.leftContY,a.plotX,a.plotY]:["M",i.plotX,i.plotY]:t.call(this,e,i,o);return s}),u.areasplinerange&&(u.areasplinerange.prototype.getPointSpline=u.spline.prototype.getPointSpline)),n(c,"afterTranslate",function(){var t=this,e=t.chart;if(e.polar&&t.xAxis){if(t.kdByAngle=e.tooltip&&e.tooltip.shared,t.kdByAngle?t.searchPoint=t.searchPointByAngle:t.options.findNearestPointBy="xy",!t.preventPostTranslate)for(var i=t.points,o=i.length;o--;)t.toXY(i[o]),!e.hasParallelCoordinates&&!t.yAxis.reversed&&i[o].y<t.yAxis.min&&(i[o].isNull=!0);this.hasClipCircleSetter||(this.hasClipCircleSetter=!!t.eventsToUnbind.push(n(t,"afterRender",function(){var t;e.polar&&(t=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2}):this.clipCircle=e.renderer.clipCircle(t[0],t[1],t[2]/2,t[3]/2),this.group.clip(this.clipCircle),this.setClip=b.noop)})))}},{order:2}),d(g,"getGraphPath",function(t,e){var i,o,a,s=this;if(this.chart.polar){for(e=e||this.points,i=0;i<e.length;i++)if(!e[i].isNull){o=i;break}!1!==this.options.connectEnds&&void 0!==o&&(this.connectEnds=!0,e.splice(e.length,0,e[o]),a=!0),e.forEach(function(t){void 0===t.polarPlotY&&s.toXY(t)})}var r=t.apply(this,[].slice.call(arguments,1));return a&&e.pop(),r});function v(t,e){var i,o,a,s,r,n,l=this,h=this.chart,p=this.options.animation,d=this.group,c=this.markerGroup,u=this.xAxis.center,g=h.plotLeft,f=h.plotTop;h.polar?l.isRadialBar?e||(l.startAngleRad=y(l.translatedThreshold,l.xAxis.startAngleRad),b.seriesTypes.pie.prototype.animate.call(l,e)):h.renderer.isSVG&&(p=m(p),l.is("column")?e||(o=u[3]/2,l.points.forEach(function(t){a=t.graphic,s=t.shapeArgs,r=s&&s.r,n=s&&s.innerR,a&&s&&(a.attr({r:o,innerR:o}),a.animate({r:r,innerR:n},l.options.animation))})):e?(i={translateX:u[0]+g,translateY:u[1]+f,scaleX:.001,scaleY:.001},d.attr(i),c&&c.attr(i)):(i={translateX:g,translateY:f,scaleX:1,scaleY:1},d.animate(i,p),c&&c.animate(i,p))):t.call(this,e)}d(g,"animate",v),u.column&&(r=u.arearange.prototype,(s=u.column.prototype).polarArc=function(t,e,i,o){var a=this.xAxis.center,s=this.yAxis.len,r=a[3]/2,n=s-e+r,l=s-y(t,s)+r;return this.yAxis.reversed&&(n<0&&(n=r),l<0&&(l=r)),{x:a[0],y:a[1],r:n,innerR:l,start:i,end:o}},d(s,"animate",v),d(s,"translate",function(t){var e,i,o,a,s,r,n,l,h,p,d,c,u,g,f,b,m=this,y=m.options,v=y.threshold,x=y.stacking,P=m.chart,M=m.xAxis,S=m.yAxis,L=S.reversed,k=S.center,w=M.startAngleRad,C=M.endAngleRad-w;if(m.preventPostTranslate=!0,t.call(m),M.isRadial)for(a=(i=m.points).length,s=S.translate(S.min),r=S.translate(S.max),v=y.threshold||0,P.inverted&&T(v)&&(e=S.translate(v),N(e)&&(e<0?e=0:C<e&&(e=C),m.translatedThreshold=e+w));a--;)g=(o=i[a]).barX,p=o.x,d=o.y,o.shapeType="arc",P.inverted?(o.plotY=S.translate(d),x&&S.stacking?(u=S.stacking.stacks[(d<0?"-":"")+m.stackKey],m.visible&&u&&u[p]&&(o.isNull||(c=u[p].points[m.getStackIndicator(void 0,p,m.index).key],n=S.translate(c[0]),l=S.translate(c[1]),N(n)&&(n=A.clamp(n,0,C))))):(n=e,l=o.plotY),l<n&&(l=[n,n=l][0]),L?s<l?l=s:n<r?n=r:(s<n||l<r)&&(n=l=C):n<s?n=s:r<l?l=r:(l<s||r<n)&&(n=l=0),S.min>S.max&&(n=l=L?C:0),n+=w,l+=w,k&&(o.barX=g+=k[3]/2),f=Math.max(g,0),b=Math.max(g+o.pointWidth,0),o.shapeArgs={x:k&&k[0],y:k&&k[1],r:b,innerR:f,start:n,end:l},o.opacity=n===l?0:void 0,o.plotY=(N(m.translatedThreshold)&&(n<m.translatedThreshold?n:l))-w):(n=g+w,o.shapeArgs=m.polarArc(o.yBottom,o.plotY,n,n+o.pointWidth)),m.toXY(o),P.inverted?(h=S.postTranslate(o.rectPlotY,g+o.pointWidth/2),o.tooltipPos=[h.x-P.plotLeft,h.y-P.plotTop]):o.tooltipPos=[o.plotX,o.plotY],k&&(o.ttBelow=o.plotY>k[1])}),s.findAlignments=function(t,e){var i,o;return null===e.align&&(i=20<t&&t<160?"left":200<t&&t<340?"right":"center",e.align=i),null===e.verticalAlign&&(o=t<45||315<t?"bottom":135<t&&t<225?"top":"middle",e.verticalAlign=o),e},r&&(r.findAlignments=s.findAlignments),d(s,"alignDataLabel",function(t,e,i,o,a,s){var r,n,l,h=this.chart,p=y(o.inside,!!this.options.stacking);h.polar?(r=e.rectPlotX/Math.PI*180,h.inverted?(this.forceDL=h.isInsidePlot(e.plotX,Math.round(e.plotY),!1),p&&e.shapeArgs?(n=e.shapeArgs,a={x:(l=this.yAxis.postTranslate((n.start+n.end)/2-this.xAxis.startAngleRad,e.barX+e.pointWidth/2)).x-h.plotLeft,y:l.y-h.plotTop}):e.tooltipPos&&(a={x:e.tooltipPos[0],y:e.tooltipPos[1]}),o.align=y(o.align,"center"),o.verticalAlign=y(o.verticalAlign,"middle")):this.findAlignments&&(o=this.findAlignments(r,o)),g.alignDataLabel.call(this,e,i,o,a,s),this.isRadialBar&&e.shapeArgs&&e.shapeArgs.start===e.shapeArgs.end&&i.hide(!0)):t.call(this,e,i,o,a,s)})),d(f,"getCoordinates",function(t,s){var r=this.chart,n={xAxis:[],yAxis:[]};return r.polar?r.axes.forEach(function(t){var e,i,o=t.isXAxis,a=t.center;"colorAxis"!==t.coll&&(e=s.chartX-a[0]-r.plotLeft,i=s.chartY-a[1]-r.plotTop,n[o?"xAxis":"yAxis"].push({axis:t,value:t.translate(o?Math.PI-Math.atan2(e,i):Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),!0)}))}):n=t.call(this,s),n}),a.prototype.clipCircle=function(t,e,i,o){var a=p(),s=this.createElement("clipPath").attr({id:a}).add(this.defs),r=o?this.arc(t,e,i,o,0,2*Math.PI).add(s):this.circle(t,e,i).add(s);return r.id=a,r.clipPath=s,r},n(e,"getAxes",function(){this.pane||(this.pane=[]),h(this.options.pane).forEach(function(t){new i(t,this)},this)}),n(e,"afterDrawChartBox",function(){this.pane.forEach(function(t){t.render()})}),n(b.Series,"afterInit",function(){var t=this.chart;t.inverted&&t.polar&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0))}),d(e.prototype,"get",function(t,e){return l(this.pane,function(t){return t.options.id===e})||t.call(this,e)})}),i(e,"masters/highcharts-more.src.js",[],function(){})});