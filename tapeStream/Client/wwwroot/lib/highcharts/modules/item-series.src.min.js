"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/item-series",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i))}i(e,"Series/ItemSeries.js",[e["Core/Series/Series.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Utilities.js"]],function(t,e,i,s){var o=i.defaultOptions,E=s.defined,P=s.extend,r=s.fireEvent,n=s.isNumber,a=s.merge,k=s.objectEach,L=s.pick,h=t.seriesTypes.pie.prototype.pointClass.prototype;t.seriesType("item","pie",{endAngle:void 0,innerSize:"40%",itemPadding:.1,layout:"vertical",marker:a(o.plotOptions.line.marker,{radius:null}),rows:void 0,crisp:!1,showInLegend:!0,startAngle:void 0},{markerAttribs:void 0,translate:function(t){0===this.total&&(this.center=this.getCenter()),this.slots||(this.slots=[]),n(this.options.startAngle)&&n(this.options.endAngle)?(e.seriesTypes.pie.prototype.translate.apply(this,arguments),this.slots=this.getSlots()):(this.generatePoints(),r(this,"afterTranslate"))},getSlots:function(){for(var t,s,o,e,i,r,n,a,h,l,c,u,p,d=this.center,f=d[2],g=d[3],m=this.slots,y=0,v=this.endAngleRad-this.startAngleRad,M=Number.MAX_VALUE,b=this.options.rows,w=(f-g)/f,A=v%(2*Math.PI)==0;M>this.total+(u&&A?u.length:0);)for(c=M,M=m.length=0,u=p,p=[],l=f/++y/2,b?0<=(g=(l-b)/l*f)?l=b:(g=0,w=1):l=Math.floor(l*w),t=l;0<t;t--)i=v*(e=(g+t/l*(f-g-y))/2),r=Math.ceil(i/y),p.push({rowRadius:e,rowLength:i,colCount:r}),M+=r+1;if(u){for(var C=c-this.total-(A?u.length:0);0<C;)u.map(function(t){return{angle:t.colCount/t.rowLength,row:t}}).sort(function(t,e){return e.angle-t.angle}).slice(0,Math.min(C,Math.ceil(u.length/2))).forEach(S);return u.forEach(function(t){var e=t.rowRadius,i=t.colCount;for(n=i?v/i:0,h=0;h<=i;h+=1)a=this.startAngleRad+h*n,s=d[0]+Math.cos(a)*e,o=d[1]+Math.sin(a)*e,m.push({x:s,y:o,angle:a})},this),m.sort(function(t,e){return t.angle-e.angle}),this.itemSize=y,m}function S(t){0<C&&(t.row.colCount--,C--)}},getRows:function(){var t,e=this.options.rows;if(!e)if(t=this.chart.plotWidth/this.chart.plotHeight,e=Math.sqrt(this.total),1<t)for(e=Math.ceil(e);0<e&&!(t<this.total/e/e);)e--;else for(e=Math.floor(e);e<this.total&&!(this.total/e/e<t);)e++;return e},drawPoints:function(){var g=this,m=this.options,y=g.chart.renderer,v=m.marker,M=this.borderWidth%2?.5:1,b=0,w=this.getRows(),A=Math.ceil(this.total/w),C=this.chart.plotWidth/A,S=this.chart.plotHeight/w,j=this.itemSize||Math.min(C,S);this.points.forEach(function(t){var e,i,s,o,r,n=t.marker||{},a=n.symbol||v.symbol,h=L(n.radius,v.radius),l=E(h)?2*h:j,c=l*m.itemPadding;if(t.graphics=i=t.graphics||{},g.chart.styledMode||(s=g.pointAttribs(t,t.selected&&"select")),!t.isNull&&t.visible){t.graphic||(t.graphic=y.g("point").add(g.group));for(var u,p,d,f=0;f<t.y;f++){d=g.center&&g.slots?(p=(u=g.slots.shift()).x-j/2,u.y-j/2):"horizontal"===m.layout?(p=b%A*C,S*Math.floor(b/A)):(p=C*Math.floor(b/w),b%w*S),p+=c,d+=c,r=o=Math.round(l-2*c),g.options.crisp&&(p=Math.round(p)-M,d=Math.round(d)+M),e={x:p,y:d,width:o,height:r},void 0!==h&&(e.r=h),i[f]?i[f].animate(e):i[f]=y.symbol(a,null,null,null,null,{backgroundSize:"within"}).attr(P(e,s)).add(t.graphic),i[f].isActive=!0,b++}}k(i,function(t,e){t.isActive?t.isActive=!1:(t.destroy(),delete i[e])})})},drawDataLabels:function(){this.center&&this.slots?e.seriesTypes.pie.prototype.drawDataLabels.call(this):this.points.forEach(function(t){t.destroyElements({dataLabel:1})})},animate:function(t){t?this.group.attr({opacity:0}):this.group.animate({opacity:1},this.options.animation)}},{connectorShapes:h.connectorShapes,getConnectorPath:h.getConnectorPath,setVisible:h.setVisible,getTranslate:h.getTranslate})}),i(e,"masters/modules/item-series.src.js",[],function(){})});