!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){function t(i,t,n,s){i.hasOwnProperty(t)||(i[t]=s.apply(null,n))}t(i=i?i._modules:{},"Core/Axis/BrokenAxis.js",[i["Core/Axis/Axis.js"],i["Series/LineSeries.js"],i["Extensions/Stacking.js"],i["Core/Utilities.js"]],function(c,s,o,i){var e=i.addEvent,n=i.find,p=i.fireEvent,r=i.isArray,h=i.isNumber,v=i.pick,a=(x.isInBreak=function(i,t){var n=i.repeat||1/0,s=i.from,e=i.to-i.from;return t=s<=t?(t-s)%n:n-(s-t)%n,i.inclusive?t<=e:t<e&&0!==t},x.lin2Val=function(i){var t,n=this.brokenAxis;if(!(n=n&&n.breakArray))return i;for(t=0;t<n.length;t++){var s=n[t];if(s.from>=i)break;(s.to<i||x.isInBreak(s,i))&&(i+=s.len)}return i},x.val2Lin=function(i){var t=this.brokenAxis;if(!(t=t&&t.breakArray))return i;for(var n=i,s=0;s<t.length;s++){var e=t[s];if(e.to<=i)n-=e.len;else{if(e.from>=i)break;if(x.isInBreak(e,i)){n-=i-e.from;break}}}return n},x.prototype.findBreakAt=function(t,i){return n(i,function(i){return i.from<t&&t<i.to})},x.prototype.isInAnyBreak=function(i,t){var n,s,e=this.axis,r=e.options.breaks,o=r&&r.length;if(o){for(;o--;)x.isInBreak(r[o],i)&&(n=!0,s=s||v(r[o].showPoints,!e.isXAxis));var a=n&&t?n&&!s:n}return a},x.prototype.setBreaks=function(i,t){var l=this,k=l.axis,n=r(i)&&!!i.length;k.isDirty=l.hasBreaks!==n,l.hasBreaks=n,k.options.breaks=k.userOptions.breaks=i,k.forceRedraw=!0,k.series.forEach(function(i){i.isDirty=!0}),n||k.val2lin!==x.val2Lin||(delete k.val2lin,delete k.lin2val),n&&(k.userOptions.ordinal=!1,k.lin2val=x.lin2Val,k.val2lin=x.val2Lin,k.setExtremes=function(i,t,n,s,e){if(l.hasBreaks){for(var r,o=this.options.breaks;r=l.findBreakAt(i,o);)i=r.to;for(;r=l.findBreakAt(t,o);)t=r.from;t<i&&(t=i)}c.prototype.setExtremes.call(this,i,t,n,s,e)},k.setAxisTranslation=function(i){var t,n,s,e,r,o,a,f,h,u;c.prototype.setAxisTranslation.call(this,i),l.unitLength=null,l.hasBreaks&&(i=k.options.breaks||[],t=[],n=[],s=0,r=k.userMin||k.min,o=k.userMax||k.max,a=v(k.pointRangePadding,0),i.forEach(function(i){e=i.repeat||1/0,x.isInBreak(i,r)&&(r+=i.to%e-r%e),x.isInBreak(i,o)&&(o-=o%e-i.from%e)}),i.forEach(function(i){for(u=i.from,e=i.repeat||1/0;r<u-e;)u-=e;for(;u<r;)u+=e;for(f=u;f<o;f+=e)t.push({value:f,move:"in"}),t.push({value:f+(i.to-i.from),move:"out",size:i.breakSize})}),t.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),h=0,u=r,t.forEach(function(i){1===(h+="in"===i.move?1:-1)&&"in"===i.move&&(u=i.value),0===h&&(n.push({from:u,to:i.value,len:i.value-u-(i.size||0)}),s+=i.value-u-(i.size||0))}),k.breakArray=l.breakArray=n,l.unitLength=o-r-s+a,p(k,"afterBreaks"),k.staticScale?k.transA=k.staticScale:l.unitLength&&(k.transA*=(o-k.min+a)/l.unitLength),a&&(k.minPixelPadding=k.transA*k.minPointOffset),k.min=r,k.max=o)}),v(t,!0)&&k.chart.redraw()},x);function x(i){this.hasBreaks=!1,this.axis=i}function t(){}return t.compose=function(i,t){i.keepProps.push("brokenAxis");var n=s.prototype;n.drawBreaks=function(n,i){var s,e,r,o,t,a=this,f=a.points;n&&n.brokenAxis&&n.brokenAxis.hasBreaks&&(t=n.brokenAxis,i.forEach(function(i){s=t&&t.breakArray||[],e=n.isXAxis?n.min:v(a.options.threshold,n.min),f.forEach(function(t){o=v(t["stack"+i.toUpperCase()],t[i]),s.forEach(function(i){h(e)&&h(o)&&(r=!1,e<i.from&&o>i.to||e>i.from&&o<i.from?r="pointBreak":(e<i.from&&o>i.from&&o<i.to||e>i.from&&o>i.to&&o<i.from)&&(r="pointInBreak"),r&&p(n,r,{point:t,brk:i}))})})}))},n.gappedPath=function(){var i,t=(n=this.currentDataGrouping)&&n.gapSize,n=this.options.gapSize,s=this.points.slice(),e=s.length-1,r=this.yAxis;if(n&&0<e)for("value"!==this.options.gapUnit&&(n*=this.basePointRange),t&&n<t&&t>=this.basePointRange&&(n=t),i=void 0;e--;)i&&!1!==i.visible||(i=s[e+1]),t=s[e],!1!==i.visible&&!1!==t.visible&&(i.x-t.x>n&&(i=(t.x+i.x)/2,s.splice(e+1,0,{isNull:!0,x:i}),r.stacking&&this.options.stacking&&((i=r.stacking.stacks[this.stackKey][i]=new o(r,r.options.stackLabels,!1,i,this.stack)).total=0)),i=t);return this.getGraphPath(s)},e(i,"init",function(){this.brokenAxis||(this.brokenAxis=new a(this))}),e(i,"afterInit",function(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}),e(i,"afterSetTickPositions",function(){var i=this.brokenAxis;if(i&&i.hasBreaks){for(var t=this.tickPositions,n=this.tickPositions.info,s=[],e=0;e<t.length;e++)i.isInAnyBreak(t[e])||s.push(t[e]);this.tickPositions=s,this.tickPositions.info=n}}),e(i,"afterSetOptions",function(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}),e(t,"afterGeneratePoints",function(){var i=this.options.connectNulls,t=this.points,n=this.xAxis,s=this.yAxis;if(this.isDirty)for(var e=t.length;e--;){var r=t[e],o=!(null===r.y&&!1===i)&&(n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(r.x,!0)||s&&s.brokenAxis&&s.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!o&&!1!==r.options.visible}}),e(t,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))})},(i=t).compose(c,s),i}),t(i,"masters/modules/broken-axis.src.js",[],function(){})});