"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/gantt",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}i(e,"Gantt/Tree.js",[e["Core/Utilities.js"]],function(t){function r(t,o){var r=t.reduce(function(t,e){var i=x(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(e),t},{});return Object.keys(r).forEach(function(t,e){var i=r[t];""!==t&&-1===o.indexOf(t)&&(i.forEach(function(t){e[""].push(t)}),delete e[t])}),r}var f=t.extend,g=t.isNumber,x=t.pick,m=function(r,t,n,e,a,s){var l,h,i,d=0,c=0,o=s&&s.after,p=s&&s.before,u={data:e,depth:n-1,id:r,level:n,parent:t};return"function"==typeof p&&p(u,s),i=(a[r]||[]).map(function(t){var e=m(t.id,r,n+1,t,a,s),i=t.start,o=!0===t.milestone?i:t.end;return l=!g(l)||i<l?i:l,h=!g(h)||h<o?o:h,d=d+1+e.descendants,c=Math.max(e.height+1,c),e}),e&&(e.start=x(e.start,l),e.end=x(e.end,h)),f(u,{children:i,descendants:d,height:c}),"function"==typeof o&&o(u,s),u};return{getListOfParents:r,getNode:m,getTree:function(t,e){var i=t.map(function(t){return t.id}),o=r(t,i);return m("",null,1,null,o,e)}}}),i(e,"Core/Axis/TreeGridTick.js",[e["Core/Utilities.js"]],function(t){var e,B=t.addEvent,D=t.defined,I=t.isObject,G=t.isNumber,z=t.pick,s=t.wrap;return function(t){var e=!1;function i(){this.treeGrid||(this.treeGrid=new n(this))}function o(t,e,i,o,r,n,a,s,l){var h,d,c,p,u,f=this,g=z(f.options&&f.options.labels,n),x=f.pos,m=f.axis,v="treegrid"===m.options.type,y=t.apply(f,[e,i,o,r,g,a,s,l]);return v&&(h=g&&I(g.symbol,!0)?g.symbol:{},d=g&&G(g.indentation)?g.indentation:0,u=(p=(c=m.treeGrid.mapOfPosToGridNode)&&c[x])&&p.depth||1,y.x+=h.width+2*h.padding+(u-1)*d),y}function r(t){var e,i,o,r,n,a,s,l,h,d,c,p,u,f,g,x,m=this,v=m.pos,y=m.axis,b=m.label,M=y.treeGrid.mapOfPosToGridNode,k=y.options,A=z(m.options&&m.options.labels,k&&k.labels),C=A&&I(A.symbol,!0)?A.symbol:{},S=M&&M[v],w=S&&S.depth,O="treegrid"===k.type,P=-1<y.tickPositions.indexOf(v),E="highcharts-treegrid-node-",T=y.chart.styledMode;O&&S&&b&&b.element&&b.addClass(E+"level-"+w),t.apply(m,Array.prototype.slice.call(arguments,1)),O&&b&&b.element&&S&&S.descendants&&0<S.descendants&&(e=y.treeGrid.isCollapsed(S),r=m,n={color:!T&&b.styles&&b.styles.color||"",collapsed:e,group:b.parentGroup,options:C,renderer:b.renderer,show:P,xy:b.xy},a=r.treeGrid,s=!a.labelIcon,l=n.renderer,h=n.xy,d=n.options,c=d.width,p=d.height,u={x:h.x-c/2-d.padding,y:h.y-p/2},f=n.collapsed?90:180,g=n.show&&G(u.y),(x=a.labelIcon)||(a.labelIcon=x=l.path(l.symbols[d.type](d.x,d.y,c,p)).addClass("highcharts-label-icon").add(n.group)),g||x.attr({y:-9999}),l.styledMode||x.attr({"stroke-width":1,fill:z(n.color,"#666666")}).css({cursor:"pointer",stroke:d.lineColor,strokeWidth:d.lineWidth}),x[s?"attr":"animate"]({translateX:u.x,translateY:u.y,rotation:f}),i=E+(e?"collapsed":"expanded"),o=E+(e?"expanded":"collapsed"),b.addClass(i).removeClass(o),T||b.css({cursor:"pointer"}),[b,m.treeGrid.labelIcon].forEach(function(t){t&&!t.attachedTreeGridEvents&&(B(t.element,"mouseover",function(){var t;(t=b).addClass("highcharts-treegrid-node-active"),t.renderer.styledMode||t.css({textDecoration:"underline"})}),B(t.element,"mouseout",function(){var t,e,i;t=b,i=D((e=A).style)?e.style:{},t.removeClass("highcharts-treegrid-node-active"),t.renderer.styledMode||t.css({textDecoration:i.textDecoration})}),B(t.element,"click",function(){m.treeGrid.toggleCollapse()}),t.attachedTreeGridEvents=!0)}))}t.compose=function(t){e||(B(t,"init",i),s(t.prototype,"getLabelPosition",o),s(t.prototype,"renderLabel",r),t.prototype.collapse=function(t){this.treeGrid.collapse(t)},t.prototype.expand=function(t){this.treeGrid.expand(t)},t.prototype.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)},e=!0)};var n=(a.prototype.collapse=function(t){var e,i,o,r=this.tick,n=r.axis,a=n.brokenAxis;a&&n.treeGrid.mapOfPosToGridNode&&(e=r.pos,i=n.treeGrid.mapOfPosToGridNode[e],o=n.treeGrid.collapse(i),a.setBreaks(o,z(t,!0)))},a.prototype.expand=function(t){var e,i,o,r=this.tick,n=r.axis,a=n.brokenAxis;a&&n.treeGrid.mapOfPosToGridNode&&(e=r.pos,i=n.treeGrid.mapOfPosToGridNode[e],o=n.treeGrid.expand(i),a.setBreaks(o,z(t,!0)))},a.prototype.toggleCollapse=function(t){var e,i,o,r=this.tick,n=r.axis,a=n.brokenAxis;a&&n.treeGrid.mapOfPosToGridNode&&(e=r.pos,i=n.treeGrid.mapOfPosToGridNode[e],o=n.treeGrid.toggleCollapse(i),a.setBreaks(o,z(t,!0)))},a);function a(t){this.tick=t}t.Additions=n}(e=e||{}),e}),i(e,"Mixins/TreeSeries.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],function(y,t){function p(t){return"boolean"==typeof t}var u=t.extend,l=t.isArray,h=t.isNumber,d=t.isObject,c=t.merge,b=t.pick;return{getColor:function(t,e){var i,o,r,n,a,s,l,h,d=e.index,c=e.mapOptionsToLevel,p=e.parentColor,u=e.parentColorIndex,f=e.series,g=e.colors,x=e.siblings,m=f.points,v=f.chart.options.chart;return t&&(i=m[t.i],o=c[t.level]||{},i&&o.colorByPoint&&(n=i.index%(g?g.length:v.colorCount),r=g&&g[n]),f.chart.styledMode||(a=b(i&&i.options.color,o&&o.color,r,p&&(l=p,(h=o&&o.colorVariation)&&"brightness"===h.key?y.parse(l).brighten(h.to*(d/x)).get():l),f.color)),s=b(i&&i.options.colorIndex,o&&o.colorIndex,n,u,e.colorIndex)),{color:a,colorIndex:s}},getLevelOptions:function(t){var n,e,i,a,o,r,s=null;if(d(t))for(s={},a=h(t.from)?t.from:1,r=t.levels,e={},n=d(t.defaults)?t.defaults:{},l(r)&&(e=r.reduce(function(t,e){var i,o,r;return d(e)&&h(e.level)&&(r=c({},e),o=p(r.levelIsConstant)?r.levelIsConstant:n.levelIsConstant,delete r.levelIsConstant,delete r.level,i=e.level+(o?0:a-1),d(t[i])?u(t[i],r):t[i]=r),t},{})),o=h(t.to)?t.to:1,i=0;i<=o;i++)s[i]=c({},n,d(e[i])?e[i]:{});return s},setTreeValues:function o(r,n){var t,e=n.before,i=n.idRoot,a=n.mapIdToNode[i],s=!p(n.levelIsConstant)||n.levelIsConstant,l=n.points[r.i],h=l&&l.options||{},d=0,c=[];return u(r,{levelDynamic:r.level-(s?0:a.level),name:b(l&&l.name,""),visible:i===r.id||!!p(n.visible)&&n.visible}),"function"==typeof e&&(r=e(r,n)),r.children.forEach(function(t,e){var i=u({},n);u(i,{index:e,siblings:r.children.length,visible:r.visible}),t=o(t,i),c.push(t),t.visible&&(d+=t.val)}),r.visible=0<d||r.visible,t=b(h.value,d),u(r,{children:c,childrenTotal:d,isLeaf:r.visible&&!d,val:t}),r},updateRootId:function(t){var e,i;return d(t)&&(i=d(t.options)?t.options:{},e=b(t.rootNode,i.rootId,""),d(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e),e}}}),i(e,"Core/Axis/GridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Axis/Tick.js"],e["Core/Utilities.js"]],function(c,p,t,e,i){t.dateFormat;function s(t){return i.isObject(t,!0)}var o=i.addEvent,a=i.defined,u=i.erase,f=i.find,l=i.isArray,A=i.isNumber,g=i.merge,y=i.pick,d=i.timeUnits,x=i.wrap,r=p.Chart;c.prototype.getMaxLabelDimensions=function(n,t){var a={width:0,height:0};return t.forEach(function(t){var e,i=n[t],o=0,r=0;s(i)&&(o=(e=s(i.label)?i.label:{}).getBBox?e.getBBox().height:0,e.textStr&&!A(e.textPxLength)&&(e.textPxLength=e.getBBox().width),r=A(e.textPxLength)?Math.round(e.textPxLength):0,e.textStr&&(r=Math.round(e.getBBox().width)),a.height=Math.max(o,a.height),a.width=Math.max(r,a.width))}),a},p.dateFormats.W=function(t){var e=new this.Date(t),i=(this.get("Day",e)+6)%7,o=new this.Date(e.valueOf());this.set("Date",o,this.get("Date",e)-i+3);var r=new this.Date(this.get("FullYear",o),0,1);return 4!==this.get("Day",r)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",r))%7)),(1+Math.floor((o.valueOf()-r.valueOf())/6048e5)).toString()},p.dateFormats.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},o(r,"afterSetChartSize",function(){this.axes.forEach(function(t){(t.grid&&t.grid.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}),o(e,"afterGetLabelPosition",function(t){var e,i,o,r,n,a,s,l=this.label,h=this.axis,d=h.reversed,c=h.chart,p=h.options.grid||{},u=h.options.labels,f=u.align,g=C.Side[h.side],x=t.tickmarkOffset,m=h.tickPositions,v=this.pos-x,y=A(m[t.index+1])?m[t.index+1]-x:h.max+x,b=h.tickSize("tick"),M=b?b[0]:0,k=b?b[1]/2:0;!0===p.enabled&&("top"===g?n=(r=h.top+h.offset)-M:"bottom"===g?r=(n=c.chartHeight-h.bottom+h.offset)+M:(r=h.top+h.len-h.translate(d?y:v),n=h.top+h.len-h.translate(d?v:y)),"right"===g?s=(a=c.chartWidth-h.right+h.offset)+M:"left"===g?a=(s=h.left+h.offset)-M:(a=Math.round(h.left+h.translate(d?y:v))-k,s=Math.round(h.left+h.translate(d?v:y))-k),this.slotWidth=s-a,t.pos.x="left"===f?a:"right"===f?s:a+(s-a)/2,t.pos.y=n+(r-n)/2,i=c.renderer.fontMetrics(u.style.fontSize,l.element),e=l.getBBox().height,u.useHTML?t.pos.y+=i.b+-e/2:(o=Math.round(e/i.h),t.pos.y+=(i.b-(i.h-i.f))/2+-((o-1)*i.h)/2),t.pos.x+=h.horiz&&u.x||0)});var n=(h.prototype.isOuterAxis=function(){var i=this.axis,t=i.chart,e=i.grid.columnIndex,o=i.linkedParent&&i.linkedParent.grid.columns||i.grid.columns,r=e?i.linkedParent:i,n=-1,a=0;return t[i.coll].forEach(function(t,e){t.side!==i.side||t.options.isInternal||(a=e,t===r&&(n=e))}),a===n&&(!A(e)||o.length===e)},h.prototype.renderBorder=function(t){var e=this.axis,i=e.chart.renderer,o=e.options,r=i.path(t).addClass("highcharts-axis-line").add(e.axisBorder);return i.styledMode||r.attr({stroke:o.lineColor,"stroke-width":o.lineWidth,zIndex:7}),r},h);function h(t){this.axis=t}var m,v,C=(b.compose=function(t){c.keepProps.push("grid"),x(t.prototype,"unsquish",b.wrapUnsquish),o(t,"init",b.onInit),o(t,"afterGetOffset",b.onAfterGetOffset),o(t,"afterGetTitlePosition",b.onAfterGetTitlePosition),o(t,"afterInit",b.onAfterInit),o(t,"afterRender",b.onAfterRender),o(t,"afterSetAxisTranslation",b.onAfterSetAxisTranslation),o(t,"afterSetOptions",b.onAfterSetOptions),o(t,"afterSetOptions",b.onAfterSetOptions2),o(t,"afterSetScale",b.onAfterSetScale),o(t,"afterTickSize",b.onAfterTickSize),o(t,"trimTicks",b.onTrimTicks),o(t,"destroy",b.onDestroy)},b.onAfterGetOffset=function(){var t=this.grid;(t&&t.columns||[]).forEach(function(t){t.getOffset()})},b.onAfterGetTitlePosition=function(t){var e,i,o,r,n,a,s,l,h,d,c,p,u,f,g,x,m,v=this;!0===(v.options.grid||{}).enabled&&(e=v.axisTitle,i=v.height,o=v.horiz,r=v.left,n=v.offset,a=v.opposite,l=void 0===(s=v.options.title)?{}:s,h=v.top,d=v.width,c=v.tickSize(),p=e&&e.getBBox().width,u=l.x||0,f=l.y||0,g=y(l.margin,o?5:10),x=v.chart.renderer.fontMetrics(l.style&&l.style.fontSize,e).f,m=(o?h+i:r)+(o?1:-1)*(a?-1:1)*(c?c[0]/2:0)+(v.side===b.Side.bottom?x:0),t.titlePosition.x=o?r-p/2-g+u:m+(a?d:0)+n+u,t.titlePosition.y=o?m-(a?i:0)+(a?x:-x)/2+n+f:h-g+f)},b.onAfterInit=function(){var t,e,i=this,o=i.chart,r=i.options.grid,n=void 0===r?{}:r,a=i.userOptions;if(n.enabled&&((e=(t=i).options).labels||(e.labels={}),e.labels.align=y(e.labels.align,"center"),t.categories||(e.showLastLabel=!1),t.labelRotation=0,e.labels.rotation=0,x(i,"labelFormatter",function(t){var e,i=this.axis,o=this.value,r=i.tickPositions,n=(i.isLinked?i.linkedParent:i).series[0],a=o===r[0],s=o===r[r.length-1],l=n&&f(n.options.data,function(t){return t[i.isXAxis?"x":"y"]===o});return l&&n.is("gantt")&&(e=g(l),p.seriesTypes.gantt.prototype.setGanttPointAliases(e)),this.isFirst=a,this.isLast=s,this.point=e,t.call(this)})),n.columns)for(var s=i.grid.columns=[],l=i.grid.columnIndex=0;++l<n.columns.length;){var h=g(a,n.columns[n.columns.length-l-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete h.grid.columns;var d=new c(i.chart,h);d.grid.isColumn=!0,d.grid.columnIndex=l,u(o.axes,d),u(o[i.coll],d),s.push(d)}},b.onAfterRender=function(){var t,e,i,o,r,n,a,s,l,h,d,c,p,u,f=this,g=f.grid,x=f.options;!0===(x.grid||{}).enabled&&(f.maxLabelDimensions=f.getMaxLabelDimensions(f.ticks,f.tickPositions),f.rightWall&&f.rightWall.destroy(),f.grid&&f.grid.isOuterAxis()&&f.axisLine&&(e=x.lineWidth)&&(o=(i=f.getLinePath(e))[0],r=i[1],n=((f.tickSize("tick")||[1])[0]-1)*(f.side===b.Side.top||f.side===b.Side.left?-1:1),"M"===o[0]&&"L"===r[0]&&(f.horiz?(o[2]+=n,r[2]+=n):(o[1]+=n,r[1]+=n)),!f.horiz&&f.chart.marginRight&&(a=[o,["L",f.left,o[2]]],s=["L",f.chart.chartWidth-f.chart.marginRight,f.toPixels(f.max+f.tickmarkOffset)],l=[["M",r[1],f.toPixels(f.max+f.tickmarkOffset)],s],f.grid.upperBorder||f.min%1==0||(f.grid.upperBorder=f.grid.renderBorder(a)),f.grid.upperBorder&&f.grid.upperBorder.animate({d:a}),f.grid.lowerBorder||f.max%1==0||(f.grid.lowerBorder=f.grid.renderBorder(l)),f.grid.lowerBorder&&f.grid.lowerBorder.animate({d:l})),f.grid.axisLineExtra?f.grid.axisLineExtra.animate({d:i}):f.grid.axisLineExtra=f.grid.renderBorder(i),f.axisLine[f.showAxis?"show":"hide"](!0)),(g&&g.columns||[]).forEach(function(t){t.render()}),!f.horiz&&f.chart.hasRendered&&(f.scrollbar||null!==(t=f.linkedParent)&&void 0!==t&&t.scrollbar)&&(h=f.max,d=f.min,c=f.tickmarkOffset,p=f.tickPositions[f.tickPositions.length-1],c<d-(u=f.tickPositions[0])?f.ticks[u].label.hide():f.ticks[u].label.show(),c<p-h?f.ticks[p].label.hide():f.ticks[p].label.show(),p-h<c&&0<p-h&&f.ticks[p].isLast?f.ticks[p].mark.hide():f.ticks[p-1].mark.show()))},b.onAfterSetAxisTranslation=function(){var t,e=this,i=e.tickPositions&&e.tickPositions.info,o=e.options,r=o.grid||{},n=e.userOptions.labels||{};e.horiz?(!0===r.enabled&&e.series.forEach(function(t){t.options.pointRange=0}),i&&o.dateTimeLabelFormats&&o.labels&&!a(n.align)&&(!1===o.dateTimeLabelFormats[i.unitName].range||1<i.count)&&(o.labels.align="left",a(n.x)||(o.labels.x=3))):"treegrid"!==this.options.type&&null!==(t=e.grid)&&void 0!==t&&t.columns&&(this.minPointOffset=this.tickInterval)},b.onAfterSetOptions=function(t){var h,e=this.options,i=t.userOptions,o=e&&s(e.grid)?e.grid:{};!0===o.enabled&&(h=g(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(a(i.linkedTo)&&!a(i.tickPixelInterval)&&(h.tickPixelInterval=350),a(i.tickPixelInterval)||!a(i.linkedTo)||a(i.tickPositioner)||a(i.tickInterval)||(h.tickPositioner=function(t,e){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){for(var o,r,n,a,s=h.units,l=0;l<s.length;l++)if(s[l][0]===i.unitName){o=l;break}return s[o+1]?(n=s[o+1][0],r=(s[o+1][1]||[1])[0]):"year"===i.unitName&&(n="year",r=10*i.count),a=d[n],this.tickInterval=a*r,this.getTimeTicks({unitRange:a,count:r,unitName:n},t,e,this.options.startOfWeek)}})),g(!0,this.options,h),this.horiz&&(e.minPadding=y(i.minPadding,0),e.maxPadding=y(i.maxPadding,0)),A(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=o.borderWidth))},b.onAfterSetOptions2=function(t){var e=t.userOptions,i=e&&e.grid||{},o=i.columns;i.enabled&&o&&g(!0,this.options,o[o.length-1])},b.onAfterSetScale=function(){(this.grid.columns||[]).forEach(function(t){t.setScale()})},b.onAfterTickSize=function(t){var e,i,o=c.defaultLeftAxisOptions,r=this.horiz,n=this.maxLabelDimensions,a=this.options.grid,s=void 0===a?{}:a;s.enabled&&n&&(e=2*Math.abs(o.labels.x),i=r?s.cellHeight||e+n.height:e+n.width,l(t.tickSize)?t.tickSize[0]=i:t.tickSize=[i,0])},b.onDestroy=function(e){var t=this.grid;(t.columns||[]).forEach(function(t){t.destroy(e.keepEvents)}),t.columns=void 0},b.onInit=function(t){var e=t.userOptions||{},i=e.grid||{};i.enabled&&a(i.borderColor)&&(e.tickColor=e.lineColor=i.borderColor),this.grid||(this.grid=new n(this))},b.onTrimTicks=function(){var t=this,e=t.options,i=e.grid||{},o=t.categories,r=t.tickPositions,n=r[0],a=r[r.length-1],s=t.linkedParent&&t.linkedParent.min,l=t.linkedParent&&t.linkedParent.max,h=s||t.min,d=l||t.max,c=t.tickInterval,p=n<h&&h<n+c,u=d<a&&a-c<d;!0!==i.enabled||o||!t.horiz&&!t.isLinked||(p&&!e.startOnTick&&(r[0]=h),u&&!e.endOnTick&&(r[r.length-1]=d))},b.wrapUnsquish=function(t){var e,i=this.options.grid;return!0===(void 0===i?{}:i).enabled&&this.categories?this.tickInterval:t.apply(this,(e=arguments,Array.prototype.slice.call(e,1)))},b);function b(){}return m=C=C||{},(v=m.Side||(m.Side={}))[v.top=0]="top",v[v.right=1]="right",v[v.bottom=2]="bottom",v[v.left=3]="left",C.compose(c),C}),i(e,"Core/Axis/BrokenAxis.js",[e["Core/Axis/Axis.js"],e["Series/LineSeries.js"],e["Extensions/Stacking.js"],e["Core/Utilities.js"]],function(f,o,h,t){var r=t.addEvent,i=t.find,g=t.fireEvent,n=t.isArray,d=t.isNumber,x=t.pick,a=(m.isInBreak=function(t,e){var i=t.repeat||1/0,o=t.from,r=t.to-t.from,n=o<=e?(e-o)%i:i-(o-e)%i,a=t.inclusive?n<=r:n<r&&0!=n;return a},m.lin2Val=function(t){var e=this.brokenAxis,i=e&&e.breakArray;if(!i)return t;for(var o,r=t,n=0;n<i.length&&!((o=i[n]).from>=r);n++)(o.to<r||m.isInBreak(o,r))&&(r+=o.len);return r},m.val2Lin=function(t){var e=this.brokenAxis,i=e&&e.breakArray;if(!i)return t;for(var o,r=t,n=0;n<i.length;n++)if((o=i[n]).to<=t)r-=o.len;else{if(o.from>=t)break;if(m.isInBreak(o,t)){r-=t-o.from;break}}return r},m.prototype.findBreakAt=function(e,t){return i(t,function(t){return t.from<e&&e<t.to})},m.prototype.isInAnyBreak=function(t,e){var i,o,r,n=this.axis,a=n.options.breaks,s=a&&a.length;if(s){for(;s--;)m.isInBreak(a[s],t)&&(i=!0,o=o||x(a[s].showPoints,!n.isXAxis));r=i&&e?i&&!o:i}return r},m.prototype.setBreaks=function(t,e){var p=this,u=p.axis,i=n(t)&&!!t.length;u.isDirty=p.hasBreaks!==i,p.hasBreaks=i,u.options.breaks=u.userOptions.breaks=t,u.forceRedraw=!0,u.series.forEach(function(t){t.isDirty=!0}),i||u.val2lin!==m.val2Lin||(delete u.val2lin,delete u.lin2val),i&&(u.userOptions.ordinal=!1,u.lin2val=m.lin2Val,u.val2lin=m.val2Lin,u.setExtremes=function(t,e,i,o,r){if(p.hasBreaks){for(var n,a=this.options.breaks;n=p.findBreakAt(t,a);)t=n.to;for(;n=p.findBreakAt(e,a);)e=n.from;e<t&&(e=t)}f.prototype.setExtremes.call(this,t,e,i,o,r)},u.setAxisTranslation=function(t){var e,i,o,r,n,a,s,l,h,d,c;f.prototype.setAxisTranslation.call(this,t),p.unitLength=null,p.hasBreaks&&(e=u.options.breaks||[],i=[],o=[],r=0,s=u.userMin||u.min,l=u.userMax||u.max,h=x(u.pointRangePadding,0),e.forEach(function(t){a=t.repeat||1/0,m.isInBreak(t,s)&&(s+=t.to%a-s%a),m.isInBreak(t,l)&&(l-=l%a-t.from%a)}),e.forEach(function(t){for(d=t.from,a=t.repeat||1/0;s<d-a;)d-=a;for(;d<s;)d+=a;for(c=d;c<l;c+=a)i.push({value:c,move:"in"}),i.push({value:c+(t.to-t.from),move:"out",size:t.breakSize})}),i.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),n=0,d=s,i.forEach(function(t){1===(n+="in"===t.move?1:-1)&&"in"===t.move&&(d=t.value),0===n&&(o.push({from:d,to:t.value,len:t.value-d-(t.size||0)}),r+=t.value-d-(t.size||0))}),u.breakArray=p.breakArray=o,p.unitLength=l-s-r+h,g(u,"afterBreaks"),u.staticScale?u.transA=u.staticScale:p.unitLength&&(u.transA*=(l-u.min+h)/p.unitLength),h&&(u.minPixelPadding=u.transA*u.minPointOffset),u.min=s,u.max=l)}),x(e,!0)&&u.chart.redraw()},m);function m(t){this.hasBreaks=!1,this.axis=t}var e=(s.compose=function(t,e){t.keepProps.push("brokenAxis");var i=o.prototype;i.drawBreaks=function(i,t){var o,r,n,a,e,s=this,l=s.points;i&&i.brokenAxis&&i.brokenAxis.hasBreaks&&(e=i.brokenAxis,t.forEach(function(t){o=e&&e.breakArray||[],r=i.isXAxis?i.min:x(s.options.threshold,i.min),l.forEach(function(e){a=x(e["stack"+t.toUpperCase()],e[t]),o.forEach(function(t){d(r)&&d(a)&&(n=!1,r<t.from&&a>t.to||r>t.from&&a<t.from?n="pointBreak":(r<t.from&&a>t.from&&a<t.to||r>t.from&&a>t.to&&a<t.from)&&(n="pointInBreak"),n&&g(i,n,{point:e,brk:t}))})})}))},i.gappedPath=function(){var t=this.currentDataGrouping,e=t&&t.gapSize,i=this.options.gapSize,o=this.points.slice(),r=o.length-1,n=this.yAxis;if(i&&0<r){"value"!==this.options.gapUnit&&(i*=this.basePointRange),e&&i<e&&e>=this.basePointRange&&(i=e);for(var a,s=void 0,l=void 0;r--;)l&&!1!==l.visible||(l=o[r+1]),s=o[r],!1!==l.visible&&!1!==s.visible&&(l.x-s.x>i&&(a=(s.x+l.x)/2,o.splice(r+1,0,{isNull:!0,x:a}),n.stacking&&this.options.stacking&&((n.stacking.stacks[this.stackKey][a]=new h(n,n.options.stackLabels,!1,a,this.stack)).total=0)),l=s)}return this.getGraphPath(o)},r(t,"init",function(){this.brokenAxis||(this.brokenAxis=new a(this))}),r(t,"afterInit",function(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}),r(t,"afterSetTickPositions",function(){var t=this.brokenAxis;if(t&&t.hasBreaks){for(var e=this.tickPositions,i=this.tickPositions.info,o=[],r=0;r<e.length;r++)t.isInAnyBreak(e[r])||o.push(e[r]);this.tickPositions=o,this.tickPositions.info=i}}),r(t,"afterSetOptions",function(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}),r(e,"afterGeneratePoints",function(){var t=this,e=t.isDirty,i=t.options.connectNulls,o=t.points,r=t.xAxis,n=t.yAxis;if(e)for(var a=o.length;a--;){var s=o[a],l=!(null===s.y&&!1===i)&&(r&&r.brokenAxis&&r.brokenAxis.isInAnyBreak(s.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(s.y,!0));s.visible=!l&&!1!==s.options.visible}}),r(e,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,x(this.pointArrayMap,["y"]))})},s);function s(){}return e.compose(f,o),e}),i(e,"Core/Axis/TreeGridAxis.js",[e["Core/Globals.js"],e["Core/Axis/Axis.js"],e["Core/Axis/Tick.js"],e["Gantt/Tree.js"],e["Core/Axis/TreeGridTick.js"],e["Mixins/TreeSeries.js"],e["Core/Utilities.js"]],function(c,t,p,f,u,e,i){var o,g=e.getLevelOptions,x=i.addEvent,m=i.find,v=i.fireEvent,y=i.isArray,b=i.isNumber,M=i.isObject,k=i.isString,A=i.merge,C=i.pick,S=i.wrap;return function(t){var e=!1;function r(t,e){var i=t.collapseStart||0,o=t.collapseEnd||0;return e<=o&&(i-=.5),{from:i,to:o,showPoints:!1}}function d(t,e,i){var s,l,h=[],r=[],d={},c={},p=-1,u="boolean"==typeof e&&e,o={after:function(t){var e=c[t.pos],i=0,o=0;e.children.forEach(function(t){o+=(t.descendants||0)+1,i=Math.max((t.height||0)+1,i)}),e.descendants=o,e.height=i,e.collapsed&&r.push(e)},before:function(t){var e,i,o=M(t.data,!0)?t.data:{},r=k(o.name)?o.name:"",n=d[t.parent],a=M(n,!0)?c[n.pos]:null;u&&M(a,!0)&&(e=m(a.children,function(t){return t.name===r}))?(i=e.pos,e.nodes.push(t)):i=p++,c[i]||(c[i]=e={depth:a?a.depth+1:0,name:r,id:o.id,nodes:[t],children:[],pos:i},-1!==i&&h.push(r),M(a,!0)&&a.children.push(e)),k(t.id)&&(d[t.id]=t),e&&!0===o.collapsed&&(e.collapsed=!0),t.pos=i}},n=f.getTree(t,o);return s=i,c=(l=function(t,i,e){var o=t.nodes,r=i+(-1===i?0:s-1),n=(r-i)/2,a=i+n;return o.forEach(function(t){var e=t.data;M(e,!0)&&(e.y=i+(e.seriesIndex||0),delete e.seriesIndex),t.pos=a}),(e[a]=t).pos=a,t.tickmarkOffset=.5+n,t.collapseStart=r+.5,t.children.forEach(function(t){l(t,r+1,e),r=(t.collapseEnd||0)-.5}),t.collapseEnd=r+.5,e})(c[-1],-1,{}),{categories:h,mapOfIdToNode:d,mapOfPosToGridNode:c,collapsedNodes:r,tree:n}}function n(h){h.target.axes.filter(function(t){return"treegrid"===t.options.type}).forEach(function(t){var i,e,o=t.options||{},r=o.labels,n=o.uniqueNames,a=0,s=o.max;if(!t.treeGrid.mapOfPosToGridNode||t.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty})){if(i=t.series.reduce(function(e,i){return i.visible&&((i.options.data||[]).forEach(function(t){i.options.keys&&i.options.keys.length&&(t=i.pointClass.prototype.optionsToObject.call({series:i},t),c.seriesTypes.gantt.prototype.setGanttPointAliases(t)),M(t,!0)&&(t.seriesIndex=a,e.push(t))}),!0===n&&a++),e},[]),s&&i.length<s)for(var l=i.length;l<=s;l++)i.push({name:l+"​"});e=d(i,n||!1,!0===n?a:1),t.categories=e.categories,t.treeGrid.mapOfPosToGridNode=e.mapOfPosToGridNode,t.hasNames=!0,t.treeGrid.tree=e.tree,t.series.forEach(function(t){var e=(t.options.data||[]).map(function(e){return y(e)&&t.options.keys&&t.options.keys.length&&i.forEach(function(t){0<=e.indexOf(t.x)&&0<=e.indexOf(t.x2)&&(e=t)}),M(e,!0)?A(e):e});t.visible&&t.setData(e,!1)}),t.treeGrid.mapOptionsToLevel=g({defaults:r,from:1,levels:r&&r.levels,to:t.treeGrid.tree&&t.treeGrid.tree.height}),"beforeRender"===h.type&&(t.treeGrid.collapsedNodes=e.collapsedNodes)}})}function i(t,e){var i,o,r,n=this,a=n.treeGrid.mapOptionsToLevel||{},s="treegrid"===n.options.type,l=n.ticks,h=l[e];s&&n.treeGrid.mapOfPosToGridNode?((i=a[(r=n.treeGrid.mapOfPosToGridNode[e]).depth])&&(o={labels:i}),h?(h.parameters.category=r.name,h.options=o,h.addLabel()):l[e]=h=new p(n,e,void 0,void 0,{category:r.name,tickmarkOffset:r.tickmarkOffset,options:o})):t.apply(n,Array.prototype.slice.call(arguments,1))}function o(t){var e,i=this,o=i.options,r=o&&o.labels,n=r&&b(r.indentation)?r.indentation:0,a=t.apply(i,Array.prototype.slice.call(arguments,1));return"treegrid"===i.options.type&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.mapOfPosToGridNode[-1].height||0,a.width+=n*(e-1)),a}function a(t,e,i){var o=this,r="treegrid"===i.type;o.treeGrid||(o.treeGrid=new l(o)),r&&(x(e,"beforeRender",n),x(e,"beforeRedraw",n),x(e,"addSeries",function(t){var e;t.options.data&&(e=d(t.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),x(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(e){var t=o.treeGrid.collapse(e);o.brokenAxis&&(o.brokenAxis.setBreaks(t,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(function(t){return e.collapseStart!==t.collapseStart||e.collapseEnd!==t.collapseEnd})))})}),x(o,"afterBreaks",function(){var t;"yAxis"===o.coll&&!o.staticScale&&null!==(t=o.chart.options.chart)&&void 0!==t&&t.height&&(o.isDirty=!0)}),i=A({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),t.apply(o,[e,i]),r&&(o.hasNames=!0,o.options.showLastLabel=!0)}function s(t){var e=this,i=e.options;"treegrid"===i.type?(e.min=C(e.userMin,i.min,e.dataMin),e.max=C(e.userMax,i.max,e.dataMax),v(e,"foundExtremes"),e.setAxisTranslation(!0),e.tickmarkOffset=.5,e.tickInterval=1,e.tickPositions=e.treeGrid.mapOfPosToGridNode?e.treeGrid.getTickPositions():[]):t.apply(e,Array.prototype.slice.call(arguments,1))}t.compose=function(t){e||(S(t.prototype,"generateTick",i),S(t.prototype,"getMaxLabelDimensions",o),S(t.prototype,"init",a),S(t.prototype,"setTickInterval",s),u.compose(p),e=!0)};var l=(h.prototype.setCollapsedStatus=function(r){var t=this.axis,n=t.chart;t.series.forEach(function(t){var e,i,o=t.options.data;r.id&&o&&(e=n.get(r.id),i=o[t.data.indexOf(e)],e&&i&&(e.collapsed=r.collapsed,i.collapsed=r.collapsed))})},h.prototype.collapse=function(t){var e=this.axis,i=e.options.breaks||[],o=r(t,e.max);return i.push(o),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i},h.prototype.expand=function(t){var e=this.axis,i=e.options.breaks||[],o=r(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce(function(t,e){return e.to===o.to&&e.from===o.from||t.push(e),t},[])},h.prototype.getTickPositions=function(){var o=this.axis,r=Math.floor(o.min/o.tickInterval)*o.tickInterval,n=Math.ceil(o.max/o.tickInterval)*o.tickInterval;return Object.keys(o.treeGrid.mapOfPosToGridNode||{}).reduce(function(t,e){var i=+e;return!(r<=i&&i<=n)||o.brokenAxis&&o.brokenAxis.isInAnyBreak(i)||t.push(i),t},[])},h.prototype.isCollapsed=function(t){var e=this.axis,i=e.options.breaks||[],o=r(t,e.max);return i.some(function(t){return t.from===o.from&&t.to===o.to})},h.prototype.toggleCollapse=function(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)},h);function h(t){this.axis=t}t.Additions=l}(o=o||{}),t.prototype.utils={getNode:f.getNode},o.compose(t),o}),i(e,"Extensions/CurrentDateIndication.js",[e["Core/Axis/Axis.js"],e["Core/Utilities.js"],e["Core/Axis/PlotLineOrBand.js"]],function(t,e,i){var o=e.addEvent,r=e.merge,n=e.wrap,a={currentDateIndicator:!0,color:"#ccd6eb",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(t,e){return this.axis.chart.time.dateFormat(e,t)},rotation:0,style:{fontSize:"10px"}}};o(t,"afterSetOptions",function(){var t=this.options,e=t.currentDateIndicator;e&&((e="object"==typeof e?r(a,e):r(a)).value=new Date,t.plotLines||(t.plotLines=[]),t.plotLines.push(e))}),o(i,"render",function(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}),n(i.prototype,"getLabelText",function(t,e){var i=this.options;return i.currentDateIndicator&&i.label&&"function"==typeof i.label.formatter?(i.value=new Date,i.label.formatter.call(this,i.value,i.label.format)):t.call(this,e)})}),i(e,"Extensions/StaticScale.js",[e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Utilities.js"]],function(t,e,i){var o=i.addEvent,a=i.defined,r=i.isNumber,s=i.pick;o(t,"afterSetOptions",function(){var t=this.chart.options&&this.chart.options.chart;!this.horiz&&r(this.options.staticScale)&&(!t.height||t.scrollablePlotArea&&t.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}),e.prototype.adjustHeight=function(){"adjustHeight"!==this.redrawTrigger&&((this.axes||[]).forEach(function(t){var e,i,o=t.chart,r=!!o.initiatedScale&&o.options.animation,n=t.options.staticScale;t.staticScale&&a(t.min)&&(e=s(t.brokenAxis&&t.brokenAxis.unitLength,t.max+t.tickInterval-t.min)*n,i=(e=Math.max(e,n))-o.plotHeight,1<=Math.abs(i)&&(o.plotHeight=e,o.redrawTrigger="adjustHeight",o.setSize(void 0,o.chartHeight+i,r)),t.series.forEach(function(t){var e=t.sharedClipKey&&o[t.sharedClipKey];e&&e.attr({height:o.plotHeight})}))}),this.initiatedScale=!0),this.redrawTrigger=null},o(e,"render",e.prototype.adjustHeight)}),i(e,"Extensions/ArrowSymbols.js",[e["Core/Renderer/SVG/SVGRenderer.js"]],function(r){r.prototype.symbols.arrow=function(t,e,i,o){return[["M",t,e+o/2],["L",t+i,e],["L",t,e+o/2],["L",t+i,e+o]]},r.prototype.symbols["arrow-half"]=function(t,e,i,o){return r.prototype.symbols.arrow(t,e,i/2,o)},r.prototype.symbols["triangle-left"]=function(t,e,i,o){return[["M",t+i,e],["L",t,e+o/2],["L",t+i,e+o],["Z"]]},r.prototype.symbols["arrow-filled"]=r.prototype.symbols["triangle-left"],r.prototype.symbols["triangle-left-half"]=function(t,e,i,o){return r.prototype.symbols["triangle-left"](t,e,i/2,o)},r.prototype.symbols["arrow-filled-half"]=r.prototype.symbols["triangle-left-half"]}),i(e,"Gantt/Connection.js",[e["Core/Globals.js"],e["Core/Options.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r=e.defaultOptions,h=(o.addEvent,o.defined),n=o.error,a=o.extend,d=o.merge,s=o.objectEach,m=(o.pick,o.splat,t.deg2rad),c=Math.max,p=Math.min;function y(t){var e,i=t.shapeArgs;return i?{xMin:i.x,xMax:i.x+i.width,yMin:i.y,yMax:i.y+i.height}:(e=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}a(r,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}});var l=(u.prototype.init=function(t,e,i){this.fromPoint=t,this.toPoint=e,this.options=i,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder},u.prototype.renderPath=function(t,e,i){var o,r=this.chart,n=r.styledMode,a=r.pathfinder,s=!r.options.chart.forExport&&!1!==i,l=this.graphics&&this.graphics.path;a.group||(a.group=r.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(r.seriesGroup)),a.group.translate(r.plotLeft,r.plotTop),l&&l.renderer||(l=r.renderer.path().add(a.group),n||l.attr({opacity:0})),l.attr(e),o={d:t},n||(o.opacity=1),l[s?"animate":"attr"](o,i),this.graphics=this.graphics||{},this.graphics.path=l},u.prototype.addMarker=function(t,e,i){var o,r,n,a,s,l,h,d,c=this,p=c.fromPoint.series.chart,u=p.pathfinder,f=p.renderer,g="start"===t?c.fromPoint:c.toPoint,x=g.getPathfinderAnchorPoint(e);e.enabled&&((d="start"===t?i[1]:i[i.length-2])&&"M"===d[0]||"L"===d[0])&&(h={x:d[1],y:d[2]},r=g.getRadiansToVector(h,x),o=g.getMarkerVector(r,e.radius,x),n=-r/m,e.width&&e.height?(s=e.width,l=e.height):s=l=2*e.radius,c.graphics=c.graphics||{},a={x:o.x-s/2,y:o.y-l/2,width:s,height:l,rotation:n,rotationOriginX:o.x,rotationOriginY:o.y},c.graphics[t]?c.graphics[t].animate(a):(c.graphics[t]=f.symbol(e.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker").attr(a).add(u.group),f.styledMode||c.graphics[t].attr({fill:e.color||c.fromPoint.color,stroke:e.lineColor,"stroke-width":e.lineWidth,opacity:0}).animate({opacity:1},g.series.options.animation)))},u.prototype.getPath=function(t){var e=this.pathfinder,i=this.chart,o=e.algorithms[t.type],r=e.chartObstacles;return"function"!=typeof o?(n('"'+t.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(o.requiresObstacles&&!r&&(r=e.chartObstacles=e.getChartObstacles(t),i.options.connectors.algorithmMargin=t.algorithmMargin,e.chartObstacleMetrics=e.getObstacleMetrics(r)),o(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),d({chartObstacles:r,lineObstacles:e.lineObstacles||[],obstacleMetrics:e.chartObstacleMetrics,hardBounds:{xMin:0,xMax:i.plotWidth,yMin:0,yMax:i.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:e.getAlgorithmStartDirection(t.startMarker)},t)))},u.prototype.render=function(){var t,e,i=this,o=i.fromPoint,r=o.series,n=r.chart,a=n.pathfinder,s=d(n.options.connectors,r.options.connectors,o.options.connectors,i.options),l={};n.styledMode||(l.stroke=s.lineColor||o.color,l["stroke-width"]=s.lineWidth,s.dashStyle&&(l.dashstyle=s.dashStyle)),l.class="highcharts-point-connecting-path highcharts-color-"+o.colorIndex,s=d(l,s),h(s.marker.radius)||(s.marker.radius=p(c(Math.ceil((s.algorithmMargin||8)/2)-1,1),5)),e=(t=i.getPath(s)).path,t.obstacles&&(a.lineObstacles=a.lineObstacles||[],a.lineObstacles=a.lineObstacles.concat(t.obstacles)),i.renderPath(e,l,r.options.animation),i.addMarker("start",d(s.marker,s.startMarker),e),i.addMarker("end",d(s.marker,s.endMarker),e)},u.prototype.destroy=function(){this.graphics&&(s(this.graphics,function(t){t.destroy()}),delete this.graphics)},u);function u(t,e,i){this.chart=void 0,this.fromPoint=void 0,this.graphics=void 0,this.pathfinder=void 0,this.toPoint=void 0,this.init(t,e,i)}return t.Connection=l,a(i.prototype,{getPathfinderAnchorPoint:function(t){var e,i,o=y(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":i="yMin";break;case"bottom":i="yMax"}return{x:e?o[e]:(o.xMin+o.xMax)/2,y:i?o[i]:(o.yMin+o.yMax)/2}},getRadiansToVector:function(t,e){var i;return h(e)||(i=y(this))&&(e={x:(i.xMin+i.xMax)/2,y:(i.yMin+i.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)},getMarkerVector:function(t,e,i){for(var o,r=2*Math.PI,n=t,a=y(this),s=a.xMax-a.xMin,l=a.yMax-a.yMin,h=Math.atan2(l,s),d=!1,c=s/2,p=l/2,u=a.xMin+c,f=a.yMin+p,g={x:u,y:f},x={},m=1,v=1;n<-Math.PI;)n+=r;for(;n>Math.PI;)n-=r;return o=Math.tan(n),-h<n&&n<=h?(v=-1,d=!0):h<n&&n<=Math.PI-h?v=-1:n>Math.PI-h||n<=-(Math.PI-h)?(m=-1,d=!0):m=-1,d?(g.x+=m*c,g.y+=v*c*o):(g.x+=m*(l/(2*o)),g.y+=v*p),i.x!==u&&(g.x=i.x),i.y!==f&&(g.y=i.y),x.x=g.x+e*Math.cos(n),x.y=g.y-e*Math.sin(n),x}}),l}),i(e,"Gantt/PathfinderAlgorithms.js",[e["Core/Utilities.js"]],function(t){var e=t.extend,S=t.pick,w=Math.min,O=Math.max,P=Math.abs;function E(t,e,i){for(var o,r,n=i||0,a=t.length-1,s=e-1e-7;n<=a;)if(0<(r=s-t[o=a+n>>1].xMin))n=1+o;else{if(!(r<0))return o;a=o-1}return 0<n?n-1:0}function T(t,e){for(var i,o,r=E(t,e.x+1)+1;r--;)if(t[r].xMax>=e.x&&(i=t[r],(o=e).x<=i.xMax&&o.x>=i.xMin&&o.y<=i.yMax&&o.y>=i.yMin))return r;return-1}function B(t){var e=[];if(t.length){e.push(["M",t[0].start.x,t[0].start.y]);for(var i=0;i<t.length;++i)e.push(["L",t[i].end.x,t[i].end.y])}return e}function D(t,e){t.yMin=O(t.yMin,e.yMin),t.yMax=w(t.yMax,e.yMax),t.xMin=O(t.xMin,e.xMin),t.xMax=w(t.xMax,e.xMax)}var i=e(function(t,e,i){var o,r,n,a,s,l,h,d=[],c=S(i.startDirectionX,P(e.x-t.x)>P(e.y-t.y))?"x":"y",p=i.chartObstacles,u=T(p,t),f=T(p,e);function g(t,e,i,o,r){var n={x:t.x,y:t.y};return n[e]=i[o||e]+(r||0),n}function x(t,e,i){var o=P(e[i]-t[i+"Min"])>P(e[i]-t[i+"Max"]);return g(e,i,t,i+(o?"Max":"Min"),o?1:-1)}return h=-1<f?(o={start:a=x(p[f],e,c),end:e},a):e,-1<u&&(a=x(r=p[u],t,c),d.push({start:t,end:a}),a[c]>=t[c]==a[c]>=h[c]&&(l=t[c="y"===c?"x":"y"]<e[c],d.push({start:a,end:g(a,c,r,c+(l?"Max":"Min"),l?1:-1)}),c="y"===c?"x":"y")),a=g(n=d.length?d[d.length-1].end:t,c,h),d.push({start:n,end:a}),s=g(a,c="y"===c?"x":"y",h),d.push({start:a,end:s}),d.push(o),{path:B(d),obstacles:d}},{requiresObstacles:!0});return{fastAvoid:e(function(t,e,f){var i,o,r,n,a,s,l,h,d=S(f.startDirectionX,P(e.x-t.x)>P(e.y-t.y)),c=d?"x":"y",p=[],g=!1,u=f.obstacleMetrics,x=w(t.x,e.x)-u.maxWidth-10,m=O(t.x,e.x)+u.maxWidth+10,v=w(t.y,e.y)-u.maxHeight-10,y=O(t.y,e.y)+u.maxHeight+10,b=f.chartObstacles,M=E(b,x),k=E(b,m);function A(t,e,i){for(var o,r,n=t.x<e.x?1:-1,a=t.x<e.x?(o=t,e):(o=e,t),s=t.y<e.y?(r=t,e):(r=e,t),l=n<0?w(E(b,a.x),b.length-1):0;b[l]&&(0<n&&b[l].xMin<=a.x||n<0&&b[l].xMax>=o.x);){if(b[l].xMin<=a.x&&b[l].xMax>=o.x&&b[l].yMin<=s.y&&b[l].yMax>=r.y)return i?{y:t.y,x:t.x<e.x?b[l].xMin-1:b[l].xMax+1,obstacle:b[l]}:{x:t.x,y:t.y<e.y?b[l].yMin-1:b[l].yMax+1,obstacle:b[l]};l+=n}return e}function C(t,e,i,o,r){var n,a,s=r.soft,l=r.hard,h=o?"x":"y",d={x:e.x,y:e.y},c={x:e.x,y:e.y},p=t[h+"Max"]>=s[h+"Max"],u=t[h+"Min"]<=s[h+"Min"],f=t[h+"Max"]>=l[h+"Max"],g=t[h+"Min"]<=l[h+"Min"],x=P(t[h+"Min"]-e[h]),m=P(t[h+"Max"]-e[h]),v=P(x-m)<10?e[h]<i[h]:m<x;return c[h]=t[h+"Min"],d[h]=t[h+"Max"],n=A(e,c,o)[h]!==c[h],a=A(e,d,o)[h]!==d[h],v=n?!a||v:!a&&v,v=u?!p||v:!p&&v,v=g?!f||v:!f&&v}for(-1<(k=T(b=b.slice(M,k+1),e))&&(n=b[k],a=e,s=t,l=w(n.xMax-a.x,a.x-n.xMin)<w(n.yMax-a.y,a.y-n.yMin),h=C(n,a,s,l,{soft:f.hardBounds,hard:f.hardBounds}),r=l?{y:a.y,x:n[h?"xMax":"xMin"]+(h?1:-1)}:{x:a.x,y:n[h?"yMax":"yMin"]+(h?1:-1)},p.push({end:e,start:r}),e=r);-1<(k=T(b,e));)o=e[c]-t[c]<0,(r={x:e.x,y:e.y})[c]=b[k][o?c+"Max":c+"Min"]+(o?1:-1),p.push({end:e,start:r}),e=r;return{path:B(i=(i=function t(e,i,o){if(e.x===i.x&&e.y===i.y)return[];var r,n,a,s,l,h,d=o?"x":"y",c=f.obstacleOptions.margin,p={soft:{xMin:x,xMax:m,yMin:v,yMax:y},hard:f.hardBounds},u=T(b,e);return-1<u?(s=C(u=b[u],e,i,o,p),D(u,f.hardBounds),h=o?{y:e.y,x:u[s?"xMax":"xMin"]+(s?1:-1)}:{x:e.x,y:u[s?"yMax":"yMin"]+(s?1:-1)},-1<(l=T(b,h))&&(D(l=b[l],f.hardBounds),h[d]=s?O(u[d+"Max"]-c+1,(l[d+"Min"]+u[d+"Max"])/2):w(u[d+"Min"]+c-1,(l[d+"Max"]+u[d+"Min"])/2),g=e.x===h.x&&e.y===h.y&&(g&&(h[d]=s?O(u[d+"Max"],l[d+"Max"])+1:w(u[d+"Min"],l[d+"Min"])-1),!g)),n=[{start:e,end:h}]):(n=[{start:e,end:{x:(r=A(e,{x:o?i.x:e.x,y:o?e.y:i.y},o)).x,y:r.y}}],r[o?"x":"y"]!==i[o?"x":"y"]&&(s=C(r.obstacle,r,i,!o,p),D(r.obstacle,f.hardBounds),a={x:o?r.x:r.obstacle[s?"xMax":"xMin"]+(s?1:-1),y:o?r.obstacle[s?"yMax":"yMin"]+(s?1:-1):r.y},o=!o,n=n.concat(t({x:r.x,y:r.y},a,o)))),n=n.concat(t(n[n.length-1].end,i,!o))}(t,e,d)).concat(p.reverse())),obstacles:i}},{requiresObstacles:!0}),straight:function(t,e){return{path:[["M",t.x,t.y],["L",e.x,e.y]],obstacles:[{start:t,end:e}]}},simpleConnect:i}}),i(e,"Gantt/Pathfinder.js",[e["Gantt/Connection.js"],e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"],e["Gantt/PathfinderAlgorithms.js"]],function(h,t,e,i,d,o,r){var n=i.defaultOptions,a=o.addEvent,c=o.defined,s=o.error,l=o.extend,p=o.merge,u=(o.objectEach,o.pick),f=o.splat,g=(e.deg2rad,Math.max),x=Math.min;function y(t){var e,i=t.shapeArgs;return i?{xMin:i.x,xMax:i.x+i.width,yMin:i.y,yMax:i.y+i.height}:(e=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}l(n,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}});var m=(v.prototype.init=function(t){this.chart=t,this.connections=[],a(t,"redraw",function(){this.pathfinder.update()})},v.prototype.update=function(t){var r=this.chart,n=this,e=n.connections;n.connections=[],r.series.forEach(function(t){t.visible&&!t.options.isInternal&&t.points.forEach(function(e){var t=e.options;t&&t.dependency&&(t.connect=t.dependency);var i,o=e.options&&e.options.connect&&f(e.options.connect);e.visible&&!1!==e.isInside&&o&&o.forEach(function(t){(i=r.get("string"==typeof t?t:t.to))instanceof d&&i.series.visible&&i.visible&&!1!==i.isInside&&n.connections.push(new h(e,i,"string"==typeof t?{}:t))})})});for(var i,o,a=0,s=e.length,l=n.connections.length;a<s;++a){for(o=!1,i=0;i<l;++i)if(e[a].fromPoint===n.connections[i].fromPoint&&e[a].toPoint===n.connections[i].toPoint){n.connections[i].graphics=e[a].graphics,o=!0;break}o||e[a].destroy()}delete this.chartObstacles,delete this.lineObstacles,n.renderConnections(t)},v.prototype.renderConnections=function(t){t?this.chart.series.forEach(function(e){function t(){var t=e.chart.pathfinder;(t&&t.connections||[]).forEach(function(t){t.fromPoint&&t.fromPoint.series===e&&t.render()}),e.pathfinderRemoveRenderEvent&&(e.pathfinderRemoveRenderEvent(),delete e.pathfinderRemoveRenderEvent)}!1===e.options.animation?t():e.pathfinderRemoveRenderEvent=a(e,"afterAnimate",t)}):this.connections.forEach(function(t){t.render()})},v.prototype.getChartObstacles=function(t){for(var e,i=[],o=this.chart.series,r=u(t.algorithmMargin,0),n=0,a=o.length;n<a;++n)if(o[n].visible&&!o[n].options.isInternal)for(var s,l,h=0,d=o[n].points.length;h<d;++h)(l=o[n].points[h]).visible&&(s=y(l))&&i.push({xMin:s.xMin-r,xMax:s.xMax+r,yMin:s.yMin-r,yMax:s.yMax+r});return i=i.sort(function(t,e){return t.xMin-e.xMin}),c(t.algorithmMargin)||(e=t.algorithmMargin=function(t){for(var e,i,o=t.length,r=0,n=[],l=function(t,e,i){var o=u(i,10),r=t.yMax+o>e.yMin-o&&t.yMin-o<e.yMax+o,n=t.xMax+o>e.xMin-o&&t.xMin-o<e.xMax+o,a=r?t.xMin>e.xMax?t.xMin-e.xMax:e.xMin-t.xMax:1/0,s=n?t.yMin>e.yMax?t.yMin-e.yMax:e.yMin-t.yMax:1/0;return n&&r?o?l(t,e,Math.floor(o/2)):1/0:x(a,s)};r<o;++r)for(e=r+1;e<o;++e)(i=l(t[r],t[e]))<80&&n.push(i);return n.push(80),g(Math.floor(n.sort(function(t,e){return t-e})[Math.floor(n.length/10)]/2-1),1)}(i),i.forEach(function(t){t.xMin-=e,t.xMax+=e,t.yMin-=e,t.yMax+=e})),i},v.prototype.getObstacleMetrics=function(t){for(var e,i,o=0,r=0,n=t.length;n--;)o<(e=t[n].xMax-t[n].xMin)&&(o=e),r<(i=t[n].yMax-t[n].yMin)&&(r=i);return{maxHeight:r,maxWidth:o}},v.prototype.getAlgorithmStartDirection=function(t){var e="left"!==t.align&&"right"!==t.align,i="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return e?i&&void 0:i||void 0},v);function v(t){this.chart=void 0,this.chartObstacles=void 0,this.chartObstacleMetrics=void 0,this.connections=void 0,this.group=void 0,this.lineObstacles=void 0,this.init(t)}return m.prototype.algorithms=r,e.Pathfinder=m,l(d.prototype,{getPathfinderAnchorPoint:function(t){var e,i,o=y(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":i="yMin";break;case"bottom":i="yMax"}return{x:e?o[e]:(o.xMin+o.xMax)/2,y:i?o[i]:(o.yMin+o.yMax)/2}},getRadiansToVector:function(t,e){var i;return c(e)||(i=y(this))&&(e={x:(i.xMin+i.xMax)/2,y:(i.yMin+i.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)},getMarkerVector:function(t,e,i){for(var o,r=2*Math.PI,n=t,a=y(this),s=a.xMax-a.xMin,l=a.yMax-a.yMin,h=Math.atan2(l,s),d=!1,c=s/2,p=l/2,u=a.xMin+c,f=a.yMin+p,g={x:u,y:f},x={},m=1,v=1;n<-Math.PI;)n+=r;for(;n>Math.PI;)n-=r;return o=Math.tan(n),-h<n&&n<=h?(v=-1,d=!0):h<n&&n<=Math.PI-h?v=-1:n>Math.PI-h||n<=-(Math.PI-h)?(m=-1,d=!0):m=-1,d?(g.x+=m*c,g.y+=v*c*o):(g.x+=m*(l/(2*o)),g.y+=v*p),i.x!==u&&(g.x=i.x),i.y!==f&&(g.y=i.y),x.x=g.x+e*Math.cos(n),x.y=g.y-e*Math.sin(n),x}}),t.prototype.callbacks.push(function(t){var e;!1!==t.options.connectors.enabled&&(((e=t).options.pathfinder||e.series.reduce(function(t,e){return e.options&&p(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),t||e.options&&e.options.pathfinder},!1))&&(p(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),s('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new m(this),this.pathfinder.update(!0))}),m}),i(e,"Series/XRangeSeries.js",[e["Core/Axis/Axis.js"],e["Core/Series/Series.js"],e["Core/Globals.js"],e["Core/Color/Color.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,i,o,r,n){var v=o.parse,a=n.addEvent,w=n.clamp,s=n.correctFloat,O=n.defined,l=n.find,P=n.isNumber,E=n.isObject,T=n.merge,B=n.pick,h=i.Series,d=e.seriesTypes,c=d.column;e.seriesType("xrange","column",{colorByPoint:!0,dataLabels:{formatter:function(){var t=this.point.partialFill;if(E(t)&&(t=t.amount),P(t)&&0<t)return s(100*t)+"%"},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0},{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:!1,animate:d.line.prototype.animate,cropShoulder:1,getExtremesFromAll:!0,autoIncrement:i.noop,buildKDTree:i.noop,init:function(){d.column.prototype.init.apply(this,arguments),this.options.stacking=void 0},getColumnMetrics:function(){var t,e=this.chart;function i(){e.series.forEach(function(t){var e=t.xAxis;t.xAxis=t.yAxis,t.yAxis=e})}return i(),t=c.prototype.getColumnMetrics.call(this),i(),t},cropData:function(t,e,i,o){var r=h.prototype.cropData.call(this,this.x2Data,e,i,o);return r.xData=t.slice(r.start,r.end),r},findPointIndex:function(e){var t,i,o=this.cropped,r=this.cropStart,n=this.points,a=e.id;return a&&(t=(i=l(n,function(t){return t.id===a}))?i.index:void 0),void 0===t&&(t=(i=l(n,function(t){return t.x===e.x&&t.x2===e.x2&&!t.touched}))?i.index:void 0),o&&P(t)&&P(r)&&r<=t&&(t-=r),t},translatePoint:function(t){var e,i,o,r,n,a,s,l=this,h=l.xAxis,d=l.yAxis,c=l.columnMetrics,p=l.options,u=p.minPointLength||0,f=t.plotX,g=B(t.x2,t.x+(t.len||0)),x=h.translate(g,0,0,0,1),m=Math.abs(x-f),v=this.chart.inverted,y=B(p.borderWidth,1)%2/2,b=c.offset,M=Math.round(c.width);u&&((e=u-m)<0&&(e=0),f-=e/2,x+=e/2),f=Math.max(f,-10),x=w(x,-10,h.len+10),O(t.options.pointWidth)&&(b-=(Math.ceil(t.options.pointWidth)-M)/2,M=Math.ceil(t.options.pointWidth)),p.pointPlacement&&P(t.plotY)&&d.categories&&(t.plotY=d.translate(t.y,0,1,0,1,p.pointPlacement)),t.shapeArgs={x:Math.floor(Math.min(f,x))+y,y:Math.floor(t.plotY+b)+y,width:Math.round(Math.abs(x-f)),height:M,r:l.options.borderRadius},n=(r=t.shapeArgs.x)+t.shapeArgs.width,r<0||n>h.len?(r=w(r,0,h.len),a=(n=w(n,0,h.len))-r,t.dlBox=T(t.shapeArgs,{x:r,width:n-r,centerX:a?a/2:null})):t.dlBox=null;var k=t.tooltipPos,A=v?1:0,C=v?0:1,S=l.columnMetrics?l.columnMetrics.offset:-c.width/2;k[A]=w(k[A]+(v?-1:1)*(h.reversed?-1:1)*(m/2),0,h.len-1),k[C]=w(k[C]+(v?-1:1)*S,0,d.len-1),(o=t.partialFill)&&(E(o)&&(o=o.amount),P(o)||(o=0),i=t.shapeArgs,t.partShapeArgs={x:i.x,y:i.y,width:i.width,height:i.height,r:l.options.borderRadius},s=Math.max(Math.round(m*o+t.plotX-f),0),t.clipRectArgs={x:h.reversed?i.x+m-s:i.x,y:i.y,width:s,height:i.height})},translate:function(){c.prototype.translate.apply(this,arguments),this.points.forEach(function(t){this.translatePoint(t)},this)},drawPoint:function(t,e){var i,o=this,r=o.options,n=o.chart.renderer,a=t.graphic,s=t.shapeType,l=t.shapeArgs,h=t.partShapeArgs,d=t.clipRectArgs,c=t.partialFill,p=r.stacking&&!r.borderRadius,u=t.state,f=r.states[u||"normal"]||{},g=void 0===u?"attr":e,x=o.pointAttribs(t,u),m=B(o.chart.options.chart.animation,f.animation);t.isNull||!1===t.visible?a&&(t.graphic=a.destroy()):(a?a.rect[e](l):(t.graphic=a=n.g("point").addClass(t.getClassName()).add(t.group||o.group),a.rect=n[s](T(l)).addClass(t.getClassName()).addClass("highcharts-partfill-original").add(a)),h&&(a.partRect?(a.partRect[e](T(h)),a.partialClipRect[e](T(d))):(a.partialClipRect=n.clipRect(d.x,d.y,d.width,d.height),a.partRect=n[s](h).addClass("highcharts-partfill-overlay").add(a).clip(a.partialClipRect))),o.chart.styledMode||(a.rect[e](x,m).shadow(r.shadow,null,p),h&&(E(c)||(c={}),E(r.partialFill)&&(c=T(r.partialFill,c)),i=c.fill||v(x.fill).brighten(-.3).get()||v(t.color||o.color).brighten(-.3).get(),x.fill=i,a.partRect[g](x,m).shadow(r.shadow,null,p))))},drawPoints:function(){var e=this,i=e.getAnimationVerb();e.points.forEach(function(t){e.drawPoint(t,i)})},getAnimationVerb:function(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"}},{resolveColor:function(){var t,e,i,o,r,n,a=this.series;a.options.colorByPoint&&!this.options.color?(i=this,o=(e=a).options.colors||e.chart.options.colors,r=o?o.length:e.chart.options.chart.colorCount,t={colorIndex:n=i.y%r,color:o&&o[n]},a.chart.styledMode||(this.color=t.color),this.options.colorIndex||(this.colorIndex=t.colorIndex)):this.color||(this.color=a.color)},init:function(){return r.prototype.init.apply(this,arguments),this.y||(this.y=0),this},setState:function(){r.prototype.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())},getLabelConfig:function(){var t=this,e=r.prototype.getLabelConfig.call(t),i=t.series.yAxis.categories;return e.x2=t.x2,e.yCategory=t.yCategory=i&&i[t.y],e},tooltipDateKeys:["x","x2"],isValid:function(){return"number"==typeof this.x&&"number"==typeof this.x2}}),a(t,"afterGetSeriesExtremes",function(){var e,i,t=this.series;this.isXAxis&&(e=B(this.dataMax,-Number.MAX_VALUE),t.forEach(function(t){t.x2Data&&t.x2Data.forEach(function(t){e<t&&(e=t,i=!0)})}),i&&(this.dataMax=e))})}),i(e,"Series/GanttSeries.js",[e["Core/Series/Series.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Utilities.js"]],function(t,o,e,i){e.dateFormat;var c=i.isNumber,r=i.merge,n=i.pick,p=i.splat,a=o.Series,u=t.seriesTypes.xrange;t.seriesType("gantt","xrange",{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var t,e,i=this,o=i.series,r=o.chart.tooltip,n=o.xAxis,a=o.tooltipOptions.dateTimeLabelFormats,s=n.options.startOfWeek,l=o.tooltipOptions,h=l.xDateFormat,d=i.options.milestone,c="<b>"+(i.name||i.yCategory)+"</b>";return l.pointFormat?i.tooltipFormatter(l.pointFormat):(h=h||p(r.getDateFormat(n.closestPointRange,i.start,s,a))[0],t=o.chart.time.dateFormat(h,i.start),e=o.chart.time.dateFormat(h,i.end),c+="<br/>",d?c+=t+"<br/>":(c+="Start: "+t+"<br/>",c+="End: "+e+"<br/>"),c)}},connectors:{type:"simpleConnect",animation:{reversed:!0},startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}},{pointArrayMap:["start","end","y"],keyboardMoveVertical:!1,translatePoint:function(t){var e,i;u.prototype.translatePoint.call(this,t),t.options.milestone&&(i=(e=t.shapeArgs).height,t.shapeArgs={x:e.x-i/2,y:e.y,width:i,height:i})},drawPoint:function(t,e){var i,o=this,r=o.options,n=o.chart.renderer,a=t.shapeArgs,s=t.plotY,l=t.graphic,h=t.selected&&"select",d=r.stacking&&!r.borderRadius;t.options.milestone?c(s)&&null!==t.y&&!1!==t.visible?(i=n.symbols.diamond(a.x,a.y,a.width,a.height),l?l[e]({d:i}):t.graphic=l=n.path(i).addClass(t.getClassName(),!0).add(t.group||o.group),o.chart.styledMode||t.graphic.attr(o.pointAttribs(t,h)).shadow(r.shadow,null,d)):l&&(t.graphic=l.destroy()):u.prototype.drawPoint.call(o,t,e)},setData:a.prototype.setData,setGanttPointAliases:function(i){function t(t,e){void 0!==e&&(i[t]=e)}t("x",n(i.start,i.x)),t("x2",n(i.end,i.x2)),t("partialFill",n(i.completed,i.partialFill))}},r(u.prototype.pointClass.prototype,{applyOptions:function(t,e){var i=u.prototype.pointClass.prototype.applyOptions.call(this,t,e);return o.seriesTypes.gantt.prototype.setGanttPointAliases(i),i},isValid:function(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)}}))}),i(e,"Core/Chart/GanttChart.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(l,t,e){var h=e.getOptions,d=e.isArray,c=e.merge,p=e.splat;t.ganttChart=function(t,e,i){var o,r="string"==typeof t||t.nodeName,n=e.series,a=h(),s=e;return d((e=arguments[r?1:0]).xAxis)||(e.xAxis=[e.xAxis||{},{}]),e.xAxis=e.xAxis.map(function(t,e){return 1===e&&(o=0),c(a.xAxis,{grid:{enabled:!0},opposite:!0,linkedTo:o},t,{type:"datetime"})}),e.yAxis=p(e.yAxis||{}).map(function(t){return c(a.yAxis,{grid:{enabled:!0},staticScale:50,reversed:!0,type:t.categories?t.type:"treegrid"},t)}),e.series=null,(e=c(!0,{chart:{type:"gantt"},title:{text:null},legend:{enabled:!1},navigator:{series:{type:"gantt"},yAxis:{type:"category"}}},e,{isGantt:!0})).series=s.series=n,r?new l(t,e,i):new l(e,e)}}),i(e,"Core/Axis/ScrollbarAxis.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(l,t){var i=t.addEvent,d=t.defined,c=t.pick;function e(){}return e.compose=function(t,e){i(t,"afterInit",function(){var s=this;s.options&&s.options.scrollbar&&s.options.scrollbar.enabled&&(s.options.scrollbar.vertical=!s.horiz,s.options.startOnTick=s.options.endOnTick=!1,s.scrollbar=new e(s.chart.renderer,s.options.scrollbar,s.chart),i(s.scrollbar,"changed",function(t){var e,i,o=c(s.options&&s.options.min,s.min),r=c(s.options&&s.options.max,s.max),n=d(s.dataMin)?Math.min(o,s.min,s.dataMin):o,a=(d(s.dataMax)?Math.max(r,s.max,s.dataMax):r)-n;d(o)&&d(r)&&(i=s.horiz&&!s.reversed||!s.horiz&&s.reversed?(e=n+a*this.to,n+a*this.from):(e=n+a*(1-this.from),n+a*(1-this.to)),c(this.options.liveRedraw,l.svg&&!l.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===t.DOMType||!d(t.DOMType)?s.setExtremes(i,e,!0,"mousemove"!==t.DOMType,t):this.setRange(this.from,this.to))}))}),i(t,"afterRender",function(){var t,e,i,o=this,r=Math.min(c(o.options.min,o.min),o.min,c(o.dataMin,o.min)),n=Math.max(c(o.options.max,o.max),o.max,c(o.dataMax,o.max)),a=o.scrollbar,s=o.axisTitleMargin+(o.titleOffset||0),l=o.chart.scrollbarsOffsets,h=o.options.margin||0;a&&(t=o.horiz?(o.opposite||(l[1]+=s),a.position(o.left,o.top+o.height+2+l[1]-(o.opposite?h:0),o.width,o.height),o.opposite||(l[1]+=h),1):(o.opposite&&(l[0]+=s),a.position(o.left+o.width+2+l[0]-(o.opposite?0:h),o.top,o.width,o.height),o.opposite&&(l[0]+=h),0),l[t]+=a.size+a.options.margin,isNaN(r)||isNaN(n)||!d(o.min)||!d(o.max)||o.min===o.max?a.setRange(0,1):(e=(o.min-r)/(n-r),i=(o.max-r)/(n-r),o.horiz&&!o.reversed||!o.horiz&&o.reversed?a.setRange(e,i):a.setRange(1-i,1-e)))}),i(t,"afterGetOffset",function(){var t=this.horiz?2:1,e=this.scrollbar;e&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=e.size+e.options.margin)})},e}),i(e,"Core/Scrollbar.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Axis/ScrollbarAxis.js"],e["Core/Utilities.js"],e["Core/Options.js"]],function(t,e,i,o,r){var l=o.addEvent,u=o.correctFloat,f=o.defined,n=o.destroyObjectProperties,a=o.fireEvent,s=o.merge,h=o.pick,d=o.removeEvent,c=r.defaultOptions,p=e.hasTouch,g=e.isTouchDevice,x=e.swapXY=function(t,e){return e&&t.forEach(function(t){for(var e,i=t.length,o=0;o<i;o+=2)"number"==typeof(e=t[o+1])&&(t[o+1]=t[o+2],t[o+2]=e)}),t},m=(v.prototype.addEvents=function(){var t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,o=this.track.element,r=this.mouseDownHandler.bind(this),n=this.mouseMoveHandler.bind(this),a=this.mouseUpHandler.bind(this),s=[[e[t[0]].element,"click",this.buttonToMinClick.bind(this)],[e[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[o,"click",this.trackClick.bind(this)],[i,"mousedown",r],[i.ownerDocument,"mousemove",n],[i.ownerDocument,"mouseup",a]];p&&s.push([i,"touchstart",r],[i.ownerDocument,"touchmove",n],[i.ownerDocument,"touchend",a]),s.forEach(function(t){l.apply(null,t)}),this._events=s},v.prototype.buttonToMaxClick=function(t){var e=this,i=(e.to-e.from)*h(e.options.step,.2);e.updatePosition(e.from+i,e.to+i),a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},v.prototype.buttonToMinClick=function(t){var e=this,i=u(e.to-e.from)*h(e.options.step,.2);e.updatePosition(u(e.from-i),u(e.to-i)),a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},v.prototype.cursorToScrollbarPosition=function(t){var e=this,i=e.options,o=i.minWidth>e.calculatedWidth?i.minWidth:0;return{chartX:(t.chartX-e.x-e.xOffset)/(e.barWidth-o),chartY:(t.chartY-e.y-e.yOffset)/(e.barWidth-o)}},v.prototype.destroy=function(){var t=this.chart.scroller;this.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,n(t.scrollbarButtons))},v.prototype.drawScrollbarButton=function(t){var e,i=this,o=i.renderer,r=i.scrollbarButtons,n=i.options,a=i.size,s=o.g().add(i.group);r.push(s),e=o.rect().addClass("highcharts-scrollbar-button").add(s),this.chart.styledMode||e.attr({stroke:n.buttonBorderColor,"stroke-width":n.buttonBorderWidth,fill:n.buttonBackgroundColor}),e.attr(e.crisp({x:-.5,y:-.5,width:a+1,height:a+1,r:n.buttonBorderRadius},e.strokeWidth())),e=o.path(x([["M",a/2+(t?-1:1),a/2-3],["L",a/2+(t?-1:1),a/2+3],["L",a/2+(t?2:-2),a/2]],n.vertical)).addClass("highcharts-scrollbar-arrow").add(r[t]),this.chart.styledMode||e.attr({fill:n.buttonArrowColor})},v.prototype.init=function(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=s(v.defaultOptions,e),this.chart=i,this.size=h(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())},v.prototype.mouseDownHandler=function(t){var e=this,i=e.chart.pointer.normalize(t),o=e.cursorToScrollbarPosition(i);e.chartX=o.chartX,e.chartY=o.chartY,e.initPositions=[e.from,e.to],e.grabbedCenter=!0},v.prototype.mouseMoveHandler=function(t){var e,i=this,o=i.chart.pointer.normalize(t),r=i.options.vertical?"chartY":"chartX",n=i.initPositions||[];!i.grabbedCenter||t.touches&&0===t.touches[0][r]||(e=i.cursorToScrollbarPosition(o)[r]-i[r],i.hasDragged=!0,i.updatePosition(n[0]+e,n[1]+e),i.hasDragged&&a(i,"changed",{from:i.from,to:i.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},v.prototype.mouseUpHandler=function(t){var e=this;e.hasDragged&&a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),e.grabbedCenter=e.hasDragged=e.chartX=e.chartY=null},v.prototype.position=function(t,e,i,o){var r=this,n=r.options.vertical,a=o,s=0,l=r.rendered?"animate":"attr";r.x=t,r.y=e+this.trackBorderWidth,r.width=i,r.height=o,r.xOffset=a,r.yOffset=s,n?(r.width=r.yOffset=i=s=r.size,r.xOffset=a=0,r.barWidth=o-2*i,r.x=t+=r.options.margin):(r.height=r.xOffset=o=a=r.size,r.barWidth=i-2*o,r.y=r.y+r.options.margin),r.group[l]({translateX:t,translateY:r.y}),r.track[l]({width:i,height:o}),r.scrollbarButtons[1][l]({translateX:n?0:i-a,translateY:n?o-s:0})},v.prototype.removeEvents=function(){this._events.forEach(function(t){d.apply(null,t)}),this._events.length=0},v.prototype.render=function(){var t,e=this,i=e.renderer,o=e.options,r=e.size,n=this.chart.styledMode;e.group=t=i.g("scrollbar").attr({zIndex:o.zIndex,translateY:-99999}).add(),e.track=i.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:o.trackBorderRadius||0,height:r,width:r}).add(t),n||e.track.attr({fill:o.trackBackgroundColor,stroke:o.trackBorderColor,"stroke-width":o.trackBorderWidth}),this.trackBorderWidth=e.track.strokeWidth(),e.track.attr({y:-this.trackBorderWidth%2/2}),e.scrollbarGroup=i.g().add(t),e.scrollbar=i.rect().addClass("highcharts-scrollbar-thumb").attr({height:r,width:r,r:o.barBorderRadius||0}).add(e.scrollbarGroup),e.scrollbarRifles=i.path(x([["M",-3,r/4],["L",-3,2*r/3],["M",0,r/4],["L",0,2*r/3],["M",3,r/4],["L",3,2*r/3]],o.vertical)).addClass("highcharts-scrollbar-rifles").add(e.scrollbarGroup),n||(e.scrollbar.attr({fill:o.barBackgroundColor,stroke:o.barBorderColor,"stroke-width":o.barBorderWidth}),e.scrollbarRifles.attr({stroke:o.rifleColor,"stroke-width":1})),e.scrollbarStrokeWidth=e.scrollbar.strokeWidth(),e.scrollbarGroup.translate(-e.scrollbarStrokeWidth%2/2,-e.scrollbarStrokeWidth%2/2),e.drawScrollbarButton(0),e.drawScrollbarButton(1)},v.prototype.setRange=function(t,e){var i,o,r,n,a,s=this,l=s.options,h=l.vertical,d=l.minWidth,c=s.barWidth,p=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";f(c)&&(t=Math.max(t,0),i=Math.ceil(c*t),o=c*Math.min(e,1),s.calculatedWidth=n=u(o-i),n<d&&(i=(c-d+n)*t,n=d),r=Math.floor(i+s.xOffset+s.yOffset),a=n/2-.5,s.from=t,s.to=e,h?(s.scrollbarGroup[p]({translateY:r}),s.scrollbar[p]({height:n}),s.scrollbarRifles[p]({translateY:a}),s.scrollbarTop=r,s.scrollbarLeft=0):(s.scrollbarGroup[p]({translateX:r}),s.scrollbar[p]({width:n}),s.scrollbarRifles[p]({translateX:a}),s.scrollbarLeft=r,s.scrollbarTop=0),n<=12?s.scrollbarRifles.hide():s.scrollbarRifles.show(!0),!1===l.showFull&&(t<=0&&1<=e?s.group.hide():s.group.show()),s.rendered=!0)},v.prototype.trackClick=function(t){var e=this,i=e.chart.pointer.normalize(t),o=e.to-e.from,r=e.y+e.scrollbarTop,n=e.x+e.scrollbarLeft;e.options.vertical&&i.chartY>r||!e.options.vertical&&i.chartX>n?e.updatePosition(e.from+o,e.to+o):e.updatePosition(e.from-o,e.to-o),a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},v.prototype.update=function(t){this.destroy(),this.init(this.chart.renderer,s(!0,this.options,t),this.chart)},v.prototype.updatePosition=function(t,e){1<e&&(t=u(1-u(e-t)),e=1),t<0&&(e=u(e-t),t=0),this.from=t,this.to=e},v.defaultOptions={height:g?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1},v);function v(t,e,i){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.group=void 0,this.scrollbar=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions={},this.x=0,this.y=0,this.chart=i,this.options=e,this.renderer=i.renderer,this.init(t,e,i)}return e.Scrollbar||(c.scrollbar=s(!0,m.defaultOptions,c.scrollbar),e.Scrollbar=m,i.compose(t,m)),e.Scrollbar}),i(e,"Extensions/RangeSelector.js",[e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],function(b,t,g,e,o,i){var H=e.defaultOptions,M=i.addEvent,U=i.createElement,x=i.css,k=i.defined,r=i.destroyObjectProperties,n=i.discardElement,m=i.extend,a=i.fireEvent,P=i.isNumber,v=i.merge,s=i.objectEach,F=i.pick,y=i.pInt,A=i.splat;m(H,{rangeSelector:{verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),H.lang=v(H.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});var l=(h.prototype.clickButton=function(t,e){var i,o,r,n,a,s,l,h=this,d=h.chart,c=h.buttonOptions[t],p=d.xAxis[0],u=d.scroller&&d.scroller.getUnionExtremes()||p||{},f=u.dataMin,g=u.dataMax,x=p&&Math.round(Math.min(p.max,F(g,p.max))),m=c.type,v=c._range,y=c.dataGrouping;if(null!==f&&null!==g){if(d.fixedRange=v,y&&(this.forcedDataGrouping=!0,b.prototype.setDataGrouping.call(p||{chart:this.chart},y,!1),this.frozenStates=c.preserveDataGrouping),"month"===m||"year"===m)p?(s={range:c,max:x,chart:d,dataMin:f,dataMax:g},i=p.minFromRange.call(s),P(s.newMax)&&(x=s.newMax)):v=c;else if(v)i=Math.max(x-v,f),x=Math.min(i+v,g);else if("ytd"===m){if(!p)return void(h.deferredYTDClick=t);void 0===g&&(f=Number.MAX_VALUE,g=Number.MIN_VALUE,d.series.forEach(function(t){var e=t.xData;f=Math.min(e[0],f),g=Math.max(e[e.length-1],g)}),e=!1),i=r=(l=h.getYTDExtremes(g,f,d.time.useUTC)).min,x=l.max}else"all"===m&&p&&(i=f,x=g);k(i)&&(i+=c._offsetMin),k(x)&&(x+=c._offsetMax),h.setSelected(t),p?p.setExtremes(i,x,F(e,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:c}):(o=A(d.options.xAxis)[0],a=o.range,o.range=v,n=o.min,o.min=r,M(d,"load",function(){o.range=a,o.min=n}))}},h.prototype.setSelected=function(t){this.selected=this.options.selected=t},h.prototype.init=function(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&a(t,"blur"),e&&e.blur&&a(e,"blur")}var i=this,o=e.options.rangeSelector,r=o.buttons||i.defaultButtons.slice(),n=o.selected;i.chart=e,i.options=o,i.buttons=[],i.buttonOptions=r,this.unMouseDown=M(e.container,"mousedown",t),this.unResize=M(e,"resize",t),r.forEach(i.computeButtonRange),void 0!==n&&r[n]&&this.clickButton(n,!1),M(e,"load",function(){e.xAxis&&e.xAxis[0]&&M(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})})},h.prototype.updateButtonStates=function(){var x=this,t=this.chart,m=t.xAxis[0],v=Math.round(m.max-m.min),y=!m.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||m,b=e.dataMin,M=e.dataMax,i=x.getYTDExtremes(M,b,t.time.useUTC),k=i.min,A=i.max,C=x.selected,S=P(C),w=x.options.allButtonsEnabled,O=x.buttons;x.buttonOptions.forEach(function(t,e){var i,o,r=t._range,n=t.type,a=t.count||1,s=O[e],l=0,h=t._offsetMax-t._offsetMin,d=e===C,c=M-b<r,p=r<m.minRange,u=!1,f=!1,g=r===v;("month"===n||"year"===n)&&864e5*{month:28,year:365}[n]*a-h<=v+36e5&&v-36e5<=864e5*{month:31,year:366}[n]*a+h?g=!0:"ytd"===n?(g=A-k+h===v,u=!d):"all"===n&&(g=m.max-m.min>=M-b,f=!d&&S&&g),i=!w&&(c||p||f||y),o=d&&g||g&&!S&&!u||d&&x.frozenStates,i?l=3:o&&(S=!0,l=2),s.state!==l&&(s.setState(l),0===l&&C===e&&x.setSelected(null))})},h.prototype.computeButtonRange=function(t){var e=t.type,i=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[e]?t._range=o[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=F(t.offsetMin,0),t._offsetMax=F(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},h.prototype.setInputValue=function(t,e){var i=this.chart.options.rangeSelector,o=this.chart.time,r=this[t+"Input"];k(e)&&(r.previousValue=r.HCTime,r.HCTime=e),r.value=o.dateFormat(i.inputEditDateFormat||"%Y-%m-%d",r.HCTime),this[t+"DateBox"].attr({text:o.dateFormat(i.inputDateFormat||"%b %e, %Y",r.HCTime)})},h.prototype.showInput=function(t){var e=this.inputGroup,i=this[t+"DateBox"];x(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},h.prototype.hideInput=function(t){x(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},h.prototype.defaultInputDateParser=function(t,e){var i=new Date;return g.isSafari?Date.parse(t.split(" ").join("T")):e?Date.parse(t+"Z"):Date.parse(t)-60*i.getTimezoneOffset()*1e3},h.prototype.drawInput=function(t){var a,e,i,s=this,l=s.chart,o=l.renderer.style||{},r=l.renderer,h=l.options.rangeSelector,n=H.lang,d=s.div,c="min"===t,p=this.inputGroup,u=this.defaultInputDateParser;function f(){var t=a.value,e=l.xAxis[0],i=l.scroller&&l.scroller.xAxis?l.scroller.xAxis:e,o=i.dataMin,r=i.dataMax,n=(h.inputDateParser||u)(t,l.time.useUTC);n!==a.previousValue&&(a.previousValue=n,P(n)||(n=t.split("-"),n=Date.UTC(y(n[0]),y(n[1])-1,y(n[2]))),P(n)&&(l.time.useUTC||(n+=60*(new Date).getTimezoneOffset()*1e3),c?n>s.maxInput.HCTime?n=void 0:n<o&&(n=o):n<s.minInput.HCTime?n=void 0:r<n&&(n=r),void 0!==n&&e.setExtremes(c?n:e.min,c?e.max:n,void 0,void 0,{trigger:"rangeSelectorInput"})))}this[t+"Label"]=e=r.label(n[c?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(p),p.offset+=e.width+5,this[t+"DateBox"]=i=r.label("",p.offset).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth||90,height:h.inputBoxHeight||17,"text-align":"center"}).on("click",function(){s.showInput(t),s[t+"Input"].focus()}),l.styledMode||i.attr({stroke:h.inputBoxBorderColor||"#cccccc","stroke-width":1}),i.add(p),p.offset+=i.width+(c?10:0),this[t+"Input"]=a=U("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:l.plotTop+"px"},d),l.styledMode||(e.css(v(o,h.labelStyle)),i.css(v({color:"#333333"},o,h.inputStyle)),x(a,m({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:o.fontSize,fontFamily:o.fontFamily,top:"-9999em"},h.inputStyle))),a.onfocus=function(){s.showInput(t)},a.onblur=function(){a===g.doc.activeElement&&f(),s.hideInput(t),a.blur()},a.onchange=f,a.onkeypress=function(t){13===t.keyCode&&f()}},h.prototype.getPosition=function(){var t=this.chart,e=t.options.rangeSelector,i="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:i+e.buttonPosition.y,inputTop:i+e.inputPosition.y-10}},h.prototype.getYTDExtremes=function(t,e,i){var o=this.chart.time,r=new o.Date(t),n=o.get("FullYear",r),a=i?o.Date.UTC(n,0,1):+new o.Date(n,0,1),s=Math.max(e||0,a),r=r.getTime();return{max:Math.min(t||r,r),min:s}},h.prototype.render=function(t,e){var i,o,r,n,a,s,l,h,d,c=this,p=c.chart,u=p.renderer,f=p.container,g=p.options,x=g.exporting&&!1!==g.exporting.enabled&&g.navigation&&g.navigation.buttonOptions,m=H.lang,v=c.div,y=g.rangeSelector,b=F(g.chart.style&&g.chart.style.zIndex,0)+1,M=y.floating,k=c.buttons,A=c.inputGroup,C=y.buttonTheme,S=y.buttonPosition,w=y.inputPosition,O=y.inputEnabled,P=C&&C.states,E=p.plotLeft,T=c.buttonGroup,B=c.rendered,D=c.options.verticalAlign,I=p.legend,G=I&&I.options,z=S.y,L=w.y,R=p.hasLoaded,j=R?"animate":"attr",N=0,W=0;!1!==y.enabled&&(B||(c.group=o=u.g("range-selector-group").attr({zIndex:7}).add(),c.buttonGroup=T=u.g("range-selector-buttons").add(o),c.zoomText=u.text(m.rangeSelectorZoom,0,15).add(T),p.styledMode||(c.zoomText.css(y.labelStyle),C["stroke-width"]=F(C["stroke-width"],0)),c.buttonOptions.forEach(function(o,r){k[r]=u.button(o.text,0,0,function(t){var e,i=o.events&&o.events.click;i&&(e=i.call(o,t)),!1!==e&&c.clickButton(r),c.isActive=!0},C,P&&P.hover,P&&P.select,P&&P.disabled).attr({"text-align":"center"}).add(T)}),!1!==O&&(c.div=v=U("div",null,{position:"relative",height:0,zIndex:b}),f.parentNode.insertBefore(v,f),c.inputGroup=A=u.g("input-group").add(o),A.offset=0,c.drawInput("min"),c.drawInput("max"))),c.zoomText[j]({x:F(E+S.x,E)}),i=F(E+S.x,E)+c.zoomText.getBBox().width+5,c.buttonOptions.forEach(function(t,e){k[e][j]({x:i}),i+=k[e].width+F(y.buttonSpacing,5)}),E=p.plotLeft-p.spacing[3],c.updateButtonStates(),x&&this.titleCollision(p)&&"top"===D&&"right"===S.align&&S.y+T.getBBox().height-12<(x.y||0)+x.height&&(N=-40),a=S.x-p.spacing[3],"right"===S.align?a+=N-E:"center"===S.align&&(a-=E/2),T.align({y:S.y,width:T.getBBox().width,align:S.align,x:a},!0,p.spacingBox),c.group.placed=R,c.buttonGroup.placed=R,!1!==O&&(N=x&&this.titleCollision(p)&&"top"===D&&"right"===w.align&&w.y-A.getBBox().height-12<(x.y||0)+x.height+p.spacing[0]?-40:0,"left"===w.align?a=E:"right"===w.align&&(a=-Math.max(p.axisOffset[1],-N)),A.align({y:w.y,width:A.getBBox().width,align:w.align,x:w.x+a-2},!0,p.spacingBox),s=A.alignAttr.translateX+A.alignOptions.x-N+A.getBBox().x+2,l=A.alignOptions.width,h=T.alignAttr.translateX+T.getBBox().x,d=T.getBBox().width+20,(w.align===S.align||s<h+d&&h<s+l&&z<L+A.getBBox().height)&&A.attr({translateX:A.alignAttr.translateX+(p.axisOffset[1]>=-N?0:-N),translateY:A.alignAttr.translateY+T.getBBox().height+10}),c.setInputValue("min",t),c.setInputValue("max",e),c.inputGroup.placed=R),c.group.align({verticalAlign:D},!0,p.spacingBox),r=c.group.getBBox().height+20,n=c.group.alignAttr.translateY,"bottom"===D&&(W=n-(r=r+(G&&"bottom"===G.verticalAlign&&G.enabled&&!G.floating?I.legendHeight+F(G.margin,10):0)-20)-(M?0:y.y)-(p.titleOffset?p.titleOffset[2]:0)-10),"top"===D?(M&&(W=0),p.titleOffset&&p.titleOffset[0]&&(W=p.titleOffset[0]),W+=p.margin[0]-p.spacing[0]||0):"middle"===D&&(L===z?W=L<0?n+void 0:n:(L||z)&&(L<0||z<0?W-=Math.min(L,z):W=n-r+void 0)),c.group.translate(y.x,y.y+Math.floor(W)),!1!==O&&(c.minInput.style.marginTop=c.group.translateY+"px",c.maxInput.style.marginTop=c.group.translateY+"px"),c.rendered=!0)},h.prototype.getHeight=function(){var t,e=this.options,i=this.group,o=e.inputPosition,r=e.buttonPosition,n=e.y,a=r.y,s=o.y,l=0;return e.height?e.height:(l=i?i.getBBox(!0).height+13+n:0,t=Math.min(s,a),(s<0&&a<0||0<s&&0<a)&&(l+=Math.abs(t)),l)},h.prototype.titleCollision=function(t){return!(t.options.title.text||t.options.subtitle.text)},h.prototype.update=function(t){var e=this.chart;v(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),e.rangeSelector.render()},h.prototype.destroy=function(){var i=this,t=i.minInput,e=i.maxInput;i.unMouseDown(),i.unResize(),r(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),s(i,function(t,e){t&&"chart"!==e&&(t instanceof o?t.destroy():t instanceof window.HTMLElement&&n(t)),t!==h.prototype[e]&&(i[e]=null)},this)},h);function h(t){this.buttons=void 0,this.buttonOptions=h.prototype.defaultButtons,this.options=void 0,this.chart=t,this.init(t)}return l.prototype.defaultButtons=[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],b.prototype.minFromRange=function(){function t(t,e){var i="year"===n?"FullYear":"Month",o=new s.Date(t),r=s.get(i,o);return s.set(i,o,r+e),r===s.get(i,o)&&s.set("Date",o,0),o.getTime()-t}var e,i,o,r=this.range,n=r.type,a=this.max,s=this.chart.time;return P(r)?(e=a-r,o=r):(e=a+t(a,-r.count),this.chart&&(this.chart.fixedRange=a-e)),i=F(this.dataMin,Number.MIN_VALUE),P(e)||(e=i),e<=i&&(e=i,void 0===o&&(o=t(e,r.count)),this.newMax=Math.min(e+o,this.dataMax)),P(a)||(e=void 0),e},g.RangeSelector||(M(t,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new l(this))}),M(t,"beforeRender",function(){var t,e=this.axes,i=this.rangeSelector;i&&(P(i.deferredYTDClick)&&(i.clickButton(i.deferredYTDClick),delete i.deferredYTDClick),e.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),i.render(),t=i.options.verticalAlign,i.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),M(t,"update",function(t){var e,i=t.options.rangeSelector,o=this.rangeSelector,r=this.extraBottomMargin,n=this.extraTopMargin;i&&i.enabled&&!k(o)&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new l(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,o&&(o.render(),e=i&&i.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin===r&&this.extraTopMargin===n||(this.isDirtyBox=!0))}),M(t,"render",function(){var t,e=this.rangeSelector;e&&!e.options.floating&&(e.render(),"bottom"===(t=e.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),M(t,"getMargins",function(){var t,e=this.rangeSelector;e&&(t=e.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),t.prototype.callbacks.push(function(t){var e,i,o,r,n,a,s=t.rangeSelector;function l(){e=t.xAxis[0].getExtremes(),r=t.legend,a=null==s?void 0:s.options.verticalAlign,P(e.min)&&s.render(e.min,e.max),s&&r.display&&"top"===a&&a===r.options.verticalAlign&&(n=v(t.spacingBox),"vertical"===r.options.layout?n.y=t.plotTop:n.y+=s.getHeight(),r.group.placed=!1,r.align(n))}s&&(o=M(t.xAxis[0],"afterSetExtremes",function(t){s.render(t.min,t.max)}),i=M(t,"redraw",l),l()),M(t,"destroy",function(){s&&(i(),o())})}),g.RangeSelector=l),g.RangeSelector}),i(e,"Core/Axis/NavigatorAxis.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){var h=t.isTouchDevice,i=e.addEvent,c=e.correctFloat,p=e.defined,u=e.isNumber,f=e.pick,o=(r.prototype.destroy=function(){this.axis=void 0},r.prototype.toFixedRange=function(t,e,i,o){var r=this.axis,n=r.chart,a=n&&n.fixedRange,s=(r.pointRange||0)/2,l=f(i,r.translate(t,!0,!r.horiz)),h=f(o,r.translate(e,!0,!r.horiz)),d=a&&(h-l)/a;return p(i)||(l=c(l+s)),p(o)||(h=c(h-s)),.7<d&&d<1.3&&(o?l=h-a:h=l+a),u(l)&&u(h)||(l=h=void 0),{min:l,max:h}},r);function r(t){this.axis=t}function n(){}return n.compose=function(t){t.keepProps.push("navigatorAxis"),i(t,"init",function(){this.navigatorAxis||(this.navigatorAxis=new o(this))}),i(t,"zoom",function(t){var e,i=this,o=i.chart.options,r=o.navigator,n=i.navigatorAxis,a=o.chart.pinchType,s=o.rangeSelector,l=o.chart.zoomType;i.isXAxis&&(r&&r.enabled||s&&s.enabled)&&("y"===l?t.zoomed=!1:(!h&&"xy"===l||h&&"xy"===a)&&i.options.range&&(e=n.previousZoom,p(t.newMin)?n.previousZoom=[i.min,i.max]:e&&(t.newMin=e[0],t.newMax=e[1],n.previousZoom=void 0))),void 0!==t.zoomed&&t.preventDefault()})},n.AdditionsClass=o,n}),i(e,"Core/Navigator.js",[e["Core/Axis/Axis.js"],e["Core/Series/Series.js"],e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Series/LineSeries.js"],e["Core/Axis/NavigatorAxis.js"],e["Core/Options.js"],e["Core/Scrollbar.js"],e["Core/Utilities.js"]],function(u,t,e,i,h,o,f,r,g,n){function x(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=[].filter.call(e,P);if(o.length)return Math[t].apply(0,o)}var a=t.seriesTypes,s=i.parse,l=h.hasTouch,d=h.isTouchDevice,m=r.defaultOptions,v=n.addEvent,S=n.clamp,w=n.correctFloat,O=n.defined,c=n.destroyObjectProperties,p=n.erase,y=n.extend,b=n.find,M=n.isArray,P=n.isNumber,k=n.merge,E=n.pick,A=n.removeEvent,C=n.splat,T=void 0===a.areaspline?"line":"areaspline";y(m,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:s("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:T,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),h.Renderer.prototype.symbols["navigator-handle"]=function(t,e,i,o,r){var n=(r&&r.width||0)/2,a=Math.round(n/3)+.5,s=r&&r.height||0;return[["M",-n-1,.5],["L",n,.5],["L",n,s+.5],["L",-n-1,s+.5],["L",-n-1,.5],["M",-a,4],["L",-a,s-3],["M",a-1,4],["L",a-1,s-3]]};var B=(D.prototype.drawHandle=function(t,e,i,o){var r=this,n=r.navigatorOptions.handles.height;r.handles[e][o](i?{translateX:Math.round(r.left+r.height/2),translateY:Math.round(r.top+parseInt(t,10)+.5-n)}:{translateX:Math.round(r.left+parseInt(t,10)),translateY:Math.round(r.top+r.height/2-n/2-1)})},D.prototype.drawOutline=function(t,e,i,o){var r,n,a=this,s=a.navigatorOptions.maskInside,l=a.outline.strokeWidth(),h=l/2,d=l%2/2,c=a.outlineHeight,p=a.scrollbarHeight||0,u=a.size,f=a.left-p,g=a.top;i?(n=[["M",(f-=h)+c,g-p-d],["L",f+c,r=g+e+d],["L",f,r],["L",f,e=g+t+d],["L",f+c,e],["L",f+c,g+u+p]],s&&n.push(["M",f+c,r-h],["L",f+c,e+h])):(n=[["M",f,g+=h],["L",t+=f+p-d,g],["L",t,g+c],["L",e+=f+p-d,g+c],["L",e,g],["L",f+u+2*p,g]],s&&n.push(["M",t-h,g],["L",e+h,g])),a.outline[o]({d:n})},D.prototype.drawMasks=function(t,e,i,o){var r,n,a,s=this,l=s.left,h=s.top,d=s.height,c=i?(n=[l,l,l],a=[h,h+t,h+e],r=[d,d,d],[t,e-t,s.size-e]):(n=[l,l+t,l+e],a=[h,h,h],r=[t,e-t,s.size-e],[d,d,d]);s.shades.forEach(function(t,e){t[o]({x:n[e],y:a[e],width:r[e],height:c[e]})})},D.prototype.renderElements=function(){var i,o=this,r=o.navigatorOptions,t=r.maskInside,n=o.chart,e=n.inverted,a=n.renderer,s={cursor:e?"ns-resize":"ew-resize"};o.navigatorGroup=i=a.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!t,t,!t].forEach(function(t,e){o.shades[e]=a.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(i),n.styledMode||o.shades[e].attr({fill:t?r.maskFill:"rgba(0,0,0,0)"}).css(1===e&&s)}),o.outline=a.path().addClass("highcharts-navigator-outline").add(i),n.styledMode||o.outline.attr({"stroke-width":r.outlineWidth,stroke:r.outlineColor}),r.handles.enabled&&[0,1].forEach(function(t){var e;r.handles.inverted=n.inverted,o.handles[t]=a.symbol(r.handles.symbols[t],-r.handles.width/2-1,0,r.handles.width,r.handles.height,r.handles),o.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(i),n.styledMode||(e=r.handles,o.handles[t].attr({fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.lineWidth}).css(s))})},D.prototype.update=function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy();var e=this.chart.options;k(!0,e.navigator,this.options,t),this.init(this.chart)},D.prototype.render=function(t,e,i,o){var r,n,a,s,l,h,d,c,p,u,f=this,g=f.chart,x=f.scrollbarHeight,m=f.xAxis,v=m.pointRange||0,y=m.navigatorAxis.fake?g.xAxis[0]:m,b=f.navigatorEnabled,M=f.rendered,k=g.inverted,A=g.xAxis[0].minRange,C=g.xAxis[0].options.maxRange;if(!this.hasDragged||O(i)){if(t=w(t-v/2),e=w(e+v/2),!P(t)||!P(e)){if(!M)return;i=0,o=E(m.width,y.width)}f.left=E(m.left,g.plotLeft+x+(k?g.plotWidth:0)),f.size=h=s=E(m.len,(k?g.plotHeight:g.plotWidth)-2*x),r=k?x:s+2*x,i=E(i,m.toPixels(t,!0)),o=E(o,m.toPixels(e,!0)),P(i)&&Math.abs(i)!==1/0||(i=0,o=r),c=m.toValue(i,!0),p=m.toValue(o,!0),(u=Math.abs(w(p-c)))<A?this.grabbedLeft?i=m.toPixels(p-A-v,!0):this.grabbedRight&&(o=m.toPixels(c+A+v,!0)):O(C)&&w(u-v)>C&&(this.grabbedLeft?i=m.toPixels(p-C-v,!0):this.grabbedRight&&(o=m.toPixels(c+C+v,!0))),f.zoomedMax=S(Math.max(i,o),0,h),f.zoomedMin=S(f.fixedWidth?f.zoomedMax-f.fixedWidth:Math.min(i,o),0,h),f.range=f.zoomedMax-f.zoomedMin,h=Math.round(f.zoomedMax),l=Math.round(f.zoomedMin),b&&(f.navigatorGroup.attr({visibility:"visible"}),d=M&&!f.hasDragged?"animate":"attr",f.drawMasks(l,h,k,d),f.drawOutline(l,h,k,d),f.navigatorOptions.handles.enabled&&(f.drawHandle(l,0,k,d),f.drawHandle(h,1,k,d))),f.scrollbar&&(k?(a=f.top-x,n=f.left-x+(b||!y.opposite?0:(y.titleOffset||0)+y.axisTitleMargin),x=s+2*x):(a=f.top+(b?f.height:-x),n=f.left-x),f.scrollbar.position(n,a,r,x),f.scrollbar.setRange(f.zoomedMin/(s||1),f.zoomedMax/(s||1))),f.rendered=!0}},D.prototype.addMouseEvents=function(){var t,e,i=this,o=i.chart,r=o.container,n=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},(n=i.getPartsEvents("mousedown")).push(v(o.renderTo,"mousemove",t),v(r.ownerDocument,"mouseup",e)),l&&(n.push(v(o.renderTo,"touchmove",t),v(r.ownerDocument,"touchend",e)),n.concat(i.getPartsEvents("touchstart"))),i.eventsToUnbind=n,i.series&&i.series[0]&&n.push(v(i.series[0].xAxis,"foundExtremes",function(){o.navigator.modifyNavigatorAxisExtremes()}))},D.prototype.getPartsEvents=function(o){var r=this,n=[];return["shades","handles"].forEach(function(i){r[i].forEach(function(t,e){n.push(v(t.element,o,function(t){r[i+"Mousedown"](t,e)}))})}),n},D.prototype.shadesMousedown=function(t,e){t=this.chart.pointer.normalize(t);var i,o,r,n,a=this,s=a.chart,l=a.xAxis,h=a.zoomedMin,d=a.left,c=a.size,p=a.range,u=t.chartX;s.inverted&&(u=t.chartY,d=a.top),1===e?(a.grabbedCenter=u,a.fixedWidth=p,a.dragOffset=u-h):(n=u-d-p/2,0===e?n=Math.max(0,n):2===e&&c<=n+p&&(n=c-p,a.reversedExtremes?(n-=p,o=a.getUnionExtremes().dataMin):i=a.getUnionExtremes().dataMax),n!==h&&(a.fixedWidth=p,r=l.navigatorAxis.toFixedRange(n,n+p,o,i),O(r.min)&&s.xAxis[0].setExtremes(Math.min(r.min,r.max),Math.max(r.min,r.max),!0,null,{trigger:"navigator"})))},D.prototype.handlesMousedown=function(t,e){t=this.chart.pointer.normalize(t);var i=this,o=i.chart,r=o.xAxis[0],n=i.reversedExtremes;0===e?(i.grabbedLeft=!0,i.otherHandlePos=i.zoomedMax,i.fixedExtreme=n?r.min:r.max):(i.grabbedRight=!0,i.otherHandlePos=i.zoomedMin,i.fixedExtreme=n?r.max:r.min),o.fixedRange=null},D.prototype.onMouseMove=function(t){var e,i=this,o=i.chart,r=i.left,n=i.navigatorSize,a=i.range,s=i.dragOffset,l=o.inverted;t.touches&&0===t.touches[0].pageX||(e=(t=o.pointer.normalize(t)).chartX,l&&(r=i.top,e=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,e-r,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,e-r)):i.grabbedCenter&&(i.hasDragged=!0,e<s?e=s:n+s-a<e&&(e=n+s-a),i.render(0,0,e-s,e-s+a)),i.hasDragged&&i.scrollbar&&E(i.scrollbar.options.liveRedraw,h.svg&&!d&&!this.chart.isBoosting)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))},D.prototype.onMouseUp=function(t){var e,i,o,r,n,a,s=this,l=s.chart,h=s.xAxis,d=s.scrollbar,c=t.DOMEvent||t,p=l.inverted,u=s.rendered&&!s.hasDragged?"animate":"attr";(!s.hasDragged||d&&d.hasDragged)&&"scrollbar"!==t.trigger||(o=s.getUnionExtremes(),s.zoomedMin===s.otherHandlePos?r=s.fixedExtreme:s.zoomedMax===s.otherHandlePos&&(n=s.fixedExtreme),s.zoomedMax===s.size&&(n=s.reversedExtremes?o.dataMin:o.dataMax),0===s.zoomedMin&&(r=s.reversedExtremes?o.dataMax:o.dataMin),a=h.navigatorAxis.toFixedRange(s.zoomedMin,s.zoomedMax,r,n),O(a.min)&&l.xAxis[0].setExtremes(Math.min(a.min,a.max),Math.max(a.min,a.max),!0,!s.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:c})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(s.grabbedLeft=s.grabbedRight=s.grabbedCenter=s.fixedWidth=s.fixedExtreme=s.otherHandlePos=s.hasDragged=s.dragOffset=null),s.navigatorEnabled&&P(s.zoomedMin)&&P(s.zoomedMax)&&(i=Math.round(s.zoomedMin),e=Math.round(s.zoomedMax),s.shades&&s.drawMasks(i,e,p,u),s.outline&&s.drawOutline(i,e,p,u),s.navigatorOptions.handles.enabled&&Object.keys(s.handles).length===s.handles.length&&(s.drawHandle(i,0,p,u),s.drawHandle(e,1,p,u)))},D.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},D.prototype.removeBaseSeriesEvents=function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){A(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&A(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},D.prototype.init=function(s){var t=s.options,e=t.navigator,i=e.enabled,o=t.scrollbar,r=o.enabled,n=i?e.height:0,l=r?o.height:0;this.handles=[],this.shades=[],this.chart=s,this.setBaseSeries(),this.height=n,this.scrollbarHeight=l,this.scrollbarEnabled=r,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=o,this.outlineHeight=n+l,this.opposite=E(e.opposite,Boolean(!i&&s.inverted));var a=this,h=a.baseSeries,d=s.xAxis.length,c=s.yAxis.length,p=h&&h[0]&&h[0].xAxis||s.xAxis[0]||{options:{}};s.isDirtyBox=!0,a.navigatorEnabled?(a.xAxis=new u(s,k({breaks:p.options.breaks,ordinal:p.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:d,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},s.inverted?{offsets:[l,0,-l,0],width:n}:{offsets:[0,-l,0,l],height:n})),a.yAxis=new u(s,k(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:c,isInternal:!0,reversed:E(e.yAxis&&e.yAxis.reversed,s.yAxis[0]&&s.yAxis[0].reversed,!1),zoomEnabled:!1},s.inverted?{width:n}:{height:n})),h||e.series.data?a.updateNavigatorSeries(!1):0===s.series.length&&(a.unbindRedraw=v(s,"beforeRedraw",function(){0<s.series.length&&!a.series&&(a.setBaseSeries(),a.unbindRedraw())})),a.reversedExtremes=s.inverted&&!a.xAxis.reversed||!s.inverted&&a.xAxis.reversed,a.renderElements(),a.addMouseEvents()):(a.xAxis={chart:s,navigatorAxis:{fake:!0},translate:function(t,e){var i=s.xAxis[0],o=i.getExtremes(),r=i.len-2*l,n=x("min",i.options.min,o.dataMin),a=x("max",i.options.max,o.dataMax)-n;return e?t*a/r+n:r*(t-n)/a},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},a.xAxis.navigatorAxis.axis=a.xAxis,a.xAxis.navigatorAxis.toFixedRange=f.AdditionsClass.prototype.toFixedRange.bind(a.xAxis.navigatorAxis)),s.options.scrollbar.enabled&&(s.scrollbar=a.scrollbar=new g(s.renderer,k(s.options.scrollbar,{margin:a.navigatorEnabled?0:10,vertical:s.inverted}),s),v(a.scrollbar,"changed",function(t){var e=a.size,i=e*this.to,o=e*this.from;a.hasDragged=a.scrollbar.hasDragged,a.render(0,0,o,i),(s.options.scrollbar.liveRedraw||"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType)&&setTimeout(function(){a.onMouseUp(t)})})),a.addBaseSeriesEvents(),a.addChartEvents()},D.prototype.getUnionExtremes=function(t){var e,i=this.chart.xAxis[0],o=this.xAxis,r=o.options,n=i.options;return t&&null===i.dataMin||(e={dataMin:E(r&&r.min,x("min",n.min,i.dataMin,o.dataMin,o.min)),dataMax:E(r&&r.max,x("max",n.max,i.dataMax,o.dataMax,o.max))}),e},D.prototype.setBaseSeries=function(i,t){var e=this.chart,o=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?b(e.series,function(t){return!t.options.isInternal}).index:0),(e.series||[]).forEach(function(t,e){t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||o.push(t)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)},D.prototype.updateNavigatorSeries=function(t,r){var n,a,s,l=this,h=l.chart,d=l.baseSeries,c=l.navigatorOptions.series,p={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},u=l.series=(l.series||[]).filter(function(t){var e=t.baseSeries;return!(d.indexOf(e)<0&&(e&&(A(e,"updatedData",l.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))});d&&d.length&&d.forEach(function(t){var e,i=t.navigatorSeries,o=y({color:t.color,visible:t.visible},M(c)?m.navigator.series:c);i&&!1===l.navigatorOptions.adaptToUpdatedData||(p.name="Navigator "+d.length,n=t.options||{},s=n.navigatorOptions||{},(a=k(n,p,o,s)).pointRange=E(o.pointRange,s.pointRange,m.plotOptions[a.type||"line"].pointRange),e=s.data||o.data,l.hasNavigatorData=l.hasNavigatorData||!!e,a.data=e||n.data&&n.data.slice(0),i&&i.options?i.update(a,r):(t.navigatorSeries=h.initSeries(a),t.navigatorSeries.baseSeries=t,u.push(t.navigatorSeries)))}),(!c.data||d&&d.length)&&!M(c)||(l.hasNavigatorData=!1,(c=C(c)).forEach(function(t,e){p.name="Navigator "+(u.length+1),(a=k(m.navigator.series,{color:h.series[e]&&!h.series[e].options.isInternal&&h.series[e].color||h.options.colors[e]||h.options.colors[0]},p,t)).data=t.data,a.data&&(l.hasNavigatorData=!0,u.push(h.initSeries(a)))})),t&&this.addBaseSeriesEvents()},D.prototype.addBaseSeriesEvents=function(){var e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&v(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),t.forEach(function(t){v(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),v(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&v(t,"updatedData",this.updatedDataHandler),v(t,"remove",function(){this.navigatorSeries&&(p(e.series,this.navigatorSeries),O(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},D.prototype.getBaseSeriesMin=function(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData?e.xData[0]:t)},t)},D.prototype.modifyNavigatorAxisExtremes=function(){var t,e=this.xAxis;void 0!==e.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},D.prototype.modifyBaseAxisExtremes=function(){var t,e,i=this,o=i.chart.navigator,r=i.getExtremes(),n=r.min,a=r.max,s=r.dataMin,l=r.dataMax,h=a-n,d=o.stickToMin,c=o.stickToMax,p=E(i.options.overscroll,0),u=o.series&&o.series[0],f=!!i.setExtremes;i.eventArgs&&"rangeSelectorButton"===i.eventArgs.trigger||(d&&(t=(e=s)+h),c&&(t=l+p,d||(e=Math.max(s,t-h,o.getBaseSeriesMin(u&&u.xData?u.xData[0]:-Number.MAX_VALUE)))),f&&(d||c)&&P(e)&&(i.min=i.userMin=e,i.max=i.userMax=t)),o.stickToMin=o.stickToMax=null},D.prototype.updatedDataHandler=function(){var t=this.chart.navigator,e=this,i=this.navigatorSeries,o=t.getBaseSeriesMin(e.xData[0]);t.stickToMax=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=P(e.xAxis.min)&&e.xAxis.min<=o&&(!this.chart.fixedRange||!t.stickToMax),i&&!t.hasNavigatorData&&(i.options.pointStart=e.xData[0],i.setData(e.options.data,!1,null,!1))},D.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(v(this.chart,"redraw",function(){var t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),v(this.chart,"getMargins",function(){var t=this,e=t.navigator,i=e.opposite?"plotTop":"marginBottom";t.inverted&&(i=e.opposite?"marginRight":"plotLeft"),t[i]=(t[i]||0)+(e.navigatorEnabled||!t.inverted?e.outlineHeight:0)+e.navigatorOptions.margin}))},D.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(p(this.chart.xAxis,this.xAxis),p(this.chart.axes,this.xAxis)),this.yAxis&&(p(this.chart.yAxis,this.yAxis),p(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),[this.handles].forEach(function(t){c(t)},this)},D);function D(t){this.baseSeries=void 0,this.chart=void 0,this.handles=void 0,this.height=void 0,this.left=void 0,this.navigatorEnabled=void 0,this.navigatorGroup=void 0,this.navigatorOptions=void 0,this.navigatorSeries=void 0,this.navigatorSize=void 0,this.opposite=void 0,this.outline=void 0,this.outlineHeight=void 0,this.range=void 0,this.rendered=void 0,this.shades=void 0,this.size=void 0,this.top=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zoomedMax=void 0,this.zoomedMin=void 0,this.init(t)}return h.Navigator||(h.Navigator=B,f.compose(u),v(e,"beforeShowResetZoom",function(){var t=this.options,e=t.navigator,i=t.rangeSelector;if((e&&e.enabled||i&&i.enabled)&&(!d&&"x"===t.chart.zoomType||d&&"x"===t.chart.pinchType))return!1}),v(e,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new B(this))}),v(e,"afterSetChartSize",function(){var t,e,i,o,r=this.legend,n=this.navigator;n&&(e=r&&r.options,i=n.xAxis,o=n.yAxis,t=n.scrollbarHeight,this.inverted?(n.left=n.opposite?this.chartWidth-t-n.height:this.spacing[3]+t,n.top=this.plotTop+t):(n.left=this.plotLeft+t,n.top=n.navigatorOptions.top||this.chartHeight-n.height-t-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(e&&"bottom"===e.verticalAlign&&"proximate"!==e.layout&&e.enabled&&!e.floating?r.legendHeight+E(e.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),i&&o&&(this.inverted?i.options.left=o.options.left=n.left:i.options.top=o.options.top=n.top,i.setAxisSize(),o.setAxisSize()))}),v(e,"update",function(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(k(!0,this.options.navigator,e),k(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}),v(e,"afterUpdate",function(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new B(this),E(t.redraw,!0)&&this.redraw(t.animation))}),v(e,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),v(o,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),e.prototype.callbacks.push(function(t){var e,i=t.navigator;i&&t.xAxis[0]&&(e=t.xAxis[0].getExtremes(),i.render(e.min,e.max))})),h.Navigator=B,h.Navigator}),i(e,"masters/modules/gantt.src.js",[],function(){})});