"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/variable-pie",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function a(t,e,a,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,a))}a(e,"Series/VariablePieSeries.js",[e["Core/Series/Series.js"],e["Core/Utilities.js"]],function(t,e){var a=t.seriesTypes,p=e.arrayMax,u=e.arrayMin,f=e.clamp,D=e.fireEvent,I=e.pick,i=a.pie.prototype;t.seriesType("variablepie","pie",{minPointSize:"10%",maxPointSize:"110%",zMin:void 0,zMax:void 0,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],redraw:function(){this.center=null,i.redraw.call(this,arguments)},zValEval:function(t){return"number"==typeof t&&!isNaN(t)||null},calculateExtremes:function(){var t,e,a=this,i=a.chart,n=i.plotWidth,s=i.plotHeight,r=a.options,o=2*(r.slicedOffset||0),l=a.zData,h=Math.min(n,s)-o,c={},d=a.center||a.getCenter();["minPointSize","maxPointSize"].forEach(function(t){var e=r[t],a=/%$/.test(e),e=parseInt(e,10);c[t]=a?h*e/110:2*e}),a.minPxSize=d[3]+c.minPointSize,a.maxPxSize=f(d[2],d[3]+c.minPointSize,c.maxPointSize),l.length&&(t=I(r.zMin,u(l.filter(a.zValEval))),e=I(r.zMax,p(l.filter(a.zValEval))),this.getRadii(t,e,a.minPxSize,a.maxPxSize))},getRadii:function(t,e,a,i){for(var n,s,r,o=0,l=this.zData,h=l.length,c=[],d="radius"!==this.options.sizeBy,p=e-t;o<h;o++)r=(s=this.zValEval(l[o])?l[o]:t)<=t?a/2:e<=s?i/2:(n=0<p?(s-t)/p:.5,d&&(n=Math.sqrt(n)),Math.ceil(a+n*(i-a))/2),c.push(r);this.radii=c},translate:function(t){this.generatePoints();var e,a,i,n,s,r,o,l,h,c,d,p=this,u=0,f=1e3,M=p.options,m=M.slicedOffset,z=m+(M.borderWidth||0),P=M.startAngle||0,g=Math.PI/180*(P-90),x=Math.PI/180*(I(M.endAngle,P+360)-90),y=x-g,b=p.points,v=M.dataLabels.distance,S=M.ignoreHiddenPoint,A=b.length;for(p.startAngleRad=g,p.endAngleRad=x,p.calculateExtremes(),t||(p.center=t=p.getCenter()),o=0;o<A;o++)l=b[o],h=p.radii[o],l.labelDistance=I(l.options.dataLabels&&l.options.dataLabels.distance,v),p.maxLabelDistance=Math.max(p.maxLabelDistance||0,l.labelDistance),a=g+u*y,S&&!l.visible||(u+=l.percentage/110),i=g+u*y,l.shapeType="arc",l.shapeArgs={x:t[0],y:t[1],r:h,innerR:t[3]/2,start:Math.round(a*f)/f,end:Math.round(i*f)/f},(n=(i+a)/2)>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),l.slicedTranslation={translateX:Math.round(Math.cos(n)*m),translateY:Math.round(Math.sin(n)*m)},s=Math.cos(n)*t[2]/2,r=Math.sin(n)*t[2]/2,c=Math.cos(n)*h,d=Math.sin(n)*h,l.tooltipPos=[t[0]+.7*s,t[1]+.7*r],l.half=n<-Math.PI/2||n>Math.PI/2?1:0,l.angle=n,e=Math.min(z,l.labelDistance/5),l.labelPosition={natural:{x:t[0]+c+Math.cos(n)*l.labelDistance,y:t[1]+d+Math.sin(n)*l.labelDistance},final:{},alignment:l.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+c+Math.cos(n)*e,y:t[1]+d+Math.sin(n)*e},touchingSliceAt:{x:t[0]+c,y:t[1]+d}}};D(p,"afterTranslate")}})}),a(e,"masters/modules/variable-pie.src.js",[],function(){})});
