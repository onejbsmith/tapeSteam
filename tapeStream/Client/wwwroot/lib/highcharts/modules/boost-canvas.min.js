!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/boost-canvas",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o))}e(t=t?t._modules:{},"Extensions/BoostCanvas.js",[t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Series/LineSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,F,Q,e,o,Z){var $,tt=F.parse,a=Q.doc,et=Q.noop,ot=Z.addEvent,it=Z.extend,rt=Z.fireEvent,st=Z.isNumber,nt=Z.merge,at=Z.pick,c=Z.wrap,i=o.seriesTypes;return function(){Q.seriesTypes.heatmap&&c(Q.seriesTypes.heatmap.prototype,"drawPoints",function(){var o=this.chart,i=this.getContext(),r=this.chart.inverted,s=this.xAxis,n=this.yAxis;i?(this.points.forEach(function(t){var e=t.plotY;void 0===e||isNaN(e)||null===t.y||(e=t.shapeArgs,t=o.styledMode?t.series.colorAttribs(t):t.series.pointAttribs(t),i.fillStyle=t.fill,r?i.fillRect(n.len-e.y+s.left,s.len-e.x+n.top,-e.height,-e.width):i.fillRect(e.x+s.left,e.y+n.top,e.width,e.height))}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")}),it(e.prototype,{getContext:function(){function e(t,e,o,i,r,s,n){t.call(this,o,e,i,r,s,n)}var t=this.chart,o=t.chartWidth,i=t.chartHeight,r=t.seriesGroup||this.group,s=this;t.isChartSeriesBoosting()&&(r=(s=t).seriesGroup);var n=s.ctx;return s.canvas||(s.canvas=a.createElement("canvas"),s.renderTarget=t.renderer.image("",0,0,o,i).addClass("highcharts-boost-canvas").add(r),s.ctx=n=s.canvas.getContext("2d"),t.inverted&&["moveTo","lineTo","rect","arc"].forEach(function(t){c(n,t,e)}),s.boostCopy=function(){s.renderTarget.attr({href:s.canvas.toDataURL("image/png")})},s.boostClear=function(){n.clearRect(0,0,s.canvas.width,s.canvas.height),s===this&&s.renderTarget.attr({href:""})},s.boostClipRect=t.renderer.clipRect(),s.renderTarget.clip(s.boostClipRect)),s.canvas.width!==o&&(s.canvas.width=o),s.canvas.height!==i&&(s.canvas.height=i),s.renderTarget.attr({x:0,y:0,width:o,height:i,style:"pointer-events: none",href:""}),s.boostClipRect.attr(t.getBoostClipRect(s)),n},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear&&this.boostClear():(this.boostCopy||this.chart.boostCopy)&&(this.boostCopy||this.chart.boostCopy)()},cvsLineTo:function(t,e,o){t.lineTo(e,o)},renderCanvas:function(){var p,r,d=this,t=d.options,u=d.chart,v=this.xAxis,f=this.yAxis,o=(u.options.boost||{}).timeRendering||!1,s=0,e=d.processedXData,g=d.processedYData,i=t.data,n=v.getExtremes(),y=n.min,b=n.max,m=(n=f.getExtremes()).min,C=n.max,a={},x=!!d.sampling,c=t.marker&&t.marker.radius,l=this.cvsDrawPoint,h=t.lineWidth?this.cvsLineTo:void 0,T=c&&c<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,w=this.cvsStrokeBatch||1e3,S=!1!==t.enableMouseTracking;n=t.threshold;var k=f.getThreshold(n),M=st(n),D=k,P=this.fill,A=d.pointArrayMap&&"low,high"===d.pointArrayMap.join(","),R=!!t.stacking,E=d.cropStart||0;n=u.options.loading;function G(){P?(J.fillStyle=K,J.fill()):(J.strokeStyle=d.color,J.lineWidth=t.lineWidth,J.stroke())}function j(t,e,o,i){0===s&&(J.beginPath(),h&&(J.lineJoin="round")),u.scroller&&"highcharts-navigator-series"===d.options.className?(e+=u.scroller.top,o&&(o+=u.scroller.top)):e+=u.plotTop,t+=u.plotLeft,L?J.moveTo(t,e):l?l(J,t,e,o,r):h?h(J,t,e):T&&T.call(d,J,t,e,c,i),(s+=1)===w&&(G(),s=0),r={clientX:t,plotY:e,yBottom:o}}function B(t,e,o){H=U?t:t+","+e,S&&!a[H]&&(a[H]=!0,u.inverted&&(t=v.len-t,e=f.len-e),z.push({x:!!_&&_[E+o],clientX:t,plotX:t,plotY:e,i:E+o}))}var L,N,X,Y,O,H,V=d.requireSorting,W=t.connectNulls,q=!e,I=R?d.data:e||i,K=d.fillOpacity?new F(d.color).setOpacity(at(t.fillOpacity,.75)).get():d.color,U="x"===t.findNearestPointBy,_=this.xData||this.options.xData||this.processedXData||!1;this.renderTarget&&this.renderTarget.attr({href:""}),(this.points||this.graph)&&this.destroyGraphics(),d.plotGroup("group","series",d.visible?"visible":"hidden",t.zIndex,u.seriesGroup),d.markerGroup=d.group,ot(d,"destroy",function(){d.markerGroup=null});var z=this.points=[],J=this.getContext();d.buildKDTree=et,this.boostClear&&this.boostClear(),this.visible&&(99999<i.length&&(u.options.loading=nt(n,{labelStyle:{backgroundColor:tt("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),Z.clearTimeout($),u.showLoading("Drawing..."),u.options.loading=n),o&&console.time("canvas rendering"),Q.eachAsync(I,function(t,e){var o,i,r,s=!1,n=!1,a=!1,c=!1,l=void 0===u.index,h=!0;return l||(q?(o=t[0],r=t[1],I[e+1]&&(a=I[e+1][0]),I[e-1]&&(c=I[e-1][0])):(o=t,r=g[e],I[e+1]&&(a=I[e+1]),I[e-1]&&(c=I[e-1])),a&&y<=a&&a<=b&&(s=!0),c&&y<=c&&c<=b&&(n=!0),A?(q&&(r=t.slice(1,3)),i=r[0],r=r[1]):R&&(o=t.x,i=(r=t.stackY)-t.y),V||(h=m<=r&&r<=C),!(t=null===r)&&(y<=o&&o<=b&&h||s||n)&&(o=Math.round(v.toPixels(o,!0)),x?(void 0!==Y&&o!==p||(A||(i=r),(void 0===O||X<r)&&(X=r,O=e),(void 0===Y||i<N)&&(N=i,Y=e)),o!==p&&(void 0!==Y&&(r=f.toPixels(X,!0),k=f.toPixels(N,!0),j(o,M?Math.min(r,D):r,M?Math.max(k,D):k,e),B(o,r,O),k!==r&&B(o,k,Y)),Y=O=void 0,p=o)):(r=Math.round(f.toPixels(r,!0)),j(o,r,k,e),B(o,r,e))),L=t&&!W,0==e%5e4&&(d.boostCopy||d.chart.boostCopy)&&(d.boostCopy||d.chart.boostCopy)()),!l},function(){var t=u.loadingDiv,e=u.loadingShown;G(),d.canvasToSVG(),o&&console.timeEnd("canvas rendering"),rt(d,"renderedCanvas"),e&&(it(t.style,{transition:"opacity 250ms",opacity:0}),u.loadingShown=!1,$=setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),u.loadingDiv=u.loadingSpan=null},250)),delete d.buildKDTree,d.buildKDTree()},u.renderer.forExport?Number.MAX_VALUE:void 0))}}),i.scatter.prototype.cvsMarkerCircle=function(t,e,o,i){t.moveTo(e,o),t.arc(e,o,i,0,2*Math.PI,!1)},i.scatter.prototype.cvsMarkerSquare=function(t,e,o,i){t.rect(e-i,o-i,2*i,2*i)},i.scatter.prototype.fill=!0,i.bubble&&(i.bubble.prototype.cvsMarkerCircle=function(t,e,o,i,r){t.moveTo(e,o),t.arc(e,o,this.radii&&this.radii[r],0,2*Math.PI,!1)},i.bubble.prototype.cvsStrokeBatch=1),it(i.area.prototype,{cvsDrawPoint:function(t,e,o,i,r){r&&e!==r.clientX&&(t.moveTo(r.clientX,r.yBottom),t.lineTo(r.clientX,r.plotY),t.lineTo(e,o),t.lineTo(e,i))},fill:!0,fillOpacity:!0,sampling:!0}),it(i.column.prototype,{cvsDrawPoint:function(t,e,o,i){t.rect(e-1,o,1,i-o)},fill:!0,sampling:!0}),t.prototype.callbacks.push(function(t){ot(t,"predraw",function(){t.renderTarget&&t.renderTarget.attr({href:""}),t.canvas&&t.canvas.getContext("2d").clearRect(0,0,t.canvas.width,t.canvas.height)}),ot(t,"render",function(){t.boostCopy&&t.boostCopy()})})}}),e(t,"masters/modules/boost-canvas.src.js",[],function(){})});