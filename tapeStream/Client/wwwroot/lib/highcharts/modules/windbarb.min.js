!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/windbarb",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}e(t=t?t._modules:{},"Mixins/OnSeries.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var v=e.defined,m=e.stableSort,y=t.seriesTypes;return{getPlotBox:function(){return t.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){y.column.prototype.translate.apply(this);var o,t,r=this,e=r.options,i=r.chart,n=r.points,s=n.length-1,a=(a=e.onSeries)&&i.get(a),e=e.onKey||"y",l=a&&a.options.step,p=a&&a.points,h=p&&p.length,c=i.inverted,u=r.xAxis,f=r.yAxis,d=0;if(a&&a.visible&&h){d=(a.pointXOffset||0)+(a.barW||0)/2,i=a.currentDataGrouping;var b=p[h-1].x+(i?i.totalRange:0);for(m(n,function(t,e){return t.x-e.x}),e="plot"+e[0].toUpperCase()+e.substr(1);h--&&n[s];){var g,x=p[h];if((i=n[s]).y=x.y,x.x<=i.x&&void 0!==x[e])if(i.x<=b&&(i.plotY=x[e],x.x<i.x&&!l&&(t=p[h+1])&&void 0!==t[e])&&(g=(i.x-x.x)/(t.x-x.x),i.plotY+=g*(t[e]-x[e]),i.y+=g*(t.y-x.y)),h++,--s<0)break}}n.forEach(function(t,e){var i;t.plotX+=d,void 0!==t.plotY&&!c||(0<=t.plotX&&t.plotX<=u.len?c?(t.plotY=u.translate(t.x,0,1,0,1),t.plotX=v(t.y)?f.translate(t.y,0,0,0,1):0):t.plotY=(u.opposite?0:r.yAxis.len)+u.offset:t.shapeArgs={}),(o=n[e-1])&&o.plotX===t.plotX&&(void 0===o.stackIndex&&(o.stackIndex=0),i=o.stackIndex+1),t.stackIndex=i}),this.onSeries=a}}}),e(t,"Series/WindbarbSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Series/Series.js"],t["Core/Globals.js"],t["Mixins/OnSeries.js"],t["Core/Utilities.js"]],function(t,e,s,r,i){function o(){s.approximations&&!s.approximations.windbarb&&(s.approximations.windbarb=function(t,e){for(var i=0,o=0,r=t.length,n=0;n<r;n++)i+=t[n]*Math.cos(e[n]*s.deg2rad),o+=t[n]*Math.sin(e[n]*s.deg2rad);return[t.reduce(function(t,e){return t+e},0)/t.length,Math.atan2(o,i)/s.deg2rad]})}var n=t.animObject;t=s.noop;var a=i.isNumber,l=i.pick;o(),e.seriesType("windbarb","column",{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0},{pointArrayMap:["value","direction"],parallelArrays:["x","value","direction"],beaufortName:"Calm;Light air;Light breeze;Gentle breeze;Moderate breeze;Fresh breeze;Strong breeze;Near gale;Gale;Strong gale;Storm;Violent storm;Hurricane".split(";"),beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],trackerGroups:["markerGroup"],init:function(t,e){o(),s.Series.prototype.init.call(this,t,e)},pointAttribs:function(t,e){var i=this.options;t=t.color||this.color;var o=this.options.lineWidth;return e&&(t=i.states[e].color||t,o=(i.states[e].lineWidth||o)+(i.states[e].lineWidthPlus||0)),{stroke:t,"stroke-width":o}},markerAttribs:function(){},getPlotBox:r.getPlotBox,windArrow:function(t){var e=1.943844*t.value,i=this.options.vectorLength/20,o=-10;if(t.isNull)return[];if(0===t.beaufortLevel)return this.chart.renderer.symbols.circle(-10*i,-10*i,20*i,20*i);t=[["M",0,7*i],["L",-1.5*i,7*i],["L",0,10*i],["L",1.5*i,7*i],["L",0,7*i],["L",0,-10*i]];var r=(e-e%50)/50;if(0<r)for(;r--;)t.push(-10===o?["L",0,o*i]:["M",0,o*i],["L",5*i,o*i+2],["L",0,o*i+4]),e-=50,o+=7;if(0<(r=(e-e%10)/10))for(;r--;)t.push(-10===o?["L",0,o*i]:["M",0,o*i],["L",7*i,o*i]),e-=10,o+=3;if(0<(r=(e-e%5)/5))for(;r--;)t.push(-10===o?["L",0,o*i]:["M",0,o*i],["L",4*i,o*i]),e-=5,o+=3;return t},translate:function(){var i=this.beaufortFloor,o=this.beaufortName;r.translate.call(this),this.points.forEach(function(t){for(var e=0;e<i.length&&!(i[e]>t.value);e++);t.beaufortLevel=e-1,t.beaufort=o[e-1]})},drawPoints:function(){var o=this.chart,r=this.yAxis,n=o.inverted,s=this.options.vectorLength/2;this.points.forEach(function(t){var e=t.plotX,i=t.plotY;!1===this.options.clip||o.isInsidePlot(e,0,!1)?(t.graphic||(t.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+l(t.colorIndex,t.series.colorIndex))),t.graphic.attr({d:this.windArrow(t),translateX:e+this.options.xOffset,translateY:i+this.options.yOffset,rotation:t.direction}),this.chart.styledMode||t.graphic.attr(this.pointAttribs(t))):t.graphic&&(t.graphic=t.graphic.destroy()),t.tooltipPos=[e+this.options.xOffset+(n&&!this.onSeries?s:0),i+this.options.yOffset-(n?0:s+r.pos-o.plotTop)]},this)},animate:function(t){t?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},n(this.options.animation))},invertGroups:t,getExtremes:function(){return{}}},{isValid:function(){return a(this.value)&&0<=this.value}})}),e(t,"masters/modules/windbarb.src.js",[],function(){})});