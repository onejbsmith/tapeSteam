"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}i(e,"Core/Axis/MapAxis.js",[e["Core/Axis/Axis.js"],e["Core/Utilities.js"]],function(t,e){var i=e.addEvent,r=e.pick,o=function(t){this.axis=t},a=(s.compose=function(t){t.keepProps.push("mapAxis"),i(t,"init",function(){var t=this;t.mapAxis||(t.mapAxis=new o(t))}),i(t,"getSeriesExtremes",function(){var t,i;this.mapAxis&&(i=[],(t=this).isXAxis&&(t.series.forEach(function(t,e){t.useMapGeometry&&(i[e]=t.xData,t.xData=[])}),t.mapAxis.seriesXData=i))}),i(t,"afterGetSeriesExtremes",function(){var t,i,o,a,s;this.mapAxis&&(i=(t=this).mapAxis.seriesXData||[],t.isXAxis&&(o=r(t.dataMin,Number.MAX_VALUE),a=r(t.dataMax,-Number.MAX_VALUE),t.series.forEach(function(t,e){t.useMapGeometry&&(o=Math.min(o,r(t.minX,o)),a=Math.max(a,r(t.maxX,a)),t.xData=i[e],s=!0)}),s&&(t.dataMin=o,t.dataMax=a),t.mapAxis.seriesXData=void 0))}),i(t,"afterSetAxisTranslation",function(){var t,e,i,o,a,s,r,n,l;this.mapAxis&&(i=(e=(t=this).chart).plotWidth/e.plotHeight,o=e.xAxis[0],"yAxis"===t.coll&&void 0!==o.transA&&t.series.forEach(function(t){t.preserveAspectRatio&&(l=!0)}),l&&(t.transA=o.transA=Math.min(t.transA,o.transA),a=((s=i/((o.max-o.min)/(t.max-t.min))<1?t:o).max-s.min)*s.transA,s.mapAxis.pixelPadding=s.len-a,s.minPixelPadding=s.mapAxis.pixelPadding/2,(r=s.mapAxis.fixTo)&&(n=r[1]-s.toValue(r[0],!0),n*=s.transA,(Math.abs(n)>s.minPixelPadding||s.min===s.dataMin&&s.max===s.dataMax)&&(n=0),s.minPixelPadding-=n)))}),i(t,"render",function(){this.mapAxis&&(this.mapAxis.fixTo=void 0)})},s);function s(){}return a.compose(t),a}),i(e,"Mixins/ColorSeries.js",[],function(){return{colorPointMixin:{setVisible:function(t){var e=this,i=t?"show":"hide";e.visible=e.options.visible=Boolean(t),["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][i]()}),this.series.buildKDTree()}},colorSeriesMixin:{optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var o=this,t=this.data.length?this.data:this.points,a=this.options.nullColor,s=this.colorAxis,r=this.colorKey;t.forEach(function(t){var e=t.getNestedProperty(r),i=t.options.color||(t.isNull||null===t.value?a:s&&void 0!==e?s.toColor(e,t):t.color||o.color);i&&t.color!==i&&(t.color=i,"point"===o.options.legendType&&t.legendItem&&o.chart.legend.colorizeItem(t,t.visible))})}}}}),i(e,"Core/Axis/ColorAxis.js",[e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Mixins/ColorSeries.js"],e["Core/Animation/Fx.js"],e["Core/Globals.js"],e["Core/Legend.js"],e["Mixins/LegendSymbol.js"],e["Series/LineSeries.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,i,o,a,s,r,d,c,n,l){var h,p=this&&this.__extends||(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=i.parse,m=o.colorPointMixin,g=o.colorSeriesMixin,f=s.noop,b=l.addEvent,y=l.erase,x=l.extend,v=l.isNumber,M=l.merge,A=l.pick,C=l.splat;x(c.prototype,g),x(n.prototype,m),e.prototype.collectionsWithUpdate.push("colorAxis"),e.prototype.collectionsWithInit.colorAxis=[e.prototype.addColorAxis];var S,L=(p(P,S=t),P.buildOptions=function(t,e,i){var o=t.options.legend||{},a=i.layout?"vertical"!==i.layout:"vertical"!==o.layout;return M(e,{side:a?2:1,reversed:!a},i,{opposite:!a,showEmpty:!1,title:null,visible:o.enabled&&(!i||!1!==i.visible)})},P.prototype.init=function(t,e){var i=this,o=P.buildOptions(t,P.defaultOptions,e);i.coll="colorAxis",S.prototype.init.call(this,t,o),e.dataClasses&&i.initDataClasses(e),i.initStops(),i.horiz=!o.opposite,i.zoomEnabled=!1},P.prototype.initDataClasses=function(t){var o,a=this.chart,s=0,r=a.options.chart.colorCount,n=this.options,l=t.dataClasses.length;this.dataClasses=o=[],this.legendItems=[],t.dataClasses.forEach(function(t,e){var i;t=M(t),o.push(t),!a.styledMode&&t.color||("category"===n.dataClassColor?(a.styledMode||(i=a.options.colors,r=i.length,t.color=i[s]),t.colorIndex=s,++s===r&&(s=0)):t.color=u(n.minColor).tweenTo(u(n.maxColor),l<2?.5:e/(l-1)))})},P.prototype.hasData=function(){return!!(this.tickPositions||[]).length},P.prototype.setTickPositions=function(){if(!this.dataClasses)return S.prototype.setTickPositions.call(this)},P.prototype.initStops=function(){var t=this;t.stops=t.options.stops||[[0,t.options.minColor],[1,t.options.maxColor]],t.stops.forEach(function(t){t.color=u(t[1])})},P.prototype.setOptions=function(t){S.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},P.prototype.setAxisSize=function(){var t,e,i,o,a=this.legendSymbol,s=this.chart,r=s.options.legend||{};a?(this.left=t=a.attr("x"),this.top=e=a.attr("y"),this.width=i=a.attr("width"),this.height=o=a.attr("height"),this.right=s.chartWidth-t-i,this.bottom=s.chartHeight-e-o,this.len=this.horiz?i:o,this.pos=this.horiz?t:e):this.len=(this.horiz?r.symbolWidth:r.symbolHeight)||P.defaultLegendLength},P.prototype.normalizedValue=function(t){var e=this;return e.logarithmic&&(t=e.logarithmic.log2lin(t)),1-(e.max-t)/(e.max-e.min||1)},P.prototype.toColor=function(t,e){var i,o,a,s,r,n,l=this.dataClasses,h=this.stops;if(l){for(n=l.length;n--;)if(o=(r=l[n]).from,a=r.to,(void 0===o||o<=t)&&(void 0===a||t<=a)){s=r.color,e&&(e.dataClass=n,e.colorIndex=r.colorIndex);break}}else{for(i=this.normalizedValue(t),n=h.length;n--&&!(i>h[n][0]););o=h[n]||h[n+1],i=1-((a=h[n+1]||o)[0]-i)/(a[0]-o[0]||1),s=o.color.tweenTo(a.color,i)}return s},P.prototype.getOffset=function(){var t=this,e=t.legendGroup,i=t.chart.axisOffset[t.side];e&&(t.axisParent=e,S.prototype.getOffset.call(this),t.added||(t.added=!0,t.labelLeft=0,t.labelRight=t.width),t.chart.axisOffset[t.side]=i)},P.prototype.setLegendColor=function(){var t=this.horiz,e=this.reversed,i=e?1:0,o=e?0:1,a=t?[i,0,o,0]:[0,o,0,i];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:this.stops}},P.prototype.drawLegendSymbol=function(t,e){var i=t.padding,o=t.options,a=this.horiz,s=A(o.symbolWidth,a?P.defaultLegendLength:12),r=A(o.symbolHeight,a?12:P.defaultLegendLength),n=A(o.labelPadding,a?16:30),l=A(o.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,s,r).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=s+i+(a?l:n),this.legendItemHeight=r+i+(a?n:0)},P.prototype.setState=function(e){this.series.forEach(function(t){t.setState(e)})},P.prototype.setVisible=function(){},P.prototype.getSeriesExtremes=function(){var t,e,i,o,a,s,r,n,l,h=this.series,p=h.length;for(this.dataMin=1/0,this.dataMax=-1/0;p--;){if(e=(s=h[p]).colorKey=A(s.options.colorKey,s.colorKey,s.pointValKey,s.zoneAxis,"y"),o=s.pointArrayMap,a=s[e+"Min"]&&s[e+"Max"],s[e+"Data"])t=s[e+"Data"];else if(o){if(t=[],i=o.indexOf(e),r=s.yData,0<=i&&r)for(n=0;n<r.length;n++)t.push(A(r[n][i],r[n]))}else t=s.yData;a?(s.minColorValue=s[e+"Min"],s.maxColorValue=s[e+"Max"]):(l=c.prototype.getExtremes.call(s,t),s.minColorValue=l.dataMin,s.maxColorValue=l.dataMax),void 0!==s.minColorValue&&(this.dataMin=Math.min(this.dataMin,s.minColorValue),this.dataMax=Math.max(this.dataMax,s.maxColorValue)),a||c.prototype.applyExtremes.call(s)}},P.prototype.drawCrosshair=function(t,e){var i,o=this,a=e&&e.plotX,s=e&&e.plotY,r=o.pos,n=o.len;e&&((i=o.toPixels(e.getNestedProperty(e.series.colorKey)))<r?i=r-2:r+n<i&&(i=r+n+2),e.plotX=i,e.plotY=o.len-i,S.prototype.drawCrosshair.call(this,t,e),e.plotX=a,e.plotY=s,o.cross&&!o.cross.addedToColorAxis&&o.legendGroup&&(o.cross.addClass("highcharts-coloraxis-marker").add(o.legendGroup),o.cross.addedToColorAxis=!0,!o.chart.styledMode&&o.crosshair&&o.cross.attr({fill:o.crosshair.color})))},P.prototype.getPlotLinePath=function(t){var e=this.left,i=t.translatedValue,o=this.top;return v(i)?this.horiz?[["M",i-4,o-6],["L",i+4,o-6],["L",i,o],["Z"]]:[["M",e,i],["L",e-6,i+6],["L",e-6,i-6],["Z"]]:S.prototype.getPlotLinePath.call(this,t)},P.prototype.update=function(t,e){var i=this,o=i.chart,a=o.legend,s=P.buildOptions(o,{},t);this.series.forEach(function(t){t.isDirtyData=!0}),(t.dataClasses&&a.allItems||i.dataClasses)&&i.destroyItems(),o.options[i.coll]=M(i.userOptions,s),S.prototype.update.call(this,s,e),i.legendItem&&(i.setLegendColor(),a.colorizeItem(this,!0))},P.prototype.destroyItems=function(){var t=this,e=t.chart;t.legendItem?e.legend.destroyItem(t):t.legendItems&&t.legendItems.forEach(function(t){e.legend.destroyItem(t)}),e.isDirtyLegend=!0},P.prototype.remove=function(t){this.destroyItems(),S.prototype.remove.call(this,t)},P.prototype.getDataClassLegendSymbols=function(){var r,n=this,l=n.chart,h=n.legendItems,t=l.options.legend,p=t.valueDecimals,c=t.valueSuffix||"";return h.length||n.dataClasses.forEach(function(t,e){var i=!0,o=t.from,a=t.to,s=l.numberFormatter;r="",void 0===o?r="< ":void 0===a&&(r="> "),void 0!==o&&(r+=s(o,p)+c),void 0!==o&&void 0!==a&&(r+=" - "),void 0!==a&&(r+=s(a,p)+c),h.push(x({chart:l,name:r,options:{},drawLegendSymbol:d.drawRectangle,visible:!0,setState:f,isDataClass:!0,setVisible:function(){i=n.visible=!i,n.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===e&&t.setVisible(i)})}),l.legend.colorizeItem(this,i)}},t))}),h},P.defaultLegendLength=200,P.defaultOptions={lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},P.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],P);function P(t,e){var i=S.call(this,t,e)||this;return i.beforePadding=!1,i.chart=void 0,i.coll="colorAxis",i.dataClasses=void 0,i.legendItem=void 0,i.legendItems=void 0,i.name="",i.options=void 0,i.stops=void 0,i.visible=!0,i.init(t,e),i}return Array.prototype.push.apply(t.keepProps,L.keepProps),s.ColorAxis=L,["fill","stroke"].forEach(function(t){a.prototype[t+"Setter"]=function(){this.elem.attr(t,u(this.start).tweenTo(u(this.end),this.pos),null,!0)}}),b(e,"afterGetAxes",function(){var i=this,t=i.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=C(t.colorAxis),t.colorAxis.forEach(function(t,e){t.index=e,new L(i,t)}))}),b(c,"bindAxes",function(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}),b(r,"afterGetAllItems",function(e){var i,t,o=[];for((this.chart.colorAxis||[]).forEach(function(t){(i=t.options)&&i.showInLegend&&(i.dataClasses&&i.visible?o=o.concat(t.getDataClassLegendSymbols()):i.visible&&o.push(t),t.series.forEach(function(t){t.options.showInLegend&&!i.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){y(e.allItems,t)}):y(e.allItems,t))}))}),t=o.length;t--;)e.allItems.unshift(o[t])}),b(r,"afterColorizeItem",function(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}),b(r,"afterUpdate",function(){var t=this.chart.colorAxis;t&&t.forEach(function(t){t.update({},arguments[2])})}),b(c,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}),L}),i(e,"Mixins/ColorMapSeries.js",[e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,i){var o=i.defined;return{colorMapPointMixin:{dataLabelOnNull:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0},setState:function(t){e.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:t.noop,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:t.seriesTypes.column.prototype.pointAttribs,colorAttribs:function(t){var e={};return o(t.color)&&(e[this.colorProp||"fill"]=t.color),e}}}}),i(e,"Maps/MapNavigation.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i){var o=e.doc,u=i.addEvent,m=i.extend,g=i.merge,f=i.objectEach,b=i.pick;function y(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function a(t){this.init(t)}a.prototype.init=function(t){(this.chart=t).mapNavButtons=[]},a.prototype.update=function(t){function a(t){this.handler.call(p,t),y(t)}var s,r,n,l,h,p=this.chart,c=p.options.mapNavigation,d=p.mapNavButtons;for(t&&(c=p.options.mapNavigation=g(p.options.mapNavigation,t));d.length;)d.pop().destroy();b(c.enableButtons,c.enabled)&&!p.renderer.forExport&&f(c.buttons,function(t,e){s=g(c.buttonOptions,t),p.styledMode||((r=s.theme).style=g(s.theme.style,s.style),n=r.states,l=n&&n.hover,h=n&&n.select),(t=p.renderer.button(s.text,0,0,a,r,l,h,0,"zoomIn"===e?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[e]).attr({width:s.width,height:s.height,title:p.options.lang[e],padding:s.padding,zIndex:5}).add()).handler=s.onclick,u(t.element,"dblclick",y),d.push(t);var i=s,o=u(p,"load",function(){t.align(m(i,{width:t.width,height:2*t.height}),null,i.alignTo),o()})}),this.updateEvents(c)},a.prototype.updateEvents=function(t){var e=this.chart;b(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||u(e.container,"dblclick",function(t){e.pointer.onContainerDblClick(t)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),b(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||u(e.container,void 0===o.onmousewheel?"DOMMouseScroll":"mousewheel",function(t){return e.pointer.onContainerMouseWheel(t),y(t),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},m(t.prototype,{fitToBox:function(o,a){return[["x","width"],["y","height"]].forEach(function(t){var e=t[0],i=t[1];o[e]+o[i]>a[e]+a[i]&&(o[i]>a[i]?(o[i]=a[i],o[e]=a[e]):o[e]=a[e]+a[i]-o[i]),o[i]>a[i]&&(o[i]=a[i]),o[e]<a[e]&&(o[e]=a[e])}),o},mapZoom:function(t,e,i,o,a){var s=this.xAxis[0],r=s.max-s.min,n=b(e,s.min+r/2),l=r*t,h=this.yAxis[0],p=h.max-h.min,c=b(i,h.min+p/2),d=p*t,u=n-l*(o?(o-s.pos)/s.len:.5),m=c-d*(a?(a-h.pos)/h.len:.5),g=this.fitToBox({x:u,y:m,width:l,height:d},{x:s.dataMin,y:h.dataMin,width:s.dataMax-s.dataMin,height:h.dataMax-h.dataMin}),f=g.x<=s.dataMin&&g.width>=s.dataMax-s.dataMin&&g.y<=h.dataMin&&g.height>=h.dataMax-h.dataMin;o&&s.mapAxis&&(s.mapAxis.fixTo=[o-s.pos,e]),a&&h.mapAxis&&(h.mapAxis.fixTo=[a-h.pos,i]),void 0===t||f?(s.setExtremes(void 0,void 0,!1),h.setExtremes(void 0,void 0,!1)):(s.setExtremes(g.x,g.x+g.width,!1),h.setExtremes(g.y,g.y+g.height,!1)),this.redraw()}}),u(t,"beforeRender",function(){this.mapNavigation=new a(this),this.mapNavigation.update()}),e.MapNavigation=a}),i(e,"Maps/MapPointer.js",[e["Core/Pointer.js"],e["Core/Utilities.js"]],function(t,e){var i=e.extend,o=e.pick,a=e.wrap;i(t.prototype,{onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart,i=(t=this.normalize(t)).detail||-t.wheelDelta/120;e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(Math.pow(e.options.mapNavigation.mouseWheelSensitivity,i),e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)}}),a(t.prototype,"zoomOption",function(t){var e=this.chart.options.mapNavigation;o(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}),a(t.prototype,"pinchTranslate",function(t,e,i,o,a,s,r){var n;t.call(this,e,i,o,a,s,r),"map"===this.chart.options.chart.type&&this.hasZoom&&(n=o.scaleX>o.scaleY,this.pinchTranslateDirection(!n,e,i,o,a,s,r,n?o.scaleX:o.scaleY))})}),i(e,"Maps/Map.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(h,t,e,i,o){var a=e.defaultOptions,s=o.extend,p=o.getOptions,c=o.merge,d=o.pick,r=t.Renderer,n=t.VMLRenderer;s(a.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),a.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};var l=t.splitPath=function(t){var e;return e="string"==typeof t?(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)}):t,i.prototype.pathToSegments(e)};function u(t,e,i,o,a,s,r,n){return[["M",t+a,e],["L",t+i-s,e],["C",t+i-s/2,e,t+i,e+s/2,t+i,e+s],["L",t+i,e+o-r],["C",t+i,e+o-r/2,t+i-r/2,e+o,t+i-r,e+o],["L",t+n,e+o],["C",t+n/2,e+o,t,e+o-n/2,t,e+o-n],["L",t,e+a],["C",t,e+a/2,t+a/2,e,t+a,e],["Z"]]}return t.maps={},i.prototype.symbols.topbutton=function(t,e,i,o,a){var s=a&&a.r||0;return u(t-1,e-1,i,o,s,s,0,0)},i.prototype.symbols.bottombutton=function(t,e,i,o,a){var s=a&&a.r||0;return u(t-1,e-1,i,o,0,0,s,s)},r===n&&["topbutton","bottombutton"].forEach(function(t){n.prototype.symbols[t]=i.prototype.symbols[t]}),{mapChart:t.Map=t.mapChart=function(t,e,i){var o="string"==typeof t||t.nodeName,a=arguments[o?1:0],s=a,r={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},n=p().credits,l=a.series;return a.series=null,(a=c({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:d(n.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:d(n.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:r,yAxis:c(r,{reversed:!0})},a,{chart:{inverted:!1,alignTicks:!1}})).series=s.series=l,o?new h(t,a,i):new h(a,e)},maps:t.maps,splitPath:l}}),i(e,"Series/MapSeries.js",[e["Core/Series/Series.js"],e["Mixins/ColorMapSeries.js"],e["Core/Globals.js"],e["Mixins/LegendSymbol.js"],e["Maps/Map.js"],e["Core/Series/Point.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,e,y,i,o,x,m,a){var s=e.colorMapPointMixin,r=e.colorMapSeriesMixin,n=y.noop,v=o.maps,g=o.splitPath,l=a.extend,h=a.fireEvent,M=a.getNestedProperty,A=a.isArray,C=a.isNumber,S=a.merge,L=a.objectEach,f=a.pick,p=a.splat,P=y.Series,b=t.seriesTypes;t.seriesType("map","scatter",{animation:!1,dataLabels:{crop:!1,formatter:function(){return this.point.value},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}},S(r,{type:"map",getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:n,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],setOptions:function(t){var e=P.prototype.setOptions.call(this,t),i=e.joinBy;return null===i&&(i="_i"),(i=this.joinBy=p(i))[1]||(i[1]=i[0]),e},getBox:function(t){var n,l=Number.MAX_VALUE,h=-l,p=l,c=-l,d=l,u=l,e=this.xAxis,i=this.yAxis;(t||[]).forEach(function(t){var e,o,a,s,r,i;t.path&&("string"==typeof t.path?t.path=g(t.path):"M"===t.path[0]&&(t.path=m.prototype.pathToSegments(t.path)),e=t.path||[],o=-l,s=-(a=l),r=l,i=t.properties,t._foundBox||(e.forEach(function(t){var e=t[t.length-2],i=t[t.length-1];"number"==typeof e&&"number"==typeof i&&(a=Math.min(a,e),o=Math.max(o,e),r=Math.min(r,i),s=Math.max(s,i))}),t._midX=a+(o-a)*f(t.middleX,i&&i["hc-middle-x"],.5),t._midY=r+(s-r)*f(t.middleY,i&&i["hc-middle-y"],.5),t._maxX=o,t._minX=a,t._maxY=s,t._minY=r,t.labelrank=f(t.labelrank,(o-a)*(s-r)),t._foundBox=!0),h=Math.max(h,t._maxX),p=Math.min(p,t._minX),c=Math.max(c,t._maxY),d=Math.min(d,t._minY),u=Math.min(t._maxX-t._minX,t._maxY-t._minY,u),n=!0)}),n&&(this.minY=Math.min(d,f(this.minY,l)),this.maxY=Math.max(c,f(this.maxY,-l)),this.minX=Math.min(p,f(this.minX,l)),this.maxX=Math.max(h,f(this.maxX,-l)),e&&void 0===e.options.minRange&&(e.minRange=Math.min(5*u,(this.maxX-this.minX)/5,e.minRange||l)),i&&void 0===i.options.minRange&&(i.minRange=Math.min(5*u,(this.maxY-this.minY)/5,i.minRange||l)))},hasData:function(){return!!this.processedXData.length},getExtremes:function(){var t=P.prototype.getExtremes.call(this,this.valueData),e=t.dataMin,i=t.dataMax;return this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),C(e)&&(this.valueMin=e),C(i)&&(this.valueMax=i),{dataMin:this.minY,dataMax:this.maxY}},translatePath:function(t){var e=this.xAxis,i=this.yAxis,o=e.min,a=e.transA,s=e.minPixelPadding,r=i.min,n=i.transA,l=i.minPixelPadding,h=[];return t&&t.forEach(function(t){"M"===t[0]?h.push(["M",(t[1]-(o||0))*a+s,(t[2]-(r||0))*n+l]):"L"===t[0]?h.push(["L",(t[1]-(o||0))*a+s,(t[2]-(r||0))*n+l]):"C"===t[0]?h.push(["C",(t[1]-(o||0))*a+s,(t[2]-(r||0))*n+l,(t[3]-(o||0))*a+s,(t[4]-(r||0))*n+l,(t[5]-(o||0))*a+s,(t[6]-(r||0))*n+l]):"Q"===t[0]?h.push(["Q",(t[1]-(o||0))*a+s,(t[2]-(r||0))*n+l,(t[3]-(o||0))*a+s,(t[4]-(r||0))*n+l]):"Z"===t[0]&&h.push(["Z"])}),h},setData:function(a,t,e,i){var o,s,r,n,l,h=this.options,p=this.chart.options.chart,c=p&&p.map,d=h.mapData,u=this.joinBy,m=h.keys||this.pointArrayMap,g=[],f={},b=this.chart.mapTransforms;if(!d&&c&&(d="string"==typeof c?v[c]:c),a&&a.forEach(function(t,e){var i=0;if(C(t))a[e]={value:t};else if(A(t)){a[e]={},!h.keys&&t.length>m.length&&"string"==typeof t[0]&&(a[e]["hc-key"]=t[0],++i);for(var o=0;o<m.length;++o,++i)m[o]&&void 0!==t[i]&&(0<m[o].indexOf(".")?x.prototype.setNestedProperty(a[e],t[i],m[o]):a[e][m[o]]=t[i])}u&&"_i"===u[0]&&(a[e]._i=e)}),this.getBox(a),this.chart.mapTransforms=b=p&&p.mapTransforms||d&&d["hc-transform"]||b,b&&L(b,function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))}),d){for("FeatureCollection"===d.type&&(this.mapTitle=d.title,d=y.geojson(d,this.type,this)),this.mapData=d,this.mapMap={},r=0;r<d.length;r++)s=(o=d[r]).properties,o._i=r,u[0]&&s&&s[u[0]]&&(o[u[0]]=s[u[0]]),f[o[u[0]]]=o;this.mapMap=f,a&&u[1]&&(n=u[1],a.forEach(function(t){var e=M(n,t);f[e]&&g.push(f[e])})),h.allAreas?(this.getBox(d),a=a||[],u[1]&&(l=u[1],a.forEach(function(t){g.push(M(l,t))})),g="|"+g.map(function(t){return t&&t[u[0]]}).join("|")+"|",d.forEach(function(t){u[0]&&-1!==g.indexOf("|"+t[u[0]]+"|")||(a.push(S(t,{value:null})),i=!1)})):this.getBox(g)}P.prototype.setData.call(this,a,t,e,i)},drawGraph:n,drawDataLabels:n,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var e=this,i=e.xAxis,o=e.yAxis,a=e.doFullTranslate();e.generatePoints(),e.data.forEach(function(t){C(t._midX)&&C(t._midY)&&(t.plotX=i.toPixels(t._midX,!0),t.plotY=o.toPixels(t._midY,!0)),a&&(t.shapeType="path",t.shapeArgs={d:e.translatePath(t.path)})}),h(e,"afterTranslate")},pointAttribs:function(t,e){var i=t.series.chart.styledMode?this.colorAttribs(t):b.column.prototype.pointAttribs.call(this,t,e);return i["stroke-width"]=f(t.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"],"inherit"),i},drawPoints:function(){var i,o,a,s,r,n,l,h,p,c=this,t=c.xAxis,e=c.yAxis,d=c.group,u=c.chart,m=u.renderer,g=this.baseTrans;c.transformGroup||(c.transformGroup=m.g().attr({scaleX:1,scaleY:1}).add(d),c.transformGroup.survive=!0),c.doFullTranslate()?(u.hasRendered&&!u.styledMode&&c.points.forEach(function(t){t.shapeArgs&&(t.shapeArgs.fill=c.pointAttribs(t,t.state).fill)}),c.group=c.transformGroup,b.column.prototype.drawPoints.apply(c),c.group=d,c.points.forEach(function(t){var e;t.graphic&&(e="",t.name&&(e+="highcharts-name-"+t.name.replace(/ /g,"-").toLowerCase()),t.properties&&t.properties["hc-key"]&&(e+=" highcharts-key-"+t.properties["hc-key"].toLowerCase()),e&&t.graphic.addClass(e),u.styledMode&&t.graphic.css(c.pointAttribs(t,t.selected?"select":void 0)))}),this.baseTrans={originX:t.min-t.minPixelPadding/t.transA,originY:e.min-e.minPixelPadding/e.transA+(e.reversed?0:e.len/e.transA),transAX:t.transA,transAY:e.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(i=t.transA/g.transAX,o=e.transA/g.transAY,a=t.toPixels(g.originX,!0),s=e.toPixels(g.originY,!0),.99<i&&i<1.01&&.99<o&&o<1.01&&(o=i=1,a=Math.round(a),s=Math.round(s)),r=this.transformGroup,u.renderer.globalAnimation?(n=r.attr("translateX"),l=r.attr("translateY"),h=r.attr("scaleX"),p=r.attr("scaleY"),r.attr({animator:0}).animate({animator:1},{step:function(t,e){r.attr({translateX:n+(a-n)*e.pos,translateY:l+(s-l)*e.pos,scaleX:h+(i-h)*e.pos,scaleY:p+(o-p)*e.pos})}})):r.attr({translateX:a,translateY:s,scaleX:i,scaleY:o})),u.styledMode||d.element.setAttribute("stroke-width",f(c.options[c.pointAttrToOptions&&c.pointAttrToOptions["stroke-width"]||"borderWidth"],1)/(i||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){P.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var t=this,e=P.prototype.render;t.chart.renderer.isVML&&3e3<t.data.length?setTimeout(function(){e.call(t)}):e.call(t)},animate:function(t){var e=this.chart,i=this.options.animation,o=this.group,a=this.xAxis,s=this.yAxis,r=a.pos,n=s.pos;e.renderer.isSVG&&(!0===i&&(i={duration:1e3}),t?o.attr({translateX:r+a.len/2,translateY:n+s.len/2,scaleX:.001,scaleY:.001}):o.animate({translateX:r,translateY:n,scaleX:1,scaleY:1},i))},animateDrilldown:function(t){var e,i=this.chart.plotBox,o=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],a=o.bBox,s=this.chart.options.drilldown.animation;t||(e=Math.min(a.width/i.width,a.height/i.height),o.shapeArgs={scaleX:e,scaleY:e,translateX:a.x,translateY:a.y},this.points.forEach(function(t){t.graphic&&t.graphic.attr(o.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},s)}))},drawLegendSymbol:i.drawRectangle,animateDrillupFrom:function(t){b.column.prototype.animateDrillupFrom.call(this,t)},animateDrillupTo:function(t){b.column.prototype.animateDrillupTo.call(this,t)}}),l({applyOptions:function(t,e){var i,o,a,s=this.series,r=x.prototype.applyOptions.call(this,t,e),n=s.joinBy;return s.mapData&&s.mapMap&&(i=n[1],(a=void 0!==(o=x.prototype.getNestedProperty.call(r,i))&&s.mapMap[o])?(s.xyFromShape&&(r.x=a._midX,r.y=a._midY),l(r,a)):r.value=r.value||null),r},onMouseOver:function(t){a.clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?x.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},zoomTo:function(){var t=this,e=t.series;e.xAxis.setExtremes(t._minX,t._maxX,!1),e.yAxis.setExtremes(t._minY,t._maxY,!1),e.chart.redraw()}},s))}),i(e,"Series/MapLineSeries.js",[e["Core/Series/Series.js"]],function(t){var o=t.seriesTypes;t.seriesType("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(t,e){var i=o.map.prototype.pointAttribs.call(this,t,e);return i.fill=this.options.fillColor,i},drawLegendSymbol:o.line.prototype.drawLegendSymbol})}),i(e,"Series/MapPointSeries.js",[e["Core/Series/Series.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,o,i){var a=i.merge,s=e.Series;t.seriesType("mappoint","scatter",{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0,drawDataLabels:function(){s.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}},{applyOptions:function(t,e){var i=void 0!==t.lat&&void 0!==t.lon?a(t,this.series.chart.fromLatLonToPoint(t)):t;return o.prototype.applyOptions.call(this,i,e)}})}),i(e,"Series/Bubble/BubbleLegend.js",[e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Legend.js"],e["Core/Utilities.js"]],function(t,e,r,i,s){var c=e.parse,o=s.addEvent,n=s.arrayMax,l=s.arrayMin,p=s.isNumber,d=s.merge,h=s.objectEach,u=s.pick,a=s.setOptions,m=s.stableSort,g=s.wrap,f=r.Series,b=r.noop;a({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:10,color:void 0},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}});var y=(x.prototype.init=function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},x.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},x.prototype.drawLegendSymbol=function(t){var e,i,o,a,s=this.chart,r=this.options,n=u(t.options.itemDistance,20),l=r.ranges,h=r.connectorDistance;this.fontMetrics=s.renderer.fontMetrics(r.labels.style.fontSize.toString()+"px"),l&&l.length&&p(l[0].value)?(m(l,function(t,e){return e.value-t.value}),this.ranges=l,this.setOptions(),this.render(),a=this.getMaxLabelSize(),e=2*(o=this.ranges[0].radius),i=0<(i=h-o+a.width)?i:0,this.maxLabel=a,this.movementX="left"===r.labels.align?i:0,this.legendItemWidth=e+i+n,this.legendItemHeight=e+this.fontMetrics.h/2):t.options.bubbleLegend.autoRanges=!0},x.prototype.setOptions=function(){var i=this.ranges,o=this.options,a=this.chart.series[o.seriesIndex],s=this.legend.baseline,r={"z-index":o.zIndex,"stroke-width":o.borderWidth},n={"z-index":o.zIndex,"stroke-width":o.connectorWidth},l=this.getLabelStyles(),h=a.options.marker.fillOpacity,p=this.chart.styledMode;i.forEach(function(t,e){p||(r.stroke=u(t.borderColor,o.borderColor,a.color),r.fill=u(t.color,o.color,1!==h?c(a.color).setOpacity(h).get("rgba"):a.color),n.stroke=u(t.connectorColor,o.connectorColor,a.color)),i[e].radius=this.getRangeRadius(t.value),i[e]=d(i[e],{center:i[0].radius-i[e].radius+s}),p||d(!0,i[e],{bubbleStyle:d(!1,r),connectorStyle:d(!1,n),labelStyle:l})},this)},x.prototype.getLabelStyles=function(){var t=this.options,i={},e="left"===t.labels.align,o=this.legend.options.rtl;return h(t.labels.style,function(t,e){"color"!==e&&"fontSize"!==e&&"z-index"!==e&&(i[e]=t)}),d(!1,i,{"font-size":t.labels.style.fontSize,fill:u(t.labels.style.color,"#000000"),"z-index":t.zIndex,align:o||e?"right":"left"})},x.prototype.getRangeRadius=function(t){var e=this.options,i=this.options.seriesIndex,o=this.chart.series[i],a=e.ranges[0].value,s=e.ranges[e.ranges.length-1].value,r=e.minSize,n=e.maxSize;return o.getRadius.call(this,s,a,r,n,t)},x.prototype.render=function(){var t=this.chart.renderer,e=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=t.g("bubble-legend"),this.legendItem=t.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(t){t.value>=e&&this.renderRange(t)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},x.prototype.renderRange=function(t){var e,i,o,a=this.ranges[0],s=this.legend,r=this.options,n=r.labels,l=this.chart.renderer,h=this.symbols,p=h.labels,c=t.center,d=Math.abs(t.radius),u=r.connectorDistance||0,m=n.align,g=s.options.rtl,f=n.style.fontSize,b=g||"left"===m?-u:u,y=r.borderWidth,x=r.connectorWidth,v=a.radius||0,M=c-d-y/2+x/2,A=f/2-(this.fontMetrics.h-f)/2,C=(M%1?1:.5)-(x%2?0:.5),S=l.styledMode;"center"===m&&(b=0,r.connectorDistance=0,t.labelStyle.align="center"),i=M+r.labels.y,o=v+b+r.labels.x,h.bubbleItems.push(l.circle(v,c+C,d).attr(S?{}:t.bubbleStyle).addClass((S?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-symbol "+(r.className||"")).add(this.legendSymbol)),h.connectors.push(l.path(l.crispLine([["M",v,M],["L",v+b,M]],r.connectorWidth)).attr(S?{}:t.connectorStyle).addClass((S?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(r.connectorClassName||"")).add(this.legendSymbol)),e=l.text(this.formatLabel(t),o,i+A).attr(S?{}:t.labelStyle).addClass("highcharts-bubble-legend-labels "+(r.labels.className||"")).add(this.legendSymbol),p.push(e),e.placed=!0,e.alignAttr={x:o,y:i+A}},x.prototype.getMaxLabelSize=function(){var e,i;return this.symbols.labels.forEach(function(t){i=t.getBBox(!0),e=!e||i.width>e.width?i:e}),e||{}},x.prototype.formatLabel=function(t){var e=this.options,i=e.labels.formatter,o=e.labels.format,a=this.chart.numberFormatter;return o?s.format(o,t):i?i.call(t):a(t.value,1)},x.prototype.hideOverlappingLabels=function(){var t=this.chart,e=this.options.labels.allowOverlap,i=this.symbols;!e&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()}))},x.prototype.getRanges=function(){var i,e,t=this.legend.bubbleLegend,o=t.chart.series,a=t.options.ranges,s=Number.MAX_VALUE,r=-Number.MAX_VALUE;return o.forEach(function(t){t.isBubble&&!t.ignoreSeries&&(e=t.zData.filter(p)).length&&(s=u(t.options.zMin,Math.min(s,Math.max(l(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),r=u(t.options.zMax,Math.max(r,n(e))))}),i=s===r?[{value:r}]:[{value:s},{value:(s+r)/2},{value:r,autoRanges:!0}],a.length&&a[0].radius&&i.reverse(),i.forEach(function(t,e){a&&a[e]&&(i[e]=d(!1,a[e],t))}),i},x.prototype.predictBubbleSizes=function(){var t,e=this.chart,i=this.fontMetrics,o=e.legend.options,a=o.floating,s="horizontal"===o.layout,r=s?e.legend.lastLineHeight:0,n=e.plotSizeX,l=e.plotSizeY,h=e.series[this.options.seriesIndex],p=Math.ceil(h.minPxSize),c=Math.ceil(h.maxPxSize),d=h.options.maxSize,u=Math.min(l,n);return a||!/%$/.test(d)?t=c:(d=parseFloat(d),t=(u+r-i.h/2)*d/100/(d/100+1),(s&&n<=l-t||!s&&l<=n-t)&&(t=c)),[p,Math.ceil(t)]},x.prototype.updateRanges=function(t,e){var i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()},x.prototype.correctSizes=function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex],i=e.maxPxSize,o=this.options.maxSize;1<Math.abs(Math.ceil(i)-o)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())},x);function x(t,e){this.chart=void 0,this.fontMetrics=void 0,this.legend=void 0,this.legendGroup=void 0,this.legendItem=void 0,this.legendItemHeight=void 0,this.legendItemWidth=void 0,this.legendSymbol=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=b,this.init(t,e)}return o(i,"afterGetAllItems",function(t){var e=this,i=e.bubbleLegend,o=e.options,a=o.bubbleLegend,s=e.chart.getVisibleBubbleSeriesIndex();i&&i.ranges&&i.ranges.length&&(a.ranges.length&&(a.autoRanges=!!a.ranges[0].autoRanges),e.destroyItem(i)),0<=s&&o.enabled&&a.enabled&&(a.seriesIndex=s,e.bubbleLegend=new r.BubbleLegend(a,e),e.bubbleLegend.addToLegend(t.allItems))}),t.prototype.getVisibleBubbleSeriesIndex=function(){for(var t=this.series,e=0;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1},i.prototype.getLinesHeights=function(){for(var t,e=this.allItems,i=[],o=e.length,a=0,s=0,a=0;a<o;a++)if(e[a].legendItemHeight&&(e[a].itemHeight=e[a].legendItemHeight),e[a]===e[o-1]||e[a+1]&&e[a]._legendItemPos[1]!==e[a+1]._legendItemPos[1]){for(i.push({height:0}),t=i[i.length-1];s<=a;s++)e[s].itemHeight>t.height&&(t.height=e[s].itemHeight);t.step=a}return i},i.prototype.retranslateItems=function(i){var o,a,s,t=this.allItems,r=this.options.rtl,n=0;t.forEach(function(t,e){o=t.legendGroup.translateX,a=t._legendItemPos[1],((s=t.movementX)||r&&t.ranges)&&(s=r?o-t.options.maxSize/2:o+s,t.legendGroup.attr({translateX:s})),e>i[n].step&&n++,t.legendGroup.attr({translateY:Math.round(a+i[n].height/2)}),t._legendItemPos[1]=a+i[n].height/2})},o(f,"legendItemClick",function(){var t,e=this,i=e.chart,o=e.visible,a=e.chart.legend;a&&a.bubbleLegend&&(e.visible=!o,e.ignoreSeries=o,t=0<=i.getVisibleBubbleSeriesIndex(),a.bubbleLegend.visible!==t&&(a.update({bubbleLegend:{enabled:t}}),a.bubbleLegend.visible=t),e.visible=o)}),g(t.prototype,"drawChartBox",function(t,e,i){var o,a,s=this,r=s.legend,n=0<=s.getVisibleBubbleSeriesIndex();r&&r.options.enabled&&r.bubbleLegend&&r.options.bubbleLegend.autoRanges&&n?(o=r.bubbleLegend.options,a=r.bubbleLegend.predictBubbleSizes(),r.bubbleLegend.updateRanges(a[0],a[1]),o.placed||(r.group.placed=!1,r.allItems.forEach(function(t){t.legendGroup.translateY=null})),r.render(),s.getMargins(),s.axes.forEach(function(t){t.visible&&t.render(),o.placed||(t.setScale(),t.updateNames(),h(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),o.placed=!0,s.getMargins(),t.call(s,e,i),r.bubbleLegend.correctSizes(),r.retranslateItems(r.getLinesHeights())):(t.call(s,e,i),r&&r.options.enabled&&r.bubbleLegend&&(r.render(),r.retranslateItems(r.getLinesHeights())))}),r.BubbleLegend=y,r.BubbleLegend}),i(e,"Series/Bubble/BubbleSeries.js",[e["Core/Axis/Axis.js"],e["Core/Series/Series.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,i,o,a,s){var r=i.parse,n=o.noop,b=s.arrayMax,y=s.arrayMin,x=s.clamp,l=s.extend,v=s.isNumber,M=s.pick,A=s.pInt,h=o.Series,p=e.seriesTypes;e.seriesType("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,isBubble:!0,pointAttribs:function(t,e){var i=this.options.marker.fillOpacity,o=h.prototype.pointAttribs.call(this,t,e);return 1!==i&&(o.fill=r(o.fill).setOpacity(i).get("rgba")),o},getRadii:function(t,e,i){for(var o,a=this.zData,s=this.yData,r=i.minPxSize,n=i.maxPxSize,l=[],h=0,p=a.length;h<p;h++)o=a[h],l.push(this.getRadius(t,e,r,n,o,s[h]));this.radii=l},getRadius:function(t,e,i,o,a,s){var r=this.options,n="width"!==r.sizeBy,l=r.zThreshold,h=e-t,p=.5;if(null===s||null===a)return null;if(v(a)){if(r.sizeByAbsoluteValue&&(a=Math.abs(a-l),e=h=Math.max(e-l,Math.abs(t-l)),t=0),a<t)return i/2-1;0<h&&(p=(a-t)/h)}return n&&0<=p&&(p=Math.sqrt(p)),Math.ceil(i+p*(o-i))/2},animate:function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){var e=t.graphic;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)},hasData:function(){return!!this.processedXData.length},translate:function(){var t,e,i,o=this.data,a=this.radii;for(p.scatter.prototype.translate.call(this),t=o.length;t--;)e=o[t],i=a?a[t]:0,v(i)&&i>=this.minPxSize/2?(e.marker=l(e.marker,{radius:i,width:2*i,height:2*i}),e.dlBox={x:e.plotX-i,y:e.plotY-i,width:2*i,height:2*i}):e.shapeArgs=e.plotY=e.dlBox=void 0},alignDataLabel:p.column.prototype.alignDataLabel,buildKDTree:n,applyZones:n},{haloPath:function(t){return a.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),t.prototype.beforePadding=function(){var a=this,t=this.len,i=this.chart,s=0,r=t,n=this.isXAxis,l=n?"xData":"yData",h=this.min,p={},c=Math.min(i.plotWidth,i.plotHeight),d=Number.MAX_VALUE,u=-Number.MAX_VALUE,m=this.max-h,g=t/m,f=[];this.series.forEach(function(t){var e,o=t.options;!t.bubblePadding||!t.visible&&i.options.chart.ignoreHiddenSeries||(a.allowZoomOutside=!0,f.push(t),n&&(["minSize","maxSize"].forEach(function(t){var e=o[t],i=/%$/.test(e),e=A(e);p[t]=i?c*e/100:e}),t.minPxSize=p.minSize,t.maxPxSize=Math.max(p.maxSize,p.minSize),(e=t.zData.filter(v)).length&&(d=M(o.zMin,x(y(e),!1===o.displayNegative?o.zThreshold:-Number.MAX_VALUE,d)),u=M(o.zMax,Math.max(u,b(e))))))}),f.forEach(function(t){var e,i=t[l],o=i.length;if(n&&t.getRadii(d,u,t),0<m)for(;o--;)v(i[o])&&a.dataMin<=i[o]&&i[o]<=a.max&&(e=t.radii?t.radii[o]:0,s=Math.min((i[o]-h)*g-e,s),r=Math.max((i[o]-h)*g+e,r))}),f.length&&0<m&&!this.logarithmic&&(r-=t,g*=(t+Math.max(0,s)-Math.min(r,t))/t,[["min","userMin",s],["max","userMax",r]].forEach(function(t){void 0===M(a.options[t[0]],a[t[1]])&&(a[t[0]]+=t[2]/g)}))}}),i(e,"Series/MapBubbleSeries.js",[e["Core/Series/Series.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,o,e){var a=e.merge,s=t.seriesTypes;s.bubble&&t.seriesType("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:s.map.prototype.getMapData,getBox:s.map.prototype.getBox,setData:s.map.prototype.setData,setOptions:s.map.prototype.setOptions},{applyOptions:function(t,e){var i=t&&void 0!==t.lat&&void 0!==t.lon?o.prototype.applyOptions.call(this,a(t,this.series.chart.fromLatLonToPoint(t)),e):s.map.prototype.pointClass.prototype.applyOptions.call(this,t,e);return i},isValid:function(){return"number"==typeof this.z},ttBelow:!1})}),i(e,"Series/HeatmapSeries.js",[e["Core/Series/Series.js"],e["Mixins/ColorMapSeries.js"],e["Core/Globals.js"],e["Mixins/LegendSymbol.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,e,c,i,o,a){var s=e.colorMapPointMixin,r=e.colorMapSeriesMixin,n=c.noop,d=a.clamp,h=a.extend,p=a.fireEvent,l=a.isNumber,u=a.merge,m=a.pick,g=c.Series,f=t.seriesTypes,b=o.prototype.symbols;t.seriesType("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}},u(r,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;g.prototype.init.apply(this,arguments),(t=this.options).pointRange=m(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,h(b,{ellipse:b.circle,rect:b.square})},getSymbol:g.prototype.getSymbol,setClip:function(t){var e=this,i=e.chart;g.prototype.setClip.apply(e,arguments),!1===e.options.clip&&!t||e.markerGroup.clip((t||e.clipBox)&&e.sharedClipKey?i[e.sharedClipKey]:i.clipRect)},translate:function(){var t=this,r=(e=t.options).marker&&e.marker.symbol||"",n=b[r]?r:"rect",e=t.options,l=-1!==["circle","square"].indexOf(n);t.generatePoints(),t.points.forEach(function(t){var e,i,o=t.getCellAttributes(),a={x:Math.min(o.x1,o.x2),y:Math.min(o.y1,o.y2),width:Math.max(Math.abs(o.x2-o.x1),0),height:Math.max(Math.abs(o.y2-o.y1),0)},s=t.hasImage=0===(t.marker&&t.marker.symbol||r||"").indexOf("url");l&&(i=Math.abs(a.width-a.height),a.x=Math.min(o.x1,o.x2)+(a.width<a.height?0:i/2),a.y=Math.min(o.y1,o.y2)+(a.width<a.height?i/2:0),a.width=a.height=Math.min(a.width,a.height)),e={plotX:(o.x1+o.x2)/2,plotY:(o.y1+o.y2)/2,clientX:(o.x1+o.x2)/2,shapeType:"path",shapeArgs:u(!0,a,{d:b[n](a.x,a.y,a.width,a.height)})},s&&(t.marker={width:a.width,height:a.height}),h(t,e)}),p(t,"afterTranslate")},pointAttribs:function(t,e){var i,o,a=g.prototype.pointAttribs.call(this,t,e),s=this.options||{},r=this.chart.options.plotOptions||{},n=r.series||{},l=r.heatmap||{},h=s.borderColor||l.borderColor||n.borderColor,p=s.borderWidth||l.borderWidth||n.borderWidth||a["stroke-width"];return a.stroke=t&&t.marker&&t.marker.lineColor||s.marker&&s.marker.lineColor||h||this.color,a["stroke-width"]=p,e&&(o=(i=u(s.states[e],s.marker&&s.marker.states[e],t.options.states&&t.options.states[e]||{})).brightness,a.fill=i.color||c.color(a.fill).brighten(o||0).get(),a.stroke=i.lineColor),a},markerAttribs:function(t,e){var i,o,a=t.marker||{},s=this.options.marker||{},r=t.shapeArgs||{},n=t.hasImage,l={};return n?{x:t.plotX,y:t.plotY}:(e&&(i=s.states[e]||{},o=a.states&&a.states[e]||{},[["width","x"],["height","y"]].forEach(function(t){l[t[0]]=(o[t[0]]||i[t[0]]||r[t[0]])+(o[t[0]+"Plus"]||i[t[0]+"Plus"]||0),l[t[1]]=r[t[1]]+(r[t[0]]-l[t[0]])/2})),e?l:r)},drawPoints:function(){var e=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(g.prototype.drawPoints.call(this),this.points.forEach(function(t){t.graphic&&t.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(t))}))},hasData:function(){return!!this.processedXData.length},getValidPoints:function(t,e){return g.prototype.getValidPoints.call(this,t,e,!0)},getBox:n,drawLegendSymbol:i.drawRectangle,alignDataLabel:f.column.prototype.alignDataLabel,getExtremes:function(){var t=g.prototype.getExtremes.call(this,this.valueData),e=t.dataMin,i=t.dataMax;return l(e)&&(this.valueMin=e),l(i)&&(this.valueMax=i),g.prototype.getExtremes.call(this)}}),u(s,{applyOptions:function(t,e){var i=c.Point.prototype.applyOptions.call(this,t,e);return i.formatPrefix=i.isNull||null===i.value?"null":"point",i},isValid:function(){return this.value!==1/0&&this.value!==-1/0},haloPath:function(t){if(!t)return[];var e=this.shapeArgs;return["M",e.x-t,e.y-t,"L",e.x-t,e.y+e.height+t,e.x+e.width+t,e.y+e.height+t,e.x+e.width+t,e.y-t,"Z"]},getCellAttributes:function(){var t=this,e=t.series,i=e.options,o=(i.colsize||1)/2,a=(i.rowsize||1)/2,s=e.xAxis,r=e.yAxis,l=t.options.marker||e.options.marker,n=e.pointPlacementToXValue(),h=m(t.pointPadding,i.pointPadding,0),p={x1:d(Math.round(s.len-(s.translate(t.x-o,!1,!0,!1,!0,-n)||0)),-s.len,2*s.len),x2:d(Math.round(s.len-(s.translate(t.x+o,!1,!0,!1,!0,-n)||0)),-s.len,2*s.len),y1:d(Math.round(r.translate(t.y-a,!1,!0,!1,!0)||0),-r.len,2*r.len),y2:d(Math.round(r.translate(t.y+a,!1,!0,!1,!0)||0),-r.len,2*r.len)};return[["width","x"],["height","y"]].forEach(function(t){var e=t[0],i=t[1],o=i+"1",a=i+"2",s=Math.abs(p[o]-p[a]),r=l&&l.lineWidth||0,n=Math.abs(p[o]+p[a])/2;l[e]&&l[e]<s&&(p[o]=n-l[e]/2-r/2,p[a]=n+l[e]/2+r/2),h&&("y"===i&&(o=a,a=i+"1"),p[o]+=h,p[a]-=h)}),p}}))}),i(e,"Extensions/GeoJSON.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i){var l=e.win,h=i.error,p=i.extend,o=i.format,a=i.merge,s=i.wrap;function r(t,e){for(var i=!1,o=t.x,a=t.y,s=0,r=e.length-1;s<e.length;r=s++)e[s][1]>a!=e[r][1]>a&&o<(e[r][0]-e[s][0])*(a-e[s][1])/(e[r][1]-e[s][1])+e[s][0]&&(i=!i);return i}t.prototype.transformFromLatLon=function(t,e){var i,o=(null===(i=this.userOptions.chart)||void 0===i?void 0:i.proj4)||l.proj4;if(!o)return h(21,!1,this),{x:0,y:null};var a=o(e.crs,[t.lon,t.lat]),s=e.cosAngle||e.rotation&&Math.cos(e.rotation),r=e.sinAngle||e.rotation&&Math.sin(e.rotation),n=e.rotation?[a[0]*s+a[1]*r,-a[0]*r+a[1]*s]:a;return{x:((n[0]-(e.xoffset||0))*(e.scale||1)+(e.xpan||0))*(e.jsonres||1)+(e.jsonmarginX||0),y:(((e.yoffset||0)-n[1])*(e.scale||1)+(e.ypan||0))*(e.jsonres||1)-(e.jsonmarginY||0)}},t.prototype.transformToLatLon=function(t,e){if(void 0!==l.proj4){var i={x:((t.x-(e.jsonmarginX||0))/(e.jsonres||1)-(e.xpan||0))/(e.scale||1)+(e.xoffset||0),y:((-t.y-(e.jsonmarginY||0))/(e.jsonres||1)+(e.ypan||0))/(e.scale||1)+(e.yoffset||0)},o=e.cosAngle||e.rotation&&Math.cos(e.rotation),a=e.sinAngle||e.rotation&&Math.sin(e.rotation),s=l.proj4(e.crs,"WGS84",e.rotation?{x:i.x*o+i.y*-a,y:i.x*a+i.y*o}:i);return{lat:s.y,lon:s.x}}h(21,!1,this)},t.prototype.fromPointToLatLon=function(t){var e,i=this.mapTransforms;if(i){for(e in i)if(Object.hasOwnProperty.call(i,e)&&i[e].hitZone&&r({x:t.x,y:-t.y},i[e].hitZone.coordinates[0]))return this.transformToLatLon(t,i[e]);return this.transformToLatLon(t,i.default)}h(22,!1,this)},t.prototype.fromLatLonToPoint=function(t){var e,i,o=this.mapTransforms;if(!o)return h(22,!1,this),{x:0,y:null};for(e in o)if(Object.hasOwnProperty.call(o,e)&&o[e].hitZone&&r({x:(i=this.transformFromLatLon(t,o[e])).x,y:-i.y},o[e].hitZone.coordinates[0]))return i;return this.transformFromLatLon(t,o.default)},e.geojson=function(t,r,e){function n(t){t.forEach(function(t,e){0===e?h.push(["M",t[0],-t[1]]):h.push(["L",t[0],-t[1]])})}var l=[],h=[];return r=r||"map",t.features.forEach(function(t){var e,i=t.geometry,o=i.type,a=i.coordinates,s=t.properties;h=[],"map"===r||"mapbubble"===r?("Polygon"===o?(a.forEach(n),h.push(["Z"])):"MultiPolygon"===o&&(a.forEach(function(t){t.forEach(n)}),h.push(["Z"])),h.length&&(e={path:h})):"mapline"===r?("LineString"===o?n(a):"MultiLineString"===o&&a.forEach(n),h.length&&(e={path:h})):"mappoint"===r&&"Point"===o&&(e={x:a[0],y:-a[1]}),e&&l.push(p(e,{name:s.name||s.NAME,properties:s}))}),e&&t.copyrightShort&&(e.chart.mapCredits=o(e.chart.options.credits.mapText,{geojson:t}),e.chart.mapCreditsFull=o(e.chart.options.credits.mapTextFull,{geojson:t})),l},s(t.prototype,"addCredits",function(t,e){e=a(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}),i(e,"masters/modules/map.src.js",[],function(){})});