"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/indicators/stochastic",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i))}i(e,"Mixins/MultipleLines.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){var c=e.defined,u=e.error,h=e.merge,m=t.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(e){var i=[];return(this.pointArrayMap||[]).forEach(function(t){t!==e&&i.push("plot"+t.charAt(0).toUpperCase()+t.slice(1))}),i},toYData:function(e){var i=[];return(this.pointArrayMap||[]).forEach(function(t){i.push(e[t])}),i},translate:function(){var n,r=this,t=r.pointArrayMap,o=r.getTranslatedLinesNames();m.prototype.translate.apply(r,arguments),r.points.forEach(function(i){t.forEach(function(t,e){null!==(n=i[t])&&(i[o[e]]=r.yAxis.toPixels(n,!0))})})},drawGraph:function(){var i,n=this,t=n.pointValKey,e=n.linesApiNames,r=n.points,o=r.length,a=n.options,s=n.graph,p={options:{gapSize:a.gapSize}},l=[];n.getTranslatedLinesNames(t).forEach(function(t,e){for(l[e]=[];o--;)i=r[o],l[e].push({x:i.x,plotX:i.plotX,plotY:i[t],isNull:!c(i[t])});o=r.length}),e.forEach(function(t,e){l[e]?(n.points=l[e],a[t]?n.options=h(a[t].styles,p):u('Error: "There is no '+t+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),n.graph=n["graph"+t],m.prototype.drawGraph.call(n),n["graph"+t]=n.graph):u('Error: "'+t+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),n.points=r,n.options=a,n.graph=s,m.prototype.drawGraph.call(n)}}}),i(e,"Mixins/ReduceArray.js",[],function(){return{minInArray:function(t,i){return t.reduce(function(t,e){return Math.min(t,e[i])},Number.MAX_VALUE)},maxInArray:function(t,i){return t.reduce(function(t,e){return Math.max(t,e[i])},-Number.MAX_VALUE)},getArrayExtremes:function(t,i,n){return t.reduce(function(t,e){return[Math.min(t[0],e[i]),Math.max(t[1],e[n])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),i(e,"Stock/Indicators/StochasticIndicator.js",[e["Core/Series/Series.js"],e["Mixins/MultipleLines.js"],e["Mixins/ReduceArray.js"],e["Core/Utilities.js"]],function(t,e,i,n){var f=n.isArray,r=n.merge,g=t.seriesTypes.sma,A=i.getArrayExtremes;t.seriesType("stochastic","sma",{params:{periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},r(e,{nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"],init:function(){g.prototype.init.apply(this,arguments),this.options=r({smoothedLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(t,e){var i,n,r,o,a,s=e.periods[0],p=e.periods[1],l=t.xData,c=t.yData,u=c?c.length:0,h=[],m=[],d=[],y=null;if(!(u<s)&&f(c[0])&&4===c[0].length){for(a=s-1;a<u;a++)i=c.slice(a-s+1,a+1),n=(o=A(i,2,1))[0],r=(c[a][3]-n)/(o[1]-n)*100,m.push(l[a]),d.push([r,null]),s-1+(p-1)<=a&&(y=g.prototype.getValues.call(this,{xData:m.slice(-p),yData:d.slice(-p)},{period:p}).yData[0]),h.push([l[a],r,y]),d[d.length-1][1]=y;return{values:h,xData:m,yData:d}}}}))}),i(e,"masters/indicators/stochastic.src.js",[],function(){})});