"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){var t=e?e._modules:{};function o(e,t,o,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,o))}o(t,"Mixins/IndicatorRequired.js",[t["Core/Utilities.js"]],function(e){var n=e.error;return{isParentLoaded:function(e,t,o,i,a){return e?!i||i(e):(n(a||this.generateMessage(o,t)),!1)},generateMessage:function(e,t){return'Error: "'+e+'" indicator type requires "'+t+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+e}}}),o(t,"Stock/Indicators/SMAIndicator.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,t,o,i){var a=e.seriesTypes,n=i.addEvent,r=i.error,s=i.extend,m=i.isArray,l=i.pick,h=i.splat,p=t.Series,u=a.ohlc.prototype,d=o.generateMessage;n(t.Series,"init",function(e){var t=e.options;t.useOhlcData&&"highcharts-navigator-series"!==t.id&&s(this,{pointValKey:u.pointValKey,keys:u.keys,pointArrayMap:u.pointArrayMap,toYData:u.toYData})}),n(p,"afterSetOptions",function(e){var t=e.options,o=t.dataGrouping;o&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(o.approximation="ohlc")}),e.seriesType("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var e=this,t=e.options.compareToMain,o=e.linkedParent;p.prototype.processData.apply(e,arguments),o&&o.compareValue&&t&&(e.compareValue=o.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var t={allLoaded:!0};return this.requiredIndicators.forEach(function(e){a[e]?a[e].prototype.requireIndicators():(t.allLoaded=!1,t.needed=e)}),t},init:function(e,t){var o,c=this,i=c.requireIndicators();if(!i.allLoaded)return r(d(c.type,i.needed));function a(){var e,t,o,i,a,n,r=c.points||[],s=(c.xData||[]).length,l=c.getValues(c.linkedParent,c.options.params)||{values:[],xData:[],yData:[]},p=[],u=!0;if(s&&!c.hasGroupedData&&c.visible&&c.points)if(c.cropped){for(c.xAxis&&(i=c.xAxis.min,a=c.xAxis.max),o=c.cropData(l.xData,l.yData,i,a),n=0;n<o.xData.length;n++)p.push([o.xData[n]].concat(h(o.yData[n])));e=l.xData.indexOf(c.xData[0]),t=l.xData.indexOf(c.xData[c.xData.length-1]),-1===e&&t===l.xData.length-2&&p[0][0]===r[0].x&&p.shift(),c.updateData(p)}else l.xData.length!==s-1&&l.xData.length!==s+1&&(u=!1,c.updateData(l.values));u&&(c.xData=l.xData,c.yData=l.yData,c.options.data=l.values),!1===c.bindTo.series&&(delete c.processedXData,c.isDirty=!0,c.redraw()),c.isDirtyData=!1}return p.prototype.init.call(c,e,t),e.linkSeries(),c.dataEventsToUnbind=[],c.linkedParent?(c.dataEventsToUnbind.push(n(c.bindTo.series?c.linkedParent:c.linkedParent.xAxis,c.bindTo.eventName,a)),"init"===c.calculateOn?a():o=n(c.chart,c.calculateOn,function(){a(),o()}),c):r("Series "+c.options.linkedTo+" not found! Check `linkedTo`.",!1,e)},getName:function(){var e=this.name,o=[];return e||((this.nameComponents||[]).forEach(function(e,t){o.push(this.options.params[e]+l(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+o.join(", ")+")":"")),e},getValues:function(e,t){var o,i,a=t.period,n=e.xData,r=e.yData,s=r.length,l=0,p=0,u=[],c=[],h=[],d=-1;if(!(n.length<a)){for(m(r[0])&&(d=t.index?t.index:0);l<a-1;)p+=d<0?r[l]:r[l][d],l++;for(o=l;o<s;o++)p+=d<0?r[o]:r[o][d],i=[n[o],p/a],u.push(i),c.push(i[0]),h.push(i[1]),p-=d<0?r[o-l]:r[o-l][d];return{values:u,xData:c,yData:h}}},destroy:function(){this.dataEventsToUnbind.forEach(function(e){e()}),p.prototype.destroy.apply(this,arguments)}})}),o(t,"Stock/Indicators/ADIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var b=t.error;e.seriesType("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(e,t){var o,i,a,n,r,s,l,p,u,c,h,d,m=t.period,y=e.xData,f=e.yData,g=t.volumeSeriesID,v=e.chart.get(g),D=v&&v.yData,x=f?f.length:0,S=[],C=[],A=[];if(!(y.length<=m&&x&&4!==f[0].length)){if(v){for(i=m;i<x;i++)o=S.length,n=y,s=D,0,p=(r=f)[l=i][1],u=r[l][2],c=r[l][3],h=s[l],d=c===p&&c===u||p===u?0:(2*c-u-p)/(p-u)*h,a=[n[l],d],0<o&&(a[1]+=S[o-1][1]),S.push(a),C.push(a[0]),A.push(a[1]);return{values:S,xData:C,yData:A}}b("Series "+g+" not found! Check `volumeSeriesID`.",!0,e.chart)}}})}),o(t,"Stock/Indicators/AOIndicator.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t,o){var i=t.noop,y=o.correctFloat,f=o.isArray;e.seriesType("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:i,getColumnMetrics:t.seriesTypes.column.prototype.getColumnMetrics,crispCol:t.seriesTypes.column.prototype.crispCol,translate:t.seriesTypes.column.prototype.translate,drawPoints:t.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var e,t=this.options,o=this.points,i=this.userOptions.color,a=t.greaterBarColor,n=t.lowerBarColor,r=o[0];if(!i&&r)for(r.color=a,e=1;e<o.length;e++)o[e].y>o[e-1].y?o[e].color=a:o[e].y<o[e-1].y?o[e].color=n:o[e].color=o[e-1].color},getValues:function(e){var t,o,i,a,n,r,s=e.xData||[],l=e.yData||[],p=l.length,u=[],c=[],h=[],d=0,m=0;if(!(s.length<=34)&&f(l[0])&&4===l[0].length){for(n=0;n<33;n++)a=(l[n][1]+l[n][2])/2,29<=n&&(d=y(d+a)),m=y(m+a);for(r=33;r<p;r++)a=(l[r][1]+l[r][2])/2,d=y(d+a),m=y(m+a),t=y(d/5-m/34),u.push([s[r],t]),c.push(s[r]),h.push(t),i=r+1-34,d=y(d-(l[o=r+1-5][1]+l[o][2])/2),m=y(m-(l[i][1]+l[i][2])/2);return{values:u,xData:c,yData:h}}}})}),o(t,"Mixins/MultipleLines.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var u=t.defined,c=t.error,h=t.merge,d=e.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(t){var o=[];return(this.pointArrayMap||[]).forEach(function(e){e!==t&&o.push("plot"+e.charAt(0).toUpperCase()+e.slice(1))}),o},toYData:function(t){var o=[];return(this.pointArrayMap||[]).forEach(function(e){o.push(t[e])}),o},translate:function(){var i,a=this,e=a.pointArrayMap,n=a.getTranslatedLinesNames();d.prototype.translate.apply(a,arguments),a.points.forEach(function(o){e.forEach(function(e,t){null!==(i=o[e])&&(o[n[t]]=a.yAxis.toPixels(i,!0))})})},drawGraph:function(){var o,i=this,e=i.pointValKey,t=i.linesApiNames,a=i.points,n=a.length,r=i.options,s=i.graph,l={options:{gapSize:r.gapSize}},p=[];i.getTranslatedLinesNames(e).forEach(function(e,t){for(p[t]=[];n--;)o=a[n],p[t].push({x:o.x,plotX:o.plotX,plotY:o[e],isNull:!u(o[e])});n=a.length}),t.forEach(function(e,t){p[t]?(i.points=p[t],r[e]?i.options=h(r[e].styles,l):c('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),i.graph=i["graph"+e],d.prototype.drawGraph.call(i),i["graph"+e]=i.graph):c('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),i.points=a,i.options=r,i.graph=s,d.prototype.drawGraph.call(i)}}}),o(t,"Stock/Indicators/AroonIndicator.js",[t["Core/Series/Series.js"],t["Mixins/MultipleLines.js"],t["Core/Utilities.js"]],function(e,t,o){var i=o.merge,m=o.pick;function y(e,t){for(var o=e[0],i=0,a=1;a<e.length;a++)("max"===t&&e[a]>=o||"min"===t&&e[a]<=o)&&(o=e[a],i=a);return i}e.seriesType("aroon","sma",{params:{period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},i(t,{nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y",linesApiNames:["aroonDown"],getValues:function(e,t){for(var o,i,a,n,r=t.period,s=e.xData,l=e.yData,p=l?l.length:0,u=[],c=[],h=[],d=r-1;d<p;d++)n=y((o=l.slice(d-r+1,d+2)).map(function(e){return m(e[2],e)}),"min"),i=y(o.map(function(e){return m(e[1],e)}),"max")/r*100,a=n/r*100,s[d+1]&&(u.push([s[d+1],i,a]),c.push(s[d+1]),h.push([i,a]));return{values:u,xData:c,yData:h}}}))}),o(t,"Stock/Indicators/AroonOscillatorIndicator.js",[t["Core/Series/Series.js"],t["Mixins/MultipleLines.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,t,i,o){var a=o.merge,l=e.seriesTypes.aroon;e.seriesType("aroonoscillator","aroon",{params:{period:25},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}},a(t,{nameBase:"Aroon Oscillator",pointArrayMap:["y"],pointValKey:"y",linesApiNames:[],init:function(){var t=arguments,o=this;i.isParentLoaded(l,"aroon",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){for(var o,i=[],a=[],n=[],r=l.prototype.getValues.call(this,e,t),s=0;s<r.yData.length;s++)o=r.yData[s][0]-r.yData[s][1],i.push([r.xData[s],o]),a.push(r.xData[s]),n.push(o);return{values:i,xData:a,yData:n}}}))}),o(t,"Stock/Indicators/ATRIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var b=t.isArray;function j(e,t){var o=e,i=t,a=o[1]-o[2],n=void 0===i?0:Math.abs(o[1]-i[3]),r=void 0===i?0:Math.abs(o[2]-i[3]);return Math.max(a,n,r)}e.seriesType("atr","sma",{params:{period:14}},{getValues:function(e,t){var o,i,a,n,r,s,l,p,u,c,h,d=t.period,m=e.xData,y=e.yData,f=y?y.length:0,g=1,v=0,D=0,x=[],S=[],C=[],A=[[m[0],y[0]]];if(!(m.length<=d)&&b(y[0])&&4===y[0].length){for(i=1;i<=f;i++)l=A,p=y,0,c=m[u=i],h=p[u],l.push([c,h]),d<g?(a=y,r=d,s=v,v=(o=[m[(n=i)-1],(s*(r-1)+j(a[n-1],a[n-2]))/r])[1],x.push(o),S.push(o[0]),C.push(o[1])):(d===g?(v=D/(i-1),x.push([m[i-1],v]),S.push(m[i-1]),C.push(v)):D+=j(y[i-1],y[i-2]),g++);return{values:x,xData:S,yData:C}}}})}),o(t,"Stock/Indicators/BBIndicator.js",[t["Core/Series/Series.js"],t["Mixins/MultipleLines.js"],t["Core/Utilities.js"]],function(e,t,o){var x=o.isArray,i=o.merge,S=e.seriesTypes.sma;function C(e,t,o,i){for(var a,n=0,r=e.length,s=0;s<r;s++)n+=(a=(o?e[s][t]:e[s])-i)*a;return n/=r-1,Math.sqrt(n)}e.seriesType("bb","sma",{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}},i(t,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"],init:function(){S.prototype.init.apply(this,arguments),this.options=i({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var o,i,a,n,r,s,l,p,u,c,h=t.period,d=t.standardDeviation,m=e.xData,y=e.yData,f=y?y.length:0,g=[],v=[],D=[];if(!(m.length<h)){for(p=x(y[0]),c=h;c<=f;c++)r=m.slice(c-h,c),s=y.slice(c-h,c),n=(u=S.prototype.getValues.call(this,{xData:r,yData:s},t)).xData[0],i=(o=u.yData[0])+d*(l=C(s,t.index,p,o)),a=o-d*l,g.push([n,i,o,a]),v.push(n),D.push([i,o,a]);return{values:g,xData:v,yData:D}}}}))}),o(t,"Stock/Indicators/CCIIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var v=t.isArray;function D(e,t){for(var o=e.length,i=0,a=0;a<o;a++)i+=Math.abs(t-e[a]);return i}e.seriesType("cci","sma",{params:{period:14}},{getValues:function(e,t){var o,i,a,n,r,s,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=1,y=[],f=[],g=[];if(!(p.length<=l)&&v(u[0])&&4===u[0].length){for(;m<l;)i=u[m-1],h.push((i[1]+i[2]+i[3])/3),m++;for(s=l;s<=c;s++)r=((i=u[s-1])[1]+i[2]+i[3])/3,a=h.push(r),d=h.slice(a-l),o=(r-(n=d.reduce(function(e,t){return e+t},0)/l))/(.015*(D(d,n)/l)),y.push([p[s-1],o]),f.push(p[s-1]),g.push(o);return{values:y,xData:f,yData:g}}}})}),o(t,"Stock/Indicators/CMFIndicator.js",[t["Core/Series/Series.js"]],function(e){e.seriesType("cmf","sma",{params:{period:14,volumeSeriesID:"volume"}},{nameBase:"Chaikin Money Flow",isValid:function(){var e=this.chart,t=this.options,o=this.linkedParent,i=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),a=o&&o.yData&&4===o.yData[0].length;function n(e){return e.xData&&e.xData.length>=t.params.period}return!!(o&&i&&n(o)&&n(i)&&a)},getValues:function(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)},getMoneyFlow:function(e,t,o,i){var l,a,n=t.length,r=[],s=0,p=0,u=[],c=[],h=[],d=-1;function m(e,t){var o,i,a,n=e[1],r=e[2],s=e[3];return null!==t&&null!==n&&null!==r&&null!==s&&n!==r?((a=s)-(i=r)-((o=n)-a))/(o-i)*t:(d=l,null)}if(0<i&&i<=n){for(l=0;l<i;l++)r[l]=m(t[l],o[l]),s+=o[l],p+=r[l];for(u.push(e[l-1]),c.push(i<=l-d&&0!==s?p/s:null),h.push([u[0],c[0]]);l<n;l++)r[l]=m(t[l],o[l]),s-=o[l-i],s+=o[l],p-=r[l-i],p+=r[l],a=[e[l],i<=l-d?p/s:null],u.push(a[0]),c.push(a[1]),h.push([a[0],a[1]])}return{values:h,xData:u,yData:c}}})}),o(t,"Stock/Indicators/DPOIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var r=t.correctFloat,f=t.pick;function g(e,t,o,i,a){var n=f(t[o][i],t[o]);return r(a?e-n:e+n)}e.seriesType("dpo","sma",{params:{period:21}},{nameBase:"DPO",getValues:function(e,t){var o,i,a,n,r=t.period,s=t.index,l=r+Math.floor(r/2+1),p=e.xData||[],u=e.yData||[],c=u.length,h=[],d=[],m=[],y=0;if(!(p.length<=l)){for(a=0;a<r-1;a++)y=g(y,u,a,s);for(n=0;n<=c-l;n++)i=n+l-1,y=g(y,u,n+r-1,s),o=f(u[i][s],u[i])-y/r,y=g(y,u,n,s,!0),h.push([p[i],o]),d.push(p[i]),m.push(o);return{values:h,xData:d,yData:m}}}})}),o(t,"Stock/Indicators/EMAIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var p=t.correctFloat,y=t.isArray;e.seriesType("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(e,t,o){for(var i=0,a=0;a<e;)i+=t<0?o[a]:o[a][t],a++;return i},calculateEma:function(e,t,o,i,a,n,r){var s=e[o-1],l=n<0?t[o-1]:t[o-1][n];return[s,void 0===a?r:p(l*i+a*(1-i))]},getValues:function(e,t){var o,i,a,n,r=t.period,s=e.xData,l=e.yData,p=l?l.length:0,u=2/(r+1),c=[],h=[],d=[],m=-1;if(!(p<r)){for(y(l[0])&&(m=t.index?t.index:0),o=this.accumulatePeriodPoints(r,m,l)/r,n=r;n<p+1;n++)a=this.calculateEma(s,l,n,u,i,m,o),c.push(a),h.push(a[0]),d.push(a[1]),i=a[1];return{values:c,xData:h,yData:d}}}})}),o(t,"Stock/Indicators/ChaikinIndicator.js",[t["Core/Series/Series.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,i,t){var o=e.seriesTypes,d=t.correctFloat,m=t.error,y=o.ema,f=o.ad;e.seriesType("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var t=arguments,o=this;i.isParentLoaded(y,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){var o,i,a,n,r,s,l=t.periods,p=t.period,u=[],c=[],h=[];if(2!==l.length||l[1]<=l[0])m('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((o=f.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:p}))&&(a=y.prototype.getValues.call(this,o,{period:l[0]}),n=y.prototype.getValues.call(this,o,{period:l[1]}),a&&n)){for(i=l[1]-l[0],s=0;s<n.yData.length;s++)r=d(a.yData[s+i]-n.yData[s]),u.push([n.xData[s],r]),c.push(n.xData[s]),h.push(r);return{values:u,xData:c,yData:h}}}})}),o(t,"Stock/Indicators/DEMAIndicator.js",[t["Core/Series/Series.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,i,t){var x=t.correctFloat,S=t.isArray,C=e.seriesTypes.ema;e.seriesType("dema","ema",{},{init:function(){var t=arguments,o=this;i.isParentLoaded(C,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getEMA:function(e,t,o,i,a,n){return C.prototype.calculateEma(n||[],e,void 0===a?1:a,this.chart.series[0].EMApercent,t,void 0===i?-1:i,o)},getValues:function(e,t){var o,i,a,n,r,s=t.period,l=2*s,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,m=0,y=[],f=[],g=[],v=0,D=[];if(e.EMApercent=2/(s+1),!(c<2*s-1)){for(S(u[0])&&(h=t.index?t.index:0),m=(d=C.prototype.accumulatePeriodPoints(s,h,u))/s,d=0,n=s;n<c+2;n++)n<c+1&&(v=this.getEMA(u,i,m,h,n)[1],D.push(v)),i=v,n<l?d+=v:(n===l&&(m=d/s),v=D[n-s-1],o=this.getEMA([v],a,m)[1],r=[p[n-2],x(2*v-o)],y.push(r),f.push(r[0]),g.push(r[1]),a=o);return{values:y,xData:f,yData:g}}}})}),o(t,"Stock/Indicators/TEMAIndicator.js",[t["Core/Series/Series.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,i,t){var a=t.correctFloat,S=t.isArray,C=e.seriesTypes.ema;e.seriesType("tema","ema",{},{init:function(){var t=arguments,o=this;i.isParentLoaded(C,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getEMA:function(e,t,o,i,a,n){return C.prototype.calculateEma(n||[],e,void 0===a?1:a,this.chart.series[0].EMApercent,t,void 0===i?-1:i,o)},getTemaPoint:function(e,t,o,i){return[e[i-3],a(3*o.level1-3*o.level2+o.level3)]},getValues:function(e,t){var o,i,a,n,r=t.period,s=2*r,l=3*r,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,m=0,y=[],f=[],g=[],v=[],D=[],x={};if(e.EMApercent=2/(r+1),!(c<3*r-2)){for(S(u[0])&&(h=t.index?t.index:0),m=(d=C.prototype.accumulatePeriodPoints(r,h,u))/r,d=0,a=r;a<c+3;a++)a<c+1&&(x.level1=this.getEMA(u,o,m,h,a)[1],v.push(x.level1)),o=x.level1,a<s?d+=x.level1:(a===s&&(m=d/r,d=0),x.level1=v[a-r-1],x.level2=this.getEMA([x.level1],i,m)[1],D.push(x.level2),i=x.level2,a<l?d+=x.level2:(a===l&&(m=d/r),a===c+1&&(x.level1=v[a-r-1],x.level2=this.getEMA([x.level1],i,m)[1],D.push(x.level2)),x.level1=v[a-r-2],x.level2=D[a-2*r-1],x.level3=this.getEMA([x.level2],x.prevLevel3,m)[1],(n=this.getTemaPoint(p,l,x,a))&&(y.push(n),f.push(n[0]),g.push(n[1])),x.prevLevel3=x.level3));return{values:y,xData:f,yData:g}}}})}),o(t,"Stock/Indicators/TRIXIndicator.js",[t["Core/Series/Series.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,i,t){var n=t.correctFloat,a=e.seriesTypes.tema;e.seriesType("trix","tema",{},{init:function(){var t=arguments,o=this;i.isParentLoaded(a,"tema",o.type,function(e){e.prototype.init.apply(o,t)})},getTemaPoint:function(e,t,o,i){var a;return t<i&&(a=[e[i-3],0!==o.prevLevel3?n(o.level3-o.prevLevel3)/o.prevLevel3*100:null]),a}})}),o(t,"Stock/Indicators/APOIndicator.js",[t["Core/Series/Series.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,i,t){var h=t.error,d=e.seriesTypes.ema;e.seriesType("apo","ema",{params:{periods:[10,20]}},{nameBase:"APO",nameComponents:["periods"],init:function(){var t=arguments,o=this;i.isParentLoaded(d,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){var o,i,a,n,r,s=t.periods,l=t.index,p=[],u=[],c=[];if(2!==s.length||s[1]<=s[0])h('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else if(i=d.prototype.getValues.call(this,e,{index:l,period:s[0]}),a=d.prototype.getValues.call(this,e,{index:l,period:s[1]}),i&&a){for(o=s[1]-s[0],r=0;r<a.yData.length;r++)n=i.yData[r+o]-a.yData[r],p.push([a.xData[r],n]),u.push(a.xData[r]),c.push(n);return{values:p,xData:u,yData:c}}}})}),o(t,"Stock/Indicators/IKHIndicator.js",[t["Core/Series/Series.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t,a,o){var i=t.parse,w=o.defined,M=o.isArray,B=o.merge,N=o.objectEach,G=e.seriesTypes.sma;function P(e){return{high:e.reduce(function(e,t){return Math.max(e,t[1])},-1/0),low:e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}}function U(e,t,o,i){if(e&&t&&o&&i){var a=t.plotX-e.plotX,n=t.plotY-e.plotY,r=i.plotX-o.plotX,s=i.plotY-o.plotY,l=e.plotX-o.plotX,p=e.plotY-o.plotY,u=(-n*l+a*p)/(-r*n+a*s),c=(r*p-s*l)/(-r*n+a*s);if(0<=u&&u<=1&&0<=c&&c<=1)return{plotX:e.plotX+c*a,plotY:e.plotY+c*n}}return!1}function Y(e){var t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=B(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,G.prototype.drawGraph.call(t)}a.approximations["ichimoku-averages"]=function(){var o,i=[];return[].forEach.call(arguments,function(e,t){i.push(a.approximations.average(e)),o=!o&&void 0===i[t]}),o?void 0:i},e.seriesType("ikh","sma",{params:{period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}},{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"],init:function(){G.prototype.init.apply(this,arguments),this.options=B({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:i(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:i(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:i(this.color).setOpacity(.2).get()}}},this.options)},toYData:function(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]},translate:function(){var o=this;G.prototype.translate.apply(o),o.points.forEach(function(t){o.pointArrayMap.forEach(function(e){w(t[e])&&(t["plot"+e]=o.yAxis.toPixels(t[e],!0),t.plotY=t["plot"+e],t.tooltipPos=[t.plotX,t["plot"+e]],t.isNull=!1)})})},drawGraph:function(){var e,t,o,i,a,n,r,s,l,p,u,c,h,d,m,y,f=this,g=f.points,v=g.length,D=f.options,x=f.graph,S=f.color,C={options:{gapSize:D.gapSize}},A=f.pointArrayMap.length,b=[[],[],[],[],[],[]],j={tenkanLine:b[0],kijunLine:b[1],chikouLine:b[2],senkouSpanA:b[3],senkouSpanB:b[4],senkouSpan:b[5]},k=[],I=f.options.senkouSpan,M=I.color||I.styles.fill,P=I.negativeColor,T=[[],[]],L=[[],[]],V=0;for(f.ikhMap=j;v--;){for(t=g[v],o=0;o<A;o++)e=f.pointArrayMap[o],w(t[e])&&b[o].push({plotX:t.plotX,plotY:t["plot"+e],isNull:!1});P&&v!==g.length-1&&(d=j.senkouSpanB.length-1,y={plotX:(m=U(j.senkouSpanA[d-1],j.senkouSpanA[d],j.senkouSpanB[d-1],j.senkouSpanB[d])).plotX,plotY:m.plotY,isNull:!1,intersectPoint:!0},m&&(j.senkouSpanA.splice(d,0,y),j.senkouSpanB.splice(d,0,y),k.push(d)))}if(N(j,function(e,t){D[t]&&"senkouSpan"!==t&&(f.points=b[V],f.options=B(D[t].styles,C),f.graph=f["graph"+t],f.fillGraph=!1,f.color=S,G.prototype.drawGraph.call(f),f["graph"+t]=f.graph),V++}),f.graphCollection&&f.graphCollection.forEach(function(e){f[e].destroy(),delete f[e]}),f.graphCollection=[],P&&j.senkouSpanA[0]&&j.senkouSpanB[0]){for(k.unshift(0),k.push(j.senkouSpanA.length-1),c=0;c<k.length-1;c++)if(i=k[c],a=k[c+1],n=j.senkouSpanB.slice(i,a+1),r=j.senkouSpanA.slice(i,a+1),1<=Math.floor(n.length/2)){var E=Math.floor(n.length/2);if(n[E].plotY===r[E].plotY){for(h=l=s=0;h<n.length;h++)s+=n[h].plotY,l+=r[h].plotY;T[u=l<s?0:1]=T[u].concat(n),L[u]=L[u].concat(r)}else u=n[E].plotY>r[E].plotY?0:1,T[u]=T[u].concat(n),L[u]=L[u].concat(r)}else u=n[0].plotY>r[0].plotY?0:1,T[u]=T[u].concat(n),L[u]=L[u].concat(r);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){T[t].length&&L[t].length&&(p=0===t?M:P,Y({indicator:f,points:T[t],nextPoints:L[t],color:p,options:D,gap:C,graph:f[e]}),f[e]=f.graph,f.graphCollection.push(e))})}else Y({indicator:f,points:j.senkouSpanB,nextPoints:j.senkouSpanA,color:M,options:D,gap:C,graph:f.graphsenkouSpan}),f.graphsenkouSpan=f.graph;delete f.nextPoints,delete f.fillGraph,f.points=g,f.options=D,f.graph=x},getGraphPath:function(e){var t,o=this,i=[],a=[];if(e=e||this.points,o.fillGraph&&o.nextPoints){if((t=G.prototype.getGraphPath.call(o,o.nextPoints))&&t.length){t[0][0]="L",i=G.prototype.getGraphPath.call(o,e);for(var n=(a=t.slice(0,i.length)).length-1;0<=n;n--)i.push(a[n])}}else i=G.prototype.getGraphPath.apply(o,arguments);return i},getValues:function(e,t){var o,i,a,n,r,s,l,p,u,c,h,d,m,y,f,g,v=t.period,D=t.periodTenkan,x=t.periodSenkouSpanB,S=e.xData,C=e.yData,A=e.xAxis,b=C&&C.length||0,j=(A.series.forEach(function(e){if(e.xData)for(f=e.xData,m=e.xIncrement?1:f.length-1,g=m;0<g;g--)y=f[g]-f[g-1],(void 0===d||y<d)&&(d=y)}),d),k=[],I=[];if(!(S.length<=v)&&M(C[0])&&4===C[0].length){for(o=S[0]-v*j,s=0;s<v;s++)I.push(o+s*j);for(s=0;s<b;s++)D<=s&&(l=((a=P(C.slice(s-D,s))).high+a.low)/2),v<=s&&(c=(l+(p=((n=P(C.slice(s-v,s))).high+n.low)/2))/2),x<=s&&(h=((r=P(C.slice(s-x,s))).high+r.low)/2),u=C[s][3],i=S[s],void 0===k[s]&&(k[s]=[]),void 0===k[s+v]&&(k[s+v]=[]),k[s+v][0]=l,k[s+v][1]=p,k[s+v][2]=void 0,k[s][2]=u,s<=v&&(k[s+v][3]=void 0,k[s+v][4]=void 0),void 0===k[s+2*v]&&(k[s+2*v]=[]),k[s+2*v][3]=c,k[s+2*v][4]=h,I.push(i);for(s=1;s<=v;s++)I.push(i+s*j);return{values:k,xData:I,yData:k}}}})}),o(t,"Stock/Indicators/KeltnerChannelsIndicator.js",[t["Core/Series/Series.js"],t["Mixins/MultipleLines.js"],t["Core/Utilities.js"]],function(e,t,o){var i=e.seriesTypes,x=o.correctFloat,a=o.merge,n=i.sma,S=i.ema,C=i.atr;e.seriesType("keltnerchannels","sma",{params:{period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1},a(t,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Keltner Channels",nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],requiredIndicators:["ema","atr"],init:function(){n.prototype.init.apply(this,arguments),this.options=a({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var o,i,a,n,r,s,l,p=t.period,u=t.periodATR,c=t.multiplierATR,h=t.index,d=e.yData,m=d?d.length:0,y=[],f=S.prototype.getValues(e,{period:p,index:h}),g=C.prototype.getValues(e,{period:u}),v=[],D=[];if(!(m<p)){for(l=p;l<=m;l++)r=f.values[l-p],s=g.values[l-u],n=r[0],i=x(r[1]+c*s[1]),a=x(r[1]-c*s[1]),o=r[1],y.push([n,i,o,a]),v.push(n),D.push([i,o,a]);return{values:y,xData:v,yData:D}}}}))}),o(t,"Stock/Indicators/MACDIndicator.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t,o){var i=t.noop,u=o.correctFloat,c=o.defined,l=o.merge,p=t.seriesTypes.sma,h=t.seriesTypes.ema;e.seriesType("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:i,getColumnMetrics:t.seriesTypes.column.prototype.getColumnMetrics,crispCol:t.seriesTypes.column.prototype.crispCol,init:function(){p.prototype.init.apply(this,arguments),this.options&&(this.options=l({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(e){return[e.y,e.signal,e.MACD]},translate:function(){var i=this,a=["plotSignal","plotMACD"];t.seriesTypes.column.prototype.translate.apply(i),i.points.forEach(function(o){[o.signal,o.MACD].forEach(function(e,t){null!==e&&(o[a[t]]=i.yAxis.toPixels(e,!0))})})},destroy:function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),p.prototype.destroy.apply(this,arguments)},drawPoints:t.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var e,o=this,t=o.points,i=t.length,a=o.options,n=o.zones,r={options:{gapSize:a.gapSize}},s=[[],[]];i--;)e=t[i],c(e.plotMACD)&&s[0].push({plotX:e.plotX,plotY:e.plotMACD,isNull:!c(e.plotMACD)}),c(e.plotSignal)&&s[1].push({plotX:e.plotX,plotY:e.plotSignal,isNull:!c(e.plotMACD)});["macd","signal"].forEach(function(e,t){o.points=s[t],o.options=l(a[e+"Line"].styles,r),o.graph=o["graph"+e],o.currentLineZone=e+"Zones",o.zones=o[o.currentLineZone].zones,p.prototype.drawGraph.call(o),o["graph"+e]=o.graph}),o.points=t,o.options=a,o.zones=n,o.currentLineZone=null},getZonesGraphs:function(e){var t=p.prototype.getZonesGraphs.call(this,e),o=t;return this.currentLineZone&&((o=t.splice(this[this.currentLineZone].startIndex+1)).length?o.splice(0,0,e[0]):o=[e[0]]),o},applyZones:function(){var e=this.zones;this.zones=this.signalZones.zones,p.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e},getValues:function(e,t){var o,i,a,n=0,r=[],s=[],l=[],p=[];if(!(e.xData.length<t.longPeriod+t.signalPeriod)){for(o=h.prototype.getValues(e,{period:t.shortPeriod}),i=h.prototype.getValues(e,{period:t.longPeriod}),o=o.values,i=i.values,a=1;a<=o.length;a++)c(i[a-1])&&c(i[a-1][1])&&c(o[a+t.shortPeriod+1])&&c(o[a+t.shortPeriod+1][0])&&r.push([o[a+t.shortPeriod+1][0],0,null,o[a+t.shortPeriod+1][1]-i[a-1][1]]);for(a=0;a<r.length;a++)s.push(r[a][0]),l.push([0,null,r[a][3]]);for(p=(p=h.prototype.getValues({xData:s,yData:l},{period:t.signalPeriod,index:2})).values,a=0;a<r.length;a++)r[a][0]>=p[0][0]&&(r[a][2]=p[n][1],l[a]=[0,p[n][1],r[a][3]],null===r[a][3]?(r[a][1]=0,l[a][0]=0):(r[a][1]=u(r[a][3]-p[n][1]),l[a][0]=u(r[a][3]-p[n][1])),n++);return{values:r,xData:s,yData:l}}}})}),o(t,"Stock/Indicators/MFIIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var C=t.error,A=t.isArray;function b(e){return e.reduce(function(e,t){return e+t})}function j(e){return(e[1]+e[2]+e[3])/3}e.seriesType("mfi","sma",{params:{period:14,volumeSeriesID:"volume",decimals:4}},{nameBase:"Money Flow Index",getValues:function(e,t){var o,i,a,n,r,s,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=t.decimals,d=1,m=e.chart.get(t.volumeSeriesID),y=m&&m.yData,f=[],g=!1,v=[],D=[],x=[],S=[];if(m){if(!(p.length<=l)&&A(u[0])&&4===u[0].length&&y){for(o=j(u[d]);d<l+1;)g=o<=(o=j(u[d])),i=o*y[d],x.push(g?i:0),S.push(g?0:i),d++;for(s=d-1;s<c;s++)d-1<s&&(x.shift(),S.shift(),g=o<(o=j(u[s])),i=o*y[s],x.push(g?i:0),S.push(g?0:i)),a=b(S),n=b(x),r=parseFloat((100-100/(1+n/a)).toFixed(h)),f.push([p[s],r]),v.push(p[s]),D.push(r);return{values:f,xData:v,yData:D}}}else C("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}})}),o(t,"Stock/Indicators/MomentumIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var d=t.isArray;function m(e,t,o,i,a){var n=o[i-1][3]-o[i-a-1][3],r=t[i-1];return e.shift(),[r,n]}e.seriesType("momentum","sma",{params:{period:14}},{nameBase:"Momentum",getValues:function(e,t){var o,i,a,n=t.period,r=e.xData,s=e.yData,l=s?s.length:0,p=r[0],u=(s[0],[]),c=[],h=[];if(!(r.length<=n)&&d(s[0])){for(i=[[p,s[0][3]]],o=n+1;o<l;o++)a=m(i,r,s,o,n),u.push(a),c.push(a[0]),h.push(a[1]);return a=m(i,r,s,o,n),u.push(a),c.push(a[0]),h.push(a[1]),{values:u,xData:c,yData:h}}}})}),o(t,"Stock/Indicators/NATRIndicator.js",[t["Core/Series/Series.js"]],function(e){var s=e.seriesTypes.atr;e.seriesType("natr","sma",{tooltip:{valueSuffix:"%"}},{requiredIndicators:["atr"],getValues:function(e,t){var o=s.prototype.getValues.apply(this,arguments),i=o.values.length,a=t.period-1,n=e.yData,r=0;if(o){for(;r<i;r++)o.yData[r]=o.values[r][1]/n[a][3]*100,o.values[r][1]=o.yData[r],a++;return o}}})}),o(t,"Stock/Indicators/PivotPointsIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var u=t.defined,g=t.isArray,c=e.seriesTypes.sma;function o(e,t){var o,i=e.series.pointArrayMap,a=i.length;for(c.prototype.pointClass.prototype[t].call(e);a--;)e[o="dataLabel"+i[a]]&&e[o].element&&e[o].destroy(),e[o]=null}e.seriesType("pivotpoints","sma",{params:{period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}},{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",toYData:function(e){return[e.P]},translate:function(){var o=this;c.prototype.translate.apply(o),o.points.forEach(function(t){o.pointArrayMap.forEach(function(e){u(t[e])&&(t["plot"+e]=o.yAxis.toPixels(t[e],!0))})}),o.plotEndPoint=o.xAxis.toPixels(o.endPoint,!0)},getGraphPath:function(e){for(var t,o,i,a=this,n=e.length,r=[[],[],[],[],[],[],[],[],[]],s=[],l=a.plotEndPoint,p=a.pointArrayMap.length;n--;){for(o=e[n],i=0;i<p;i++)t=a.pointArrayMap[i],u(o[t])&&r[i].push({plotX:o.plotX,plotY:o["plot"+t],isNull:!1},{plotX:l,plotY:o["plot"+t],isNull:!1},{plotX:l,plotY:null,isNull:!0});l=o.plotX}return r.forEach(function(e){s=s.concat(c.prototype.getGraphPath.call(a,e))}),s},drawDataLabels:function(){var o,i,a,n,r=this,s=r.pointArrayMap;r.options.dataLabels.enabled&&(i=r.points.length,s.concat([!1]).forEach(function(e,t){for(n=i;n--;)a=r.points[n],e?(a.y=a[e],a.pivotLine=e,a.plotY=a["plot"+e],o=a["dataLabel"+e],t&&(a["dataLabel"+s[t-1]]=a.dataLabel),a.dataLabels||(a.dataLabels=[]),a.dataLabels[0]=a.dataLabel=o=o&&o.element?o:null):a["dataLabel"+s[t-1]]=a.dataLabel;c.prototype.drawDataLabels.apply(r,arguments)}))},getValues:function(e,t){var o,i,a,n,r,s,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=this[t.algorithm+"Placement"],m=[],y=[],f=[];if(!(u.length<p)&&g(c[0])&&4===c[0].length){for(l=p+1;l<=h+p;l+=p)a=u.slice(l-p-1,l),n=c.slice(l-p-1,l),o=a[(i=a.length)-1],s=d(this.getPivotAndHLC(n)),r=m.push([o].concat(s)),y.push(o),f.push(m[r-1].slice(1));return this.endPoint=a[0]+(o-a[0])/i*p,{values:m,xData:y,yData:f}}},getPivotAndHLC:function(e){var t=-1/0,o=1/0,i=e[e.length-1][3];return e.forEach(function(e){t=Math.max(t,e[1]),o=Math.min(o,e[2])}),[(t+o+i)/3,t,o,i]},standardPlacement:function(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]},camarillaPlacement:function(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]},fibonacciPlacement:function(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}},{destroyElements:function(){o(this,"destroyElements")},destroy:function(){o(this,"destroyElements")}})}),o(t,"Stock/Indicators/PPOIndicator.js",[t["Core/Globals.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,i,t){var h=t.correctFloat,d=t.error,m=e.seriesTypes.ema;e.seriesType("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var t=arguments,o=this;i.isParentLoaded(m,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){var o,i,a,n,r,s=t.periods,l=t.index,p=[],u=[],c=[];if(2!==s.length||s[1]<=s[0])d('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else if(i=m.prototype.getValues.call(this,e,{index:l,period:s[0]}),a=m.prototype.getValues.call(this,e,{index:l,period:s[1]}),i&&a){for(o=s[1]-s[0],r=0;r<a.yData.length;r++)n=h((i.yData[r+o]-a.yData[r])/a.yData[r]*100),p.push([a.xData[r],n]),u.push(a.xData[r]),c.push(n);return{values:p,xData:u,yData:c}}}})}),o(t,"Mixins/ReduceArray.js",[],function(){return{minInArray:function(e,o){return e.reduce(function(e,t){return Math.min(e,t[o])},Number.MAX_VALUE)},maxInArray:function(e,o){return e.reduce(function(e,t){return Math.max(e,t[o])},-Number.MAX_VALUE)},getArrayExtremes:function(e,o,i){return e.reduce(function(e,t){return[Math.min(e[0],t[o]),Math.max(e[1],t[i])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),o(t,"Stock/Indicators/PCIndicator.js",[t["Core/Series/Series.js"],t["Mixins/MultipleLines.js"],t["Mixins/ReduceArray.js"],t["Core/Utilities.js"]],function(e,t,o,i){var a=i.merge,f=o.getArrayExtremes;e.seriesType("pc","sma",{params:{period:20},lineWidth:1,topLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[2],lineWidth:1}},bottomLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[8],lineWidth:1}},dataGrouping:{approximation:"averages"}},a(t,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var o,i,a,n,r,s,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=[],m=[],y=[];if(!(h<p)){for(l=p;l<=h;l++)n=u[l-1],r=c.slice(l-p,l),o=((i=(s=f(r,2,1))[1])+(a=s[0]))/2,d.push([n,i,o,a]),m.push(n),y.push([i,o,a]);return{values:d,xData:m,yData:y}}}}))}),o(t,"Stock/Indicators/PriceEnvelopesIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var D=t.isArray,l=t.merge,x=e.seriesTypes.sma;e.seriesType("priceenvelopes","sma",{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle",init:function(){x.prototype.init.apply(this,arguments),this.options=l({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},toYData:function(e){return[e.top,e.middle,e.bottom]},translate:function(){var i=this,a=["plotTop","plotMiddle","plotBottom"];x.prototype.translate.apply(i),i.points.forEach(function(o){[o.top,o.middle,o.bottom].forEach(function(e,t){null!==e&&(o[a[t]]=i.yAxis.toPixels(e,!0))})})},drawGraph:function(){for(var e,o=this,t=o.points,i=t.length,a=o.options,n=o.graph,r={options:{gapSize:a.gapSize}},s=[[],[]];i--;)e=t[i],s[0].push({plotX:e.plotX,plotY:e.plotTop,isNull:e.isNull}),s[1].push({plotX:e.plotX,plotY:e.plotBottom,isNull:e.isNull});["topLine","bottomLine"].forEach(function(e,t){o.points=s[t],o.options=l(a[e].styles,r),o.graph=o["graph"+e],x.prototype.drawGraph.call(o),o["graph"+e]=o.graph}),o.points=t,o.options=a,o.graph=n,x.prototype.drawGraph.call(o)},getValues:function(e,t){var o,i,a,n,r,s,l,p,u=t.period,c=t.topBand,h=t.bottomBand,d=e.xData,m=e.yData,y=m?m.length:0,f=[],g=[],v=[];if(!(d.length<u)&&D(m[0])&&4===m[0].length){for(p=u;p<=y;p++)r=d.slice(p-u,p),s=m.slice(p-u,p),n=(l=x.prototype.getValues.call(this,{xData:r,yData:s},t)).xData[0],i=(o=l.yData[0])*(1+c),a=o*(1-h),f.push([n,i,o,a]),g.push(n),v.push([i,o,a]);return{values:f,xData:g,yData:v}}}})}),o(t,"Stock/Indicators/PSARIndicator.js",[t["Core/Series/Series.js"]],function(e){function _(e,t){return parseFloat(e.toFixed(t))}e.seriesType("psar","sma",{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}},{nameComponents:!1,getValues:function(e,t){var o,i,a,n,r,s,l,p,u,c,h,d,m,y,f,g,v,D,x,S,C,A,b,j,k,I,M,P,T,L,V,E,w,B,N=e.xData,G=e.yData,U=G[0][1],Y=t.initialAccelerationFactor,z=t.maxAccelerationFactor,W=t.increment,R=t.initialAccelerationFactor,X=G[0][2],F=t.decimals,O=t.index,Z=[],q=[],K=[],H=1;if(!(O>=G.length)){for(d=0;d<O;d++)U=Math.max(G[d][1],U),X=Math.min(G[d][2],_(X,F));for(o=G[d][1]>X?1:-1,i=U-X,a=(Y=t.initialAccelerationFactor)*i,Z.push([N[O],X]),q.push(N[O]),K.push(_(X,F)),d=O+1;d<G.length;d++)r=G[d-1][2],s=G[d-2][2],l=G[d-1][1],p=G[d-2][1],c=G[d][1],h=G[d][2],null!==s&&null!==p&&null!==r&&null!==l&&null!==c&&null!==h&&(P=X,T=a,L=s,V=r,E=l,w=p,B=U,X=(M=o)===H?1===M?P+T<Math.min(L,V)?P+T:Math.min(L,V):P+T>Math.max(w,E)?P+T:Math.max(w,E):B,I=U,C=k=h,A=j=c,b=X,y=u=1===o?I<j?j:I:k<I?k:I,f=U,g=Y,v=W,D=z,x=R,a=(Y=(m=n=1===(S=H)&&b<C||-1===S&&b<A?1:-1)===o?1===m&&f<y||-1===m&&y<f?g===D?D:_(g+v,2):g:x)*(i=u-X),Z.push([N[d],_(X,F)]),q.push(N[d]),K.push(_(X,F)),H=o,o=n,U=u);return{values:Z,xData:q,yData:K}}}})}),o(t,"Stock/Indicators/ROCIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var D=t.isArray;e.seriesType("roc","sma",{params:{index:3,period:9}},{nameBase:"Rate of Change",getValues:function(e,t){var o,i,a,n,r,s,l,p,u,c=t.period,h=e.xData,d=e.yData,m=d?d.length:0,y=[],f=[],g=[],v=-1;if(!(h.length<=c)){for(D(d[0])&&(v=t.index),o=c;o<m;o++)a=h,n=d,r=o,s=c,u=p=void 0,u=(l=v)<0?(p=n[r-s])?(n[r]-p)/p*100:null:(p=n[r-s][l])?(n[r][l]-p)/p*100:null,i=[a[r],u],y.push(i),f.push(i[0]),g.push(i[1]);return{values:y,xData:f,yData:g}}}})}),o(t,"Stock/Indicators/RSIIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var v=t.isArray;function D(e,t){return parseFloat(e.toFixed(t))}e.seriesType("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(e,t){var o,i,a,n,r,s=t.period,l=e.xData,p=e.yData,u=p?p.length:0,c=t.decimals,h=1,d=[],m=[],y=[],f=0,g=0;if(!(l.length<s)&&v(p[0])&&4===p[0].length){for(;h<s;)0<(i=D(p[h][3]-p[h-1][3],c))?f+=i:g+=Math.abs(i),h++;for(a=D(f/(s-1),c),n=D(g/(s-1),c),r=h;r<u;r++)g=0<(i=D(p[r][3]-p[r-1][3],c))?(f=i,0):(f=0,Math.abs(i)),a=D((a*(s-1)+f)/s,c),o=0===(n=D((n*(s-1)+g)/s,c))?100:0===a?0:D(100-100/(1+a/n),c),d.push([l[r],o]),m.push(l[r]),y.push(o);return{values:d,xData:m,yData:y}}}})}),o(t,"Stock/Indicators/StochasticIndicator.js",[t["Core/Series/Series.js"],t["Mixins/MultipleLines.js"],t["Mixins/ReduceArray.js"],t["Core/Utilities.js"]],function(e,t,o,i){var f=i.isArray,a=i.merge,g=e.seriesTypes.sma,v=o.getArrayExtremes;e.seriesType("stochastic","sma",{params:{periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},a(t,{nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"],init:function(){g.prototype.init.apply(this,arguments),this.options=a({smoothedLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var o,i,a,n,r,s=t.periods[0],l=t.periods[1],p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=[],y=null;if(!(c<s)&&f(u[0])&&4===u[0].length){for(r=s-1;r<c;r++)o=u.slice(r-s+1,r+1),i=(n=v(o,2,1))[0],a=(u[r][3]-i)/(n[1]-i)*100,d.push(p[r]),m.push([a,null]),s-1+(l-1)<=r&&(y=g.prototype.getValues.call(this,{xData:d.slice(-l),yData:m.slice(-l)},{period:l}).yData[0]),h.push([p[r],a,y]),m[m.length-1][1]=y;return{values:h,xData:d,yData:m}}}}))}),o(t,"Stock/Indicators/SlowStochasticIndicator.js",[t["Core/Series/Series.js"],t["Mixins/IndicatorRequired.js"]],function(e,i){var p=e.seriesTypes;e.seriesType("slowstochastic","stochastic",{params:{periods:[14,3,3]}},{nameBase:"Slow Stochastic",init:function(){var t=arguments,o=this;i.isParentLoaded(p.stochastic,"stochastic",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){var o=t.periods,i=p.stochastic.prototype.getValues.call(this,e,t),a={values:[],xData:[],yData:[]},n=0;if(i){a.xData=i.xData.slice(o[1]-1);var r=i.yData.slice(o[1]-1),s=p.sma.prototype.getValues.call(this,{xData:a.xData,yData:r},{index:1,period:o[2]});if(s){for(var l=a.xData.length;n<l;n++)a.yData[n]=[r[n][1],s.yData[n-o[2]+1]||null],a.values[n]=[a.xData[n],r[n][1],s.yData[n-o[2]+1]||null];return a}}}})}),o(t,"Stock/Indicators/SupertrendIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var o=e.seriesTypes,C=t.correctFloat,A=t.isArray,S=t.merge,b=t.objectEach,j=o.atr,k=o.sma;function I(e,t,o){return{index:t,close:e.yData[t][o],x:e.xData[t]}}e.seriesType("supertrend","sma",{params:{multiplier:3,period:10},risingTrendColor:"#06B535",fallingTrendColor:"#F21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}},{nameBase:"Supertrend",nameComponents:["multiplier","period"],requiredIndicators:["atr"],init:function(){var e,t;k.prototype.init.apply(this,arguments),e=this.options,t=this.linkedParent.options,e.cropThreshold=t.cropThreshold-(e.params.period-1)},drawGraph:function(){for(var e,t,o,i,a,n,r,s,l,p=this,u=p.options,c=p.linkedParent,h=c?c.points:[],d=p.points,m=p.graph,y=d.length,f=h.length-y,g=0<f?f:0,v={options:{gapSize:u.gapSize}},D={top:[],bottom:[],intersect:[]},x={top:{styles:{lineWidth:u.lineWidth,lineColor:u.fallingTrendColor||u.color,dashStyle:u.dashStyle}},bottom:{styles:{lineWidth:u.lineWidth,lineColor:u.risingTrendColor||u.color,dashStyle:u.dashStyle}},intersect:u.changeTrendLine};y--;)e=d[y],t=d[y-1],o=h[y-1+g],i=h[y-2+g],a=h[y+g],n=h[y+g+1],r=e.options.color,s={x:e.x,plotX:e.plotX,plotY:e.plotY,isNull:!1},!i&&o&&c.yData[o.index-1]&&(i=I(c,o.index-1,3)),!n&&a&&c.yData[a.index+1]&&(n=I(c,a.index+1,3)),!o&&i&&c.yData[i.index+1]?o=I(c,i.index+1,3):!o&&a&&c.yData[a.index-1]&&(o=I(c,a.index-1,3)),e&&o&&a&&i&&e.x!==o.x&&(e.x===a.x?(i=o,o=a):e.x===i.x?(o=i,i={close:c.yData[o.index-1][3],x:c.xData[o.index-1]}):n&&e.x===n.x&&(o=n,i=a)),t&&i&&o?(l={x:t.x,plotX:t.plotX,plotY:t.plotY,isNull:!1},e.y>=o.close&&t.y>=i.close?(e.color=r||u.fallingTrendColor||u.color,D.top.push(s)):e.y<o.close&&t.y<i.close?(e.color=r||u.risingTrendColor||u.color,D.bottom.push(s)):(D.intersect.push(s),D.intersect.push(l),D.intersect.push(S(l,{isNull:!0})),e.y>=o.close&&t.y<i.close?(e.color=r||u.fallingTrendColor||u.color,t.color=r||u.risingTrendColor||u.color,D.top.push(s),D.top.push(S(l,{isNull:!0}))):e.y<o.close&&t.y>=i.close&&(e.color=r||u.risingTrendColor||u.color,t.color=r||u.fallingTrendColor||u.color,D.bottom.push(s),D.bottom.push(S(l,{isNull:!0}))))):o&&(e.y>=o.close?(e.color=r||u.fallingTrendColor||u.color,D.top.push(s)):(e.color=r||u.risingTrendColor||u.color,D.bottom.push(s)));b(D,function(e,t){p.points=e,p.options=S(x[t].styles,v),p.graph=p["graph"+t+"Line"],k.prototype.drawGraph.call(p),p["graph"+t+"Line"]=p.graph}),p.points=d,p.options=u,p.graph=m},getValues:function(e,t){var o,i,a,n,r,s,l,p,u,c,h=t.period,d=t.multiplier,m=e.xData,y=e.yData,f=[],g=[],v=[],D=0===h?0:h-1,x=[],S=[];if(!(m.length<=h||!A(y[0])||4!==y[0].length||h<0)){for(o=j.prototype.getValues.call(this,e,{period:h}).yData,c=0;c<o.length;c++)u=y[D+c],p=y[D+c-1]||[],r=x[c-1],s=S[c-1],l=v[c-1],0===c&&(r=s=l=0),i=C((u[1]+u[2])/2+d*o[c]),a=C((u[1]+u[2])/2-d*o[c]),x[c]=i<r||r<p[3]?i:r,S[c]=s<a||p[3]<s?a:s,l===r&&u[3]<x[c]||l===s&&u[3]<S[c]?n=x[c]:(l===r&&u[3]>x[c]||l===s&&u[3]>S[c])&&(n=S[c]),f.push([m[D+c],n]),g.push(m[D+c]),v.push(n);return{values:f,xData:g,yData:v}}}})}),o(t,"Stock/Indicators/VBPIndicator.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Series/Series.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(e,t,n,o,i){var s=e.animObject,a=n.noop,r=i.addEvent,x=i.arrayMax,m=i.arrayMin,S=i.correctFloat,c=i.error,l=i.extend,h=i.isArray;var C=Math.abs,A=t.seriesTypes.column.prototype;t.seriesType("vbp","sma",{params:{ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}},{nameBase:"Volume by Price",bindTo:{series:!1,eventName:"afterSetExtremes"},calculateOn:"render",markerAttribs:a,drawGraph:a,getColumnMetrics:A.getColumnMetrics,crispCol:A.crispCol,init:function(e){var t,o,i,a=this;return n.seriesTypes.sma.prototype.init.apply(a,arguments),t=a.options.params,o=a.linkedParent,i=e.get(t.volumeSeriesID),a.addCustomEvents(o,i),a},addCustomEvents:function(e,t){var o=this;function i(){o.chart.redraw(),o.setData([]),o.zoneStarts=[],o.zoneLinesSVG&&(o.zoneLinesSVG.destroy(),delete o.zoneLinesSVG)}return o.dataEventsToUnbind.push(r(e,"remove",function(){i()})),t&&o.dataEventsToUnbind.push(r(t,"remove",function(){i()})),o},animate:function(e){var t,o,i=this,a=i.chart.inverted,n=i.group,r={};!e&&n&&(t=a?"translateY":"translateX",o=a?i.yAxis.top:i.xAxis.left,n["forceAnimate:"+t]=!0,r[t]=o,n.animate(r,l(s(i.options.animation),{step:function(e,t){i.group.attr({scaleX:Math.max(.001,t.pos)})}})))},drawPoints:function(){var e=this;e.options.volumeDivision.enabled&&(e.posNegVolume(!0,!0),A.drawPoints.apply(e,arguments),e.posNegVolume(!1,!1)),A.drawPoints.apply(e,arguments)},posNegVolume:function(e,t){var o,i,a,n,r=this,s=t?["positive","negative"]:["negative","positive"],l=r.options.volumeDivision,p=r.points.length,u=[],c=[],h=0;for(e?(r.posWidths=u,r.negWidths=c):(u=r.posWidths,c=r.negWidths);h<p;h++)(n=r.points[h])[s[0]+"Graphic"]=n.graphic,n.graphic=n[s[1]+"Graphic"],e&&(o=n.shapeArgs.width,(a=(i=r.priceZones[h]).wholeVolumeData)?(u.push(o/a*i.positiveVolumeData),c.push(o/a*i.negativeVolumeData)):(u.push(0),c.push(0))),n.color=t?l.styles.positiveColor:l.styles.negativeColor,n.shapeArgs.width=t?r.posWidths[h]:r.negWidths[h],n.shapeArgs.x=t?n.shapeArgs.x:r.posWidths[h]},translate:function(){var e,t,o,i,a,n,r,s,l,p,u,c,h=this,d=h.options,m=h.chart,y=h.yAxis,f=y.min,g=h.options.zoneLines,v=h.priceZones,D=0;A.translate.apply(h),(e=h.points).length&&(l=d.pointPadding<.5?d.pointPadding:.1,t=h.volumeDataArray,o=x(t),i=m.plotWidth/2,p=m.plotTop,a=C(y.toPixels(f)-y.toPixels(f+h.rangeStep)),r=C(y.toPixels(f)-y.toPixels(f+h.rangeStep)),l&&(n=C(a*(1-2*l)),D=C((a-n)/2),a=C(n)),e.forEach(function(e,t){u=e.barX=e.plotX=0,c=e.plotY=y.toPixels(v[t].start)-p-(y.reversed?a-r:a)-D,s=S(i*v[t].wholeVolumeData/o),e.pointWidth=s,e.shapeArgs=h.crispCol.apply(h,[u,c,s,a]),e.volumeNeg=v[t].negativeVolumeData,e.volumePos=v[t].positiveVolumeData,e.volumeAll=v[t].wholeVolumeData}),g.enabled&&h.drawZones(m,y,h.zoneStarts,g.styles))},getValues:function(e,t){var o,i,a=e.processedXData,n=e.processedYData,r=this.chart,s=t.ranges,l=[],p=[],u=[];if(e.chart)if(i=r.get(t.volumeSeriesID)){if(!(o=h(n[0]))||4===n[0].length)return(this.priceZones=this.specifyZones(o,a,n,s,i)).forEach(function(e,t){l.push([e.x,e.end]),p.push(l[t][0]),u.push(l[t][1])}),{values:l,xData:p,yData:u};c("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,r)}else c("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,r);else c("Base series not found! In case it has been removed, add a new one.",!0,r)},specifyZones:function(e,t,o,i,a){var n,r,s=!!e&&function(e){for(var t,o=e.length,i=e[0][3],a=i,n=1;n<o;n++)(t=e[n][3])<i&&(i=t),a<t&&(a=t);return{min:i,max:a}}(o),l=s?s.min:m(o),p=s?s.max:x(o),u=this.zoneStarts=[],c=[],h=0,d=1;if(!l||!p)return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG.destroy()),[];for(n=this.rangeStep=S(p-l)/i,u.push(l);h<i-1;h++)u.push(S(u[h]+n));for(u.push(p),r=u.length;d<r;d++)c.push({index:d-1,x:t[0],start:u[d-1],end:u[d]});return this.volumePerZone(e,c,a,t,o)},volumePerZone:function(t,e,o,i,a){var n,r,s,l,p,u=this,c=o.processedXData,h=o.processedYData,d=e.length-1,m=a.length,y=h.length;return C(m-y)&&(i[0]!==c[0]&&h.unshift(0),i[m-1]!==c[y-1]&&h.push(0)),u.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,e.negativeVolumeData=0,p=0;p<m;p++)s=r=!1,l=t?a[p][3]:a[p],n=p?t?a[p-1][3]:a[p-1]:l,l<=e.start&&0===e.index&&(r=!0),l>=e.end&&e.index===d&&(s=!0),(l>e.start||r)&&(l<e.end||s)&&(e.wholeVolumeData+=h[p],l<n?e.negativeVolumeData+=h[p]:e.positiveVolumeData+=h[p]);u.volumeDataArray.push(e.wholeVolumeData)}),e},drawZones:function(t,o,e,i){var a,n=t.renderer,r=this.zoneLinesSVG,s=[],l=t.plotWidth,p=t.plotTop;e.forEach(function(e){a=o.toPixels(e)-p,s=s.concat(t.renderer.crispLine([["M",0,a],["L",l,a]],i.lineWidth))}),r?r.animate({d:s}):r=this.zoneLinesSVG=n.path(s).attr({"stroke-width":i.lineWidth,stroke:i.color,dashstyle:i.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}},{destroy:function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),o.prototype.destroy.apply(this,arguments)}})}),o(t,"Stock/Indicators/VWAPIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var l=t.error,p=t.isArray;e.seriesType("vwap","sma",{params:{period:30,volumeSeriesID:"volume"}},{getValues:function(e,t){var o,i=e.chart,a=e.xData,n=e.yData,r=t.period,s=!0;if(o=i.get(t.volumeSeriesID))return p(n[0])||(s=!1),this.calculateVWAPValues(s,a,n,o,r);l("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,i)},calculateVWAPValues:function(e,t,o,i,a){for(var n,r,s,l=i.yData,p=i.xData.length,u=t.length,c=[],h=[],d=[],m=[],y=[],f=u<=p?u:p,g=0,v=0;g<f;g++)n=e?(o[g][1]+o[g][2]+o[g][3])/3:o[g],n*=l[g],r=v?c[g-1]+n:n,s=v?h[g-1]+l[g]:l[g],c.push(r),h.push(s),y.push([t[g],r/s]),d.push(y[g][0]),m.push(y[g][1]),++v===a&&(v=0);return{values:y,xData:d,yData:m}}})}),o(t,"Stock/Indicators/WilliamsRIndicator.js",[t["Core/Series/Series.js"],t["Mixins/ReduceArray.js"],t["Core/Utilities.js"]],function(e,t,o){var y=t.getArrayExtremes,f=o.isArray;e.seriesType("williamsr","sma",{params:{period:14}},{nameBase:"Williams %R",getValues:function(e,t){var o,i,a,n,r,s,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=[];if(!(p.length<l)&&f(u[0])&&4===u[0].length){for(s=l-1;s<c;s++)o=u.slice(s-l+1,s+1),r=(i=y(o,2,1))[0],a=((n=i[1])-u[s][3])/(n-r)*-100,p[s]&&(h.push([p[s],a]),d.push(p[s]),m.push(a));return{values:h,xData:d,yData:m}}}})}),o(t,"Stock/Indicators/WMAIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var f=t.isArray;function g(e,t,o,i,a){var n=t[i],r=a<0?o[i]:o[i][a];e.push([n,r])}function v(e,t,o,i){var a,n,r=e.length,s=(n=((a=r)+1)/2*a,e.reduce(function(e,t,o){return[null,e[1]+t[1]*(o+1)]})[1]/n),l=t[i-1];return e.shift(),[l,s]}e.seriesType("wma","sma",{params:{index:3,period:9}},{getValues:function(e,t){var o,i,a,n=t.period,r=e.xData,s=e.yData,l=s?s.length:0,p=1,u=r[0],c=s[0],h=[],d=[],m=[],y=-1;if(!(r.length<n)){for(f(s[0])&&(y=t.index,c=s[0][y]),i=[[u,c]];p!==n;)g(i,r,s,p,y),p++;for(o=p;o<l;o++)a=v(i,r,0,o),h.push(a),d.push(a[0]),m.push(a[1]),g(i,r,s,o,y);return a=v(i,r,0,o),h.push(a),d.push(a[0]),m.push(a[1]),{values:h,xData:d,yData:m}}}})}),o(t,"Stock/Indicators/ZigzagIndicator.js",[t["Core/Series/Series.js"]],function(e){e.seriesType("zigzag","sma",{params:{lowIndex:2,highIndex:1,deviation:1}},{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag",getValues:function(e,t){var o,i,a,n,r,s,l,p=t.lowIndex,u=t.highIndex,c=t.deviation/100,h=1+c,d=1-c,m=e.xData,y=e.yData,f=y?y.length:0,g=[],v=[],D=[],x=!1,S=!1;if(!(!m||m.length<=1||f&&(void 0===y[0][p]||void 0===y[0][u]))){for(n=y[0][p],r=y[0][u],o=1;o<f;o++)y[o][p]<=r*d?(g.push([m[0],r]),a=[m[o],y[o][p]],x=s=!0):y[o][u]>=n*h&&(g.push([m[0],n]),x=!(s=!(a=[m[o],y[o][u]]))),x&&(v.push(g[0][0]),D.push(g[0][1]),i=o++,o=f);for(o=i;o<f;o++)s?(y[o][p]<=a[1]&&(a=[m[o],y[o][p]]),y[o][u]>=a[1]*h&&(S=u)):(y[o][u]>=a[1]&&(a=[m[o],y[o][u]]),y[o][p]<=a[1]*d&&(S=p)),!1!==S&&(g.push(a),v.push(a[0]),D.push(a[1]),s=!s,S=!(a=[m[o],y[o][S]]));return 0!==(l=g.length)&&g[l-1][0]<m[f-1]&&(g.push(a),v.push(a[0]),D.push(a[1])),{values:g,xData:v,yData:D}}}})}),o(t,"Stock/Indicators/RegressionIndicators.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var d=t.isArray;e.seriesType("linearRegression","sma",{params:{xAxisUnit:void 0},tooltip:{valueDecimals:4}},{nameBase:"Linear Regression Indicator",getRegressionLineParameters:function(e,t){for(var o,i,a=this.options.params.index,n=function(e,t){return d(e)?e[t]:e},r=e.reduce(function(e,t){return t+e},0),s=t.reduce(function(e,t){return n(t,a)+e},0),l=r/e.length,p=s/t.length,u=0,c=0,h=0;h<e.length;h++)u+=(o=e[h]-l)*(n(t[h],a)-p),c+=Math.pow(o,2);return{slope:i=c?u/c:0,intercept:p-i*l}},getEndPointY:function(e,t){return e.slope*t+e.intercept},transformXData:function(e,t){var o=e[0];return e.map(function(e){return(e-o)/t})},findClosestDistance:function(e){for(var t,o,i=1;i<e.length-1;i++)0<(t=e[i]-e[i-1])&&(void 0===o||t<o)&&(o=t);return o},getValues:function(e,t){for(var o,i,a,n,r,s,l,p,u=e.xData,c=e.yData,h=t.period,d={xData:[],yData:[],values:[]},m=this.options.params.xAxisUnit||this.findClosestDistance(u),y=h-1;y<=u.length-1;y++)i=y-h+1,a=y+1,n=u[y],s=u.slice(i,a),l=c.slice(i,a),p=this.transformXData(s,m),o=this.getRegressionLineParameters(p,l),r=this.getEndPointY(o,p[p.length-1]),d.values.push({regressionLineParameters:o,x:n,y:r}),d.xData.push(n),d.yData.push(r);return d}}),e.seriesType("linearRegressionSlope","linearRegression",{},{nameBase:"Linear Regression Slope Indicator",getEndPointY:function(e){return e.slope}}),e.seriesType("linearRegressionIntercept","linearRegression",{},{nameBase:"Linear Regression Intercept Indicator",getEndPointY:function(e){return e.intercept}}),e.seriesType("linearRegressionAngle","linearRegression",{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}},{nameBase:"Linear Regression Angle Indicator",slopeToAngle:function(e){return Math.atan(e)*(180/Math.PI)},getEndPointY:function(e){return this.slopeToAngle(e.slope)}})}),o(t,"Stock/Indicators/ABIndicator.js",[t["Core/Series/Series.js"],t["Mixins/MultipleLines.js"],t["Core/Utilities.js"]],function(e,t,o){var I=o.correctFloat,i=o.merge,M=e.seriesTypes.sma;e.seriesType("abands","sma",{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},i(t,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Acceleration Bands",nameComponents:["period","factor"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var o,i,a,n,r,s,l,p,u,c,h,d,m,y,f=t.period,g=t.factor,v=t.index,D=e.xData,x=e.yData,S=x?x.length:0,C=[],A=[],b=[],j=[],k=[];if(!(S<f)){for(h=0;h<=S;h++)h<S&&(d=x[h][2],m=x[h][1],y=g,r=I(m-d)/(I(m+d)/2)*1e3*y,C.push(x[h][1]*I(1+2*r)),A.push(x[h][2]*I(1-2*r))),f<=h&&(u=D.slice(h-f,h),c=x.slice(h-f,h),l=M.prototype.getValues.call(this,{xData:u,yData:C.slice(h-f,h)},{period:f}),p=M.prototype.getValues.call(this,{xData:u,yData:A.slice(h-f,h)},{period:f}),n=(s=M.prototype.getValues.call(this,{xData:u,yData:c},{period:f,index:v})).xData[0],i=l.yData[0],a=p.yData[0],o=s.yData[0],b.push([n,i,o,a]),j.push(n),k.push([i,o,a]));return{values:b,xData:j,yData:k}}}}))}),o(t,"Stock/Indicators/TrendLineIndicator.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(e,t){var v=t.isArray;e.seriesType("trendline","sma",{params:{index:3}},{nameBase:"Trendline",nameComponents:!1,getValues:function(e,t){for(var o,i,a,n,r=e.xData,s=e.yData,l=[],p=[],u=[],c=0,h=0,d=0,m=0,y=r.length,f=t.index,g=0;g<y;g++)c+=a=r[g],h+=n=v(s[g])?s[g][f]:s[g],d+=a*n,m+=a*a;for(o=(y*d-c*h)/(y*m-c*c),isNaN(o)&&(o=0),i=(h-o*c)/y,g=0;g<y;g++)n=o*(a=r[g])+i,l[g]=[a,n],p[g]=a,u[g]=n;return{xData:p,yData:u,values:l}}})}),o(t,"masters/indicators/indicators-all.src.js",[],function(){})});