import BaseSeries from"../../Core/Series/Series.js";BaseSeries.seriesType("zigzag","sma",{params:{lowIndex:2,highIndex:1,deviation:1}},{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag",getValues:function(e,s){var a,i,n,h,o,t,u,p=s.lowIndex,r=s.highIndex,g=s.deviation/100,d=1+g,m=1-g,f=e.xData,l=e.yData,v=l?l.length:0,x=[],S=[],D=[],I=!1,y=!1;if(!(!f||f.length<=1||v&&(void 0===l[0][p]||void 0===l[0][r]))){for(h=l[0][p],o=l[0][r],a=1;a<v;a++)l[a][p]<=o*m?(x.push([f[0],o]),n=[f[a],l[a][p]],t=!0,I=!0):l[a][r]>=h*d&&(x.push([f[0],h]),n=[f[a],l[a][r]],t=!1,I=!0),I&&(S.push(x[0][0]),D.push(x[0][1]),i=a++,a=v);for(a=i;a<v;a++)t?(l[a][p]<=n[1]&&(n=[f[a],l[a][p]]),l[a][r]>=n[1]*d&&(y=r)):(l[a][r]>=n[1]&&(n=[f[a],l[a][r]]),l[a][p]<=n[1]*m&&(y=p)),!1!==y&&(x.push(n),S.push(n[0]),D.push(n[1]),n=[f[a],l[a][y]],t=!t,y=!1);return 0!==(u=x.length)&&x[u-1][0]<f[v-1]&&(x.push(n),S.push(n[0]),D.push(n[1])),{values:x,xData:S,yData:D}}}});