import BaseSeries from"../../Core/Series/Series.js";import RequiredIndicatorMixin from"../../Mixins/IndicatorRequired.js";import U from"../../Core/Utilities.js";var error=U.error,EMA=BaseSeries.seriesTypes.ema;BaseSeries.seriesType("apo","ema",{params:{periods:[10,20]}},{nameBase:"APO",nameComponents:["periods"],init:function(){var e=arguments,r=this;RequiredIndicatorMixin.isParentLoaded(EMA,"ema",r.type,function(i){i.prototype.init.apply(r,e)})},getValues:function(e,r){var i,t,a,o,s,n=r.periods,p=r.index,d=[],u=[],l=[];if(2!==n.length||n[1]<=n[0])error('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else if(t=EMA.prototype.getValues.call(this,e,{index:p,period:n[0]}),a=EMA.prototype.getValues.call(this,e,{index:p,period:n[1]}),t&&a){for(i=n[1]-n[0],s=0;s<a.yData.length;s++)o=t.yData[s+i]-a.yData[s],d.push([a.xData[s],o]),u.push(a.xData[s]),l.push(o);return{values:d,xData:u,yData:l}}}});