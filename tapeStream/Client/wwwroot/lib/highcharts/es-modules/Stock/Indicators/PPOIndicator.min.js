import BaseSeries from"../../Core/Globals.js";import RequiredIndicatorMixin from"../../Mixins/IndicatorRequired.js";import U from"../../Core/Utilities.js";var correctFloat=U.correctFloat,error=U.error,EMA=BaseSeries.seriesTypes.ema;BaseSeries.seriesType("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var e=arguments,r=this;RequiredIndicatorMixin.isParentLoaded(EMA,"ema",r.type,function(t){t.prototype.init.apply(r,e)})},getValues:function(e,r){var t,i,o,a,s,n=r.periods,p=r.index,d=[],l=[],c=[];if(2!==n.length||n[1]<=n[0])error('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else if(i=EMA.prototype.getValues.call(this,e,{index:p,period:n[0]}),o=EMA.prototype.getValues.call(this,e,{index:p,period:n[1]}),i&&o){for(t=n[1]-n[0],s=0;s<o.yData.length;s++)a=correctFloat((i.yData[s+t]-o.yData[s])/o.yData[s]*100),d.push([o.xData[s],a]),l.push(o.xData[s]),c.push(a);return{values:d,xData:l,yData:c}}}});