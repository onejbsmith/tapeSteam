import BaseSeries from"../../Core/Series/Series.js";import H from"../../Core/Globals.js";var noop=H.noop;import U from"../../Core/Utilities.js";var correctFloat=U.correctFloat,isArray=U.isArray;BaseSeries.seriesType("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:noop,getColumnMetrics:H.seriesTypes.column.prototype.getColumnMetrics,crispCol:H.seriesTypes.column.prototype.crispCol,translate:H.seriesTypes.column.prototype.translate,drawPoints:H.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var r,o=this.options,e=this.points,t=this.userOptions.color,s=o.greaterBarColor,a=o.lowerBarColor,l=e[0];if(!t&&l)for(l.color=s,r=1;r<e.length;r++)e[r].y>e[r-1].y?e[r].color=s:e[r].y<e[r-1].y?e[r].color=a:e[r].color=e[r-1].color},getValues:function(r){var o,e,t,s,a,l,i=r.xData||[],c=r.yData||[],n=c.length,p=[],y=[],m=[],u=0,h=0;if(!(i.length<=34)&&isArray(c[0])&&4===c[0].length){for(a=0;a<33;a++)s=(c[a][1]+c[a][2])/2,a>=29&&(u=correctFloat(u+s)),h=correctFloat(h+s);for(l=33;l<n;l++)s=(c[l][1]+c[l][2])/2,u=correctFloat(u+s),h=correctFloat(h+s),o=correctFloat(u/5-h/34),p.push([i[l],o]),y.push(i[l]),m.push(o),t=l+1-34,u=correctFloat(u-(c[e=l+1-5][1]+c[e][2])/2),h=correctFloat(h-(c[t][1]+c[t][2])/2);return{values:p,xData:y,yData:m}}}});