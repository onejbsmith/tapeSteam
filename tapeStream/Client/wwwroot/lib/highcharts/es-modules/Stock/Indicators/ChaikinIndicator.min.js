import BaseSeries from"../../Core/Series/Series.js";var seriesTypes=BaseSeries.seriesTypes;import RequiredIndicatorMixin from"../../Mixins/IndicatorRequired.js";import U from"../../Core/Utilities.js";var correctFloat=U.correctFloat,error=U.error;import"./ADIndicator.js";var EMA=seriesTypes.ema,AD=seriesTypes.ad;BaseSeries.seriesType("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var e=arguments,r=this;RequiredIndicatorMixin.isParentLoaded(EMA,"ema",r.type,function(i){i.prototype.init.apply(r,e)})},getValues:function(e,r){var i,o,s,t,a,p,n=r.periods,l=r.period,d=[],u=[],c=[];if(2!==n.length||n[1]<=n[0])error('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((i=AD.prototype.getValues.call(this,e,{volumeSeriesID:r.volumeSeriesID,period:l}))&&(s=EMA.prototype.getValues.call(this,i,{period:n[0]}),t=EMA.prototype.getValues.call(this,i,{period:n[1]}),s&&t)){for(o=n[1]-n[0],p=0;p<t.yData.length;p++)a=correctFloat(s.yData[p+o]-t.yData[p]),d.push([t.xData[p],a]),u.push(t.xData[p]),c.push(a);return{values:d,xData:u,yData:c}}}});