import BaseSeries from"../../Core/Series/Series.js";import U from"../../Core/Utilities.js";var isArray=U.isArray;function toFixed(e,i){return parseFloat(e.toFixed(i))}BaseSeries.seriesType("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(e,i){var r,a,t,s,o,d=i.period,x=e.xData,p=e.yData,F=p?p.length:0,l=i.decimals,n=1,u=[],h=[],m=[],f=0,y=0;if(!(x.length<d)&&isArray(p[0])&&4===p[0].length){for(;n<d;)(a=toFixed(p[n][3]-p[n-1][3],l))>0?f+=a:y+=Math.abs(a),n++;for(t=toFixed(f/(d-1),l),s=toFixed(y/(d-1),l),o=n;o<F;o++)(a=toFixed(p[o][3]-p[o-1][3],l))>0?(f=a,y=0):(f=0,y=Math.abs(a)),t=toFixed((t*(d-1)+f)/d,l),r=0===(s=toFixed((s*(d-1)+y)/d,l))?100:0===t?0:toFixed(100-100/(1+t/s),l),u.push([x[o],r]),h.push(x[o]),m.push(r);return{values:u,xData:h,yData:m}}}});