import BaseSeries from"../../Core/Series/Series.js";import U from"../../Core/Utilities.js";var isArray=U.isArray;BaseSeries.seriesType("trendline","sma",{params:{index:3}},{nameBase:"Trendline",nameComponents:!1,getValues:function(e,r){var a,s,i,n,t,o=e.xData,m=e.yData,l=[],y=[],f=[],p=0,d=0,u=0,x=0,D=o.length,S=r.index;for(i=0;i<D;i++)p+=n=o[i],d+=t=isArray(m[i])?m[i][S]:m[i],u+=n*t,x+=n*n;for(a=(D*u-p*d)/(D*x-p*p),isNaN(a)&&(a=0),s=(d-a*p)/D,i=0;i<D;i++)t=a*(n=o[i])+s,l[i]=[n,t],y[i]=n,f[i]=t;return{xData:y,yData:f,values:l}}});