import BaseSeries from"../../Core/Series/Series.js";import U from"../../Core/Utilities.js";var correctFloat=U.correctFloat,isArray=U.isArray;BaseSeries.seriesType("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(r,e,a){for(var t=0,i=0;i<r;)t+=e<0?a[i]:a[i][e],i++;return t},calculateEma:function(r,e,a,t,i,s,o){var c=r[a-1],u=s<0?e[a-1]:e[a-1][s];return[c,void 0===i?o:correctFloat(u*t+i*(1-t))]},getValues:function(r,e){var a,t,i,s,o=e.period,c=r.xData,u=r.yData,n=u?u.length:0,l=2/(o+1),m=[],p=[],d=[],f=-1;if(!(n<o)){for(isArray(u[0])&&(f=e.index?e.index:0),a=this.accumulatePeriodPoints(o,f,u)/o,s=o;s<n+1;s++)i=this.calculateEma(c,u,s,l,t,f,a),m.push(i),p.push(i[0]),d.push(i[1]),t=i[1];return{values:m,xData:p,yData:d}}}});