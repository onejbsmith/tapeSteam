import BaseSeries from"../../Core/Series/Series.js";import U from"../../Core/Utilities.js";var error=U.error;function populateAverage(e,r,a,t){var o=r[t][1],s=r[t][2],i=r[t][3],u=a[t],n=i===o&&i===s||o===s?0:(2*i-s-o)/(o-s)*u;return[e[t],n]}BaseSeries.seriesType("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(e,r){var a,t,o,s=r.period,i=e.xData,u=e.yData,n=r.volumeSeriesID,l=e.chart.get(n),m=l&&l.yData,p=u?u.length:0,h=[],v=[],D=[];if(!(i.length<=s&&p&&4!==u[0].length)){if(l){for(t=s;t<p;t++)a=h.length,o=populateAverage(i,u,m,t,s),a>0&&(o[1]+=h[a-1][1]),h.push(o),v.push(o[0]),D.push(o[1]);return{values:h,xData:v,yData:D}}error("Series "+n+" not found! Check `volumeSeriesID`.",!0,e.chart)}}});