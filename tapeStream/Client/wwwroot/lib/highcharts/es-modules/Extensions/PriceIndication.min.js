"use strict";import H from"../Core/Globals.js";import U from"../Core/Utilities.js";var addEvent=U.addEvent,isArray=U.isArray,merge=U.merge;addEvent(H.Series,"afterRender",function(){var s=this.options,i=s.pointRange,r=s.lastVisiblePrice,t=s.lastPrice;if((r||t)&&"highcharts-navigator-series"!==s.id){var e,a,o,l=this.xAxis,c=this.yAxis,h=c.crosshair,n=c.cross,b=c.crossLabel,y=this.points,d=this.yData.length,P=y.length,p=this.xData[this.xData.length-1],x=this.yData[d-1];t&&t.enabled&&(c.crosshair=c.options.crosshair=s.lastPrice,c.cross=this.lastPrice,a=isArray(x)?x[3]:x,c.drawCrosshair(null,{x:p,y:a,plotX:l.toPixels(p,!0),plotY:c.toPixels(a,!0)}),this.yAxis.cross&&(this.lastPrice=this.yAxis.cross,this.lastPrice.y=a)),r&&r.enabled&&P>0&&(o=y[P-1].x===p||null===i?1:2,c.crosshair=c.options.crosshair=merge({color:"transparent"},s.lastVisiblePrice),c.cross=this.lastVisiblePrice,e=y[P-o],this.crossLabel&&(this.crossLabel.destroy(),delete c.crossLabel),c.drawCrosshair(null,e),c.cross&&(this.lastVisiblePrice=c.cross,"number"==typeof e.y&&(this.lastVisiblePrice.y=e.y)),this.crossLabel=c.crossLabel),c.crosshair=h,c.cross=n,c.crossLabel=b}});