import H from"../../Core/Globals.js";import U from"../../Core/Utilities.js";var defined=U.defined,extend=U.extend,fireEvent=U.fireEvent;import Axis from"../../Core/Axis/Axis.js";import"../../Series/LineSeries.js";var MockPoint=function(){function t(t,i,s){this.isInside=void 0,this.plotX=void 0,this.plotY=void 0,this.x=void 0,this.y=void 0,this.mock=!0,this.series={visible:!0,chart:t,getPlotBox:H.Series.prototype.getPlotBox},this.target=i||null,this.options=s,this.applyOptions(this.getOptions())}return t.fromPoint=function(i){return new t(i.series.chart,null,{x:i.x,y:i.y,xAxis:i.series.xAxis,yAxis:i.series.yAxis})},t.pointToPixels=function(t,i){var s,o=t.series,e=o.chart,n=t.plotX,r=t.plotY;return e.inverted&&(t.mock?(n=t.plotY,r=t.plotX):(n=e.plotWidth-t.plotY,r=e.plotHeight-t.plotX)),o&&!i&&(n+=(s=o.getPlotBox()).translateX,r+=s.translateY),{x:n,y:r}},t.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},t.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},t.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},t.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},t.prototype.setAxis=function(t,i){var s=i+"Axis",o=t[s],e=this.series.chart;this.series[s]=o instanceof Axis?o:defined(o)?e[s][o]||e.get(o):null},t.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},t.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},t.prototype.isInsidePlot=function(){var t=this.plotX,i=this.plotY,s=this.series.xAxis,o=this.series.yAxis,e={x:t,y:i,isInsidePlot:!0};return s&&(e.isInsidePlot=defined(t)&&t>=0&&t<=s.len),o&&(e.isInsidePlot=e.isInsidePlot&&defined(i)&&i>=0&&i<=o.len),fireEvent(this.series.chart,"afterIsInsidePlot",e),e.isInsidePlot},t.prototype.refresh=function(){var t=this.series,i=t.xAxis,s=t.yAxis,o=this.getOptions();i?(this.x=o.x,this.plotX=i.toPixels(o.x,!0)):(this.x=null,this.plotX=o.x),s?(this.y=o.y,this.plotY=s.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()},t.prototype.translate=function(t,i,s,o){this.hasDynamicOptions()||(this.plotX+=s,this.plotY+=o,this.refreshOptions())},t.prototype.scale=function(t,i,s,o){if(!this.hasDynamicOptions()){var e=this.plotX*s,n=this.plotY*o,r=(1-s)*t,h=(1-o)*i;this.plotX=r+e,this.plotY=h+n,this.refreshOptions()}},t.prototype.rotate=function(t,i,s){if(!this.hasDynamicOptions()){var o,e,n=Math.cos(s),r=Math.sin(s),h=this.plotX,p=this.plotY;o=(h-=t)*n-(p-=i)*r,e=h*r+p*n,this.plotX=o+t,this.plotY=e+i,this.refreshOptions()}},t.prototype.refreshOptions=function(){var t=this.series,i=t.xAxis,s=t.yAxis;this.x=this.options.x=i?this.options.x=i.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=s?s.toValue(this.plotY,!0):this.plotY},t}();export default MockPoint;