"use strict";import Highcharts from"../Core/Globals.js";var win=Highcharts.win,nav=win.navigator,doc=win.document,domurl=win.URL||win.webkitURL||win,isEdgeBrowser=/Edge\/\d+/.test(nav.userAgent),dataURLtoBlob=Highcharts.dataURLtoBlob=function(o){var e=o.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(e&&e.length>3&&win.atob&&win.ArrayBuffer&&win.Uint8Array&&win.Blob&&domurl.createObjectURL){for(var t=win.atob(e[3]),n=new win.ArrayBuffer(t.length),r=new win.Uint8Array(n),a=0;a<r.length;++a)r[a]=t.charCodeAt(a);var i=new win.Blob([r],{type:e[1]});return domurl.createObjectURL(i)}},downloadURL=Highcharts.downloadURL=function(o,e){var t=doc.createElement("a");if("string"==typeof o||o instanceof String||!nav.msSaveOrOpenBlob){if(o=""+o,(isEdgeBrowser||o.length>2e6)&&!(o=dataURLtoBlob(o)||""))throw new Error("Failed to convert to blob");if(void 0!==t.download)t.href=o,t.download=e,doc.body.appendChild(t),t.click(),doc.body.removeChild(t);else try{if(null==win.open(o,"chart"))throw new Error("Failed to open window")}catch(e){win.location.href=o}}else nav.msSaveOrOpenBlob(o,e)},exports={dataURLtoBlob:dataURLtoBlob,downloadURL:downloadURL};export default exports;