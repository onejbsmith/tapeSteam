"use strict";import H from"./Globals.js";import U from"./Utilities.js";var isNumber=U.isNumber,merge=U.merge,pInt=U.pInt,Color=function(){function t(r){if(this.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[pInt(t[1]),pInt(t[2]),pInt(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[pInt(t[1]),pInt(t[2]),pInt(t[3]),1]}}],this.rgba=[],!(this instanceof t))return new t(r);this.init(r)}return t.parse=function(r){return new t(r)},t.prototype.init=function(r){var s,e,n,o,i;if(this.input=r=t.names[r&&r.toLowerCase?r.toLowerCase():""]||r,r&&r.stops)this.stops=r.stops.map(function(r){return new t(r[1])});else if(r&&r.charAt&&"#"===r.charAt()&&(i=r.length,r=parseInt(r.substr(1),16),7===i?e=[(16711680&r)>>16,(65280&r)>>8,255&r,1]:4===i&&(e=[(3840&r)>>4|(3840&r)>>8,(240&r)>>4|240&r,(15&r)<<4|15&r,1])),!e)for(n=this.parsers.length;n--&&!e;)(s=(o=this.parsers[n]).regex.exec(r))&&(e=o.parse(s));this.rgba=e||[]},t.prototype.get=function(t){var r,s=this.input,e=this.rgba;return void 0!==this.stops?((r=merge(s)).stops=[].concat(r.stops),this.stops.forEach(function(s,e){r.stops[e]=[r.stops[e][0],s.get(t)]})):r=e&&isNumber(e[0])?"rgb"===t||!t&&1===e[3]?"rgb("+e[0]+","+e[1]+","+e[2]+")":"a"===t?e[3]:"rgba("+e.join(",")+")":s,r},t.prototype.brighten=function(t){var r,s=this.rgba;if(this.stops)this.stops.forEach(function(r){r.brighten(t)});else if(isNumber(t)&&0!==t)for(r=0;r<3;r++)s[r]+=pInt(255*t),s[r]<0&&(s[r]=0),s[r]>255&&(s[r]=255);return this},t.prototype.setOpacity=function(t){return this.rgba[3]=t,this},t.prototype.tweenTo=function(t,r){var s,e=this.rgba,n=t.rgba;return n.length&&e&&e.length?((s=1!==n[3]||1!==e[3])?"rgba(":"rgb(")+Math.round(n[0]+(e[0]-n[0])*(1-r))+","+Math.round(n[1]+(e[1]-n[1])*(1-r))+","+Math.round(n[2]+(e[2]-n[2])*(1-r))+(s?","+(n[3]+(e[3]-n[3])*(1-r)):"")+")":t.input||"none"},t.names={white:"#ffffff",black:"#000000"},t}();H.Color=Color,H.color=Color.parse;export default H.Color;