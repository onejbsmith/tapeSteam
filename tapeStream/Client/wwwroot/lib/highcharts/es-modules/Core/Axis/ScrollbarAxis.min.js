import H from"../Globals.js";import U from"../Utilities.js";var addEvent=U.addEvent,defined=U.defined,pick=U.pick,ScrollbarAxis=function(){function i(){}return i.compose=function(i,t){addEvent(i,"afterInit",function(){var i=this;i.options&&i.options.scrollbar&&i.options.scrollbar.enabled&&(i.options.scrollbar.vertical=!i.horiz,i.options.startOnTick=i.options.endOnTick=!1,i.scrollbar=new t(i.chart.renderer,i.options.scrollbar,i.chart),addEvent(i.scrollbar,"changed",function(t){var s,o,e=pick(i.options&&i.options.min,i.min),h=pick(i.options&&i.options.max,i.max),a=defined(i.dataMin)?Math.min(e,i.min,i.dataMin):e,n=(defined(i.dataMax)?Math.max(h,i.max,i.dataMax):h)-a;defined(e)&&defined(h)&&(i.horiz&&!i.reversed||!i.horiz&&i.reversed?(s=a+n*this.to,o=a+n*this.from):(s=a+n*(1-this.from),o=a+n*(1-this.to)),pick(this.options.liveRedraw,H.svg&&!H.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===t.DOMType||!defined(t.DOMType)?i.setExtremes(o,s,!0,"mousemove"!==t.DOMType,t):this.setRange(this.from,this.to))}))}),addEvent(i,"afterRender",function(){var i,t,s,o=Math.min(pick(this.options.min,this.min),this.min,pick(this.dataMin,this.min)),e=Math.max(pick(this.options.max,this.max),this.max,pick(this.dataMax,this.max)),h=this.scrollbar,a=this.axisTitleMargin+(this.titleOffset||0),n=this.chart.scrollbarsOffsets,r=this.options.margin||0;h&&(this.horiz?(this.opposite||(n[1]+=a),h.position(this.left,this.top+this.height+2+n[1]-(this.opposite?r:0),this.width,this.height),this.opposite||(n[1]+=r),i=1):(this.opposite&&(n[0]+=a),h.position(this.left+this.width+2+n[0]-(this.opposite?0:r),this.top,this.width,this.height),this.opposite&&(n[0]+=r),i=0),n[i]+=h.size+h.options.margin,isNaN(o)||isNaN(e)||!defined(this.min)||!defined(this.max)||this.min===this.max?h.setRange(0,1):(t=(this.min-o)/(e-o),s=(this.max-o)/(e-o),this.horiz&&!this.reversed||!this.horiz&&this.reversed?h.setRange(t,s):h.setRange(1-s,1-t)))}),addEvent(i,"afterGetOffset",function(){var i=this.horiz?2:1,t=this.scrollbar;t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[i]+=t.size+t.options.margin)})},i}();export default ScrollbarAxis;