import BaseSeries from"../Core/Series/Series.js";import U from"../Core/Utilities.js";var isNumber=U.isNumber,merge=U.merge,pick=U.pick,relativeLength=U.relativeLength;import"./ColumnSeries.js";var columnProto=BaseSeries.seriesTypes.column.prototype;BaseSeries.seriesType("bullet","column",{targetOptions:{width:"140%",height:3,borderWidth:0},tooltip:{pointFormat:'<span style="color:{series.color}">‚óè</span> {series.name}: <b>{point.y}</b>. Target: <b>{point.target}</b><br/>'}},{pointArrayMap:["y","target"],parallelArrays:["x","y","target"],drawPoints:function(){var t=this,r=t.chart,e=t.options,o=e.animationLimit||250;columnProto.drawPoints.apply(this),t.points.forEach(function(i){var a,s,n,l,p,h,c=i.options,d=i.targetGraphic,m=i.target,g=i.y;isNumber(m)&&null!==m?(l=(p=merge(e.targetOptions,c.targetOptions)).height,a=i.shapeArgs,n=relativeLength(p.width,a.width),h=t.yAxis.translate(m,!1,!0,!1,!0)-p.height/2-.5,s=t.crispCol.apply({chart:r,borderWidth:p.borderWidth,options:{crisp:e.crisp}},[a.x+a.width/2-n/2,h,n,l]),d?(d[r.pointCount<o?"animate":"attr"](s),isNumber(g)&&null!==g?d.element.point=i:d.element.point=void 0):i.targetGraphic=d=r.renderer.rect().attr(s).add(t.group),r.styledMode||d.attr({fill:pick(p.color,c.color,t.zones.length&&(i.getZone.call({series:t,x:i.x,y:m,options:{}}).color||t.color)||void 0,i.color,t.color),stroke:pick(p.borderColor,i.borderColor,t.options.borderColor),"stroke-width":p.borderWidth}),isNumber(g)&&null!==g&&(d.element.point=i),d.addClass(i.getClassName()+" highcharts-bullet-target",!0)):d&&(i.targetGraphic=d.destroy())})},getExtremes:function(t){var r=this.targetData,e=columnProto.getExtremes.call(this,t);if(r&&r.length){var o=columnProto.getExtremes.call(this,r);isNumber(o.dataMin)&&(e.dataMin=Math.min(pick(e.dataMin,1/0),o.dataMin)),isNumber(o.dataMax)&&(e.dataMax=Math.max(pick(e.dataMax,-1/0),o.dataMax))}return e}},{destroy:function(){this.targetGraphic&&(this.targetGraphic=this.targetGraphic.destroy()),columnProto.pointClass.prototype.destroy.apply(this,arguments)}});