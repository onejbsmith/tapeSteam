import BaseSeries from"../Core/Series/Series.js";import H from"../Core/Globals.js";var noop=H.noop;import U from"../Core/Utilities.js";var clamp=U.clamp,isNumber=U.isNumber,merge=U.merge,pick=U.pick,pInt=U.pInt;import"../Core/Options.js";import"../Core/Series/Point.js";import"../Series/LineSeries.js";import"../Core/Interaction.js";var Series=H.Series,TrackerMixin=H.TrackerMixin;BaseSeries.seriesType("gauge","line",{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,r=this.options,e=t.center;this.generatePoints(),this.points.forEach(function(i){var a=merge(r.dial,i.dial),o=pInt(pick(a.radius,"80%"))*e[2]/200,s=pInt(pick(a.baseLength,"70%"))*o/110,n=pInt(pick(a.rearLength,"10%"))*o/110,p=a.baseWidth||3,c=a.topWidth||1,d=r.overshoot,h=t.startAngleRad+t.translate(i.y,null,null,null,!0);(isNumber(d)||!1===r.wrap)&&(d=isNumber(d)?d/180*Math.PI:0,h=clamp(h,t.startAngleRad-d,t.endAngleRad+d)),h=180*h/Math.PI,i.shapeType="path";var l=a.path||[["M",-n,-p/2],["L",s,-p/2],["L",o,-c/2],["L",o,c/2],["L",s,p/2],["L",-n,p/2],["Z"]];i.shapeArgs={d:l,translateX:e[0],translateY:e[1],rotation:h},i.plotX=e[0],i.plotY=e[1]})},drawPoints:function(){var t=this,r=t.chart,e=t.yAxis.center,i=t.pivot,a=t.options,o=a.pivot,s=r.renderer;t.points.forEach(function(e){var i=e.graphic,o=e.shapeArgs,n=o.d,p=merge(a.dial,e.dial);i?(i.animate(o),o.d=n):e.graphic=s[e.shapeType](o).attr({rotation:o.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),r.styledMode||e.graphic[i?"animate":"attr"]({stroke:p.borderColor||"none","stroke-width":p.borderWidth||0,fill:p.backgroundColor||"#000000"})}),i?i.animate({translateX:e[0],translateY:e[1]}):(t.pivot=s.circle(0,0,pick(o.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(e[0],e[1]).add(t.group),r.styledMode||t.pivot.attr({"stroke-width":o.borderWidth||0,stroke:o.borderColor||"#cccccc",fill:o.backgroundColor||"#000000"}))},animate:function(t){var r=this;t||r.points.forEach(function(t){var e=t.graphic;e&&(e.attr({rotation:180*r.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},r.options.animation))})},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),Series.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,r){Series.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),pick(r,!0)&&this.chart.redraw()},hasData:function(){return!!this.points.length},drawTracker:TrackerMixin&&TrackerMixin.drawTrackerPoint},{setState:function(t){this.state=t}});
