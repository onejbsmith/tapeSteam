import BaseSeries from"../Core/Series/Series.js";import O from"../Core/Options.js";var defaultOptions=O.defaultOptions;import U from"../Core/Utilities.js";var merge=U.merge;import"./ColumnSeries.js";import"./OHLCSeries.js";var columnProto=BaseSeries.seriesTypes.column.prototype,candlestickOptions={states:{hover:{lineWidth:2}},tooltip:defaultOptions.plotOptions.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0};BaseSeries.seriesType("candlestick","ohlc",merge(defaultOptions.plotOptions.column,candlestickOptions),{pointAttribs:function(o,t){var i,e=columnProto.pointAttribs.call(this,o,t),r=this.options,s=o.open<o.close,l=r.lineColor||this.color;return e["stroke-width"]=r.lineWidth,e.fill=o.options.color||s&&r.upColor||this.color,e.stroke=o.options.lineColor||s&&r.upLineColor||l,t&&(i=r.states[t],e.fill=i.color||e.fill,e.stroke=i.lineColor||e.stroke,e["stroke-width"]=i.lineWidth||e["stroke-width"]),e},drawPoints:function(){var o=this,t=o.points,i=o.chart,e=o.yAxis.reversed;t.forEach(function(t){var r,s,l,n,a,p,h,d,c,u,m=t.graphic,f=!m;void 0!==t.plotY&&(m||(t.graphic=m=i.renderer.path().add(o.group)),o.chart.styledMode||m.attr(o.pointAttribs(t,t.selected&&"select")).shadow(o.options.shadow),h=m.strokeWidth()%2/2,d=Math.round(t.plotX)-h,r=t.plotOpen,s=t.plotClose,l=Math.min(r,s),n=Math.max(r,s),u=Math.round(t.shapeArgs.width/2),a=e?n!==t.yBottom:Math.round(l)!==Math.round(t.plotHigh),p=e?Math.round(l)!==Math.round(t.plotHigh):n!==t.yBottom,l=Math.round(l)+h,n=Math.round(n)+h,(c=[]).push(["M",d-u,n],["L",d-u,l],["L",d+u,l],["L",d+u,n],["Z"],["M",d,l],["L",d,a?Math.round(e?t.yBottom:t.plotHigh):l],["M",d,n],["L",d,p?Math.round(e?t.plotHigh:t.yBottom):n]),m[f?"attr":"animate"]({d:c}).addClass(t.getClassName(),!0))})}});